#ifdef OMC_BASE_FILE
#define OMC_FILE OMC_BASE_FILE
#else
#define OMC_FILE "/home/mahge/dev/OpenModelica/OMCompiler/Compiler/boot/build/tmp/Types.c"
#endif
#include "omc_simulation_settings.h"
#include "Types.h"
#define _OMC_LIT0_data "Types.getMetaRecordFields called on a non-singleton uniontype: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT0,63,_OMC_LIT0_data);
#define _OMC_LIT0 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT0)
#define _OMC_LIT1_data "/home/mahge/dev/OpenModelica/OMCompiler/Compiler/FrontEnd/Types.mo"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT1,66,_OMC_LIT1_data);
#define _OMC_LIT1 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT1)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT2_6,1605721860.0);
#define _OMC_LIT2_6 MMC_REFREALLIT(_OMC_LIT_STRUCT2_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT2,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT1,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(8634)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(8634)),MMC_IMMEDIATE(MMC_TAGFIXNUM(125)),_OMC_LIT2_6}};
#define _OMC_LIT2 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT2)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT3_6,1605721860.0);
#define _OMC_LIT3_6 MMC_REFREALLIT(_OMC_LIT_STRUCT3_6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT3,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT1,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(8643)),MMC_IMMEDIATE(MMC_TAGFIXNUM(9)),MMC_IMMEDIATE(MMC_TAGFIXNUM(8643)),MMC_IMMEDIATE(MMC_TAGFIXNUM(125)),_OMC_LIT3_6}};
#define _OMC_LIT3 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT3)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT4,2,4) {&DAE_Type_T__REAL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT4 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT4)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT5,1,11) {&DAE_Type_T__UNKNOWN__desc,}};
#define _OMC_LIT5 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT5)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT6,2,3) {&DAE_Type_T__INTEGER__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT6 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT6)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT7,2,5) {&DAE_Type_T__STRING__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT7 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT7)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT8,2,6) {&DAE_Type_T__BOOL__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT8 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT8)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT9,2,7) {&DAE_Type_T__CLOCK__desc,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT9 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT9)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT10,1,7) {&DAE_Dimension_DIM__UNKNOWN__desc,}};
#define _OMC_LIT10 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT10)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT11,1,5) {&ErrorTypes_MessageType_TRANSLATION__desc,}};
#define _OMC_LIT11 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT11)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT12,1,4) {&ErrorTypes_Severity_ERROR__desc,}};
#define _OMC_LIT12 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT12)
#define _OMC_LIT13_data "Enumeration has duplicate names: %s in list of names %s."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT13,56,_OMC_LIT13_data);
#define _OMC_LIT13 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT13)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT14,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT13}};
#define _OMC_LIT14 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT14)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT15,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(277)),_OMC_LIT11,_OMC_LIT12,_OMC_LIT14}};
#define _OMC_LIT15 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT15)
#define _OMC_LIT16_data ","
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT16,1,_OMC_LIT16_data);
#define _OMC_LIT16 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT16)
#define _OMC_LIT17_data "Ignoring record component:\n%swhen building the record constructor. Records are allowed to contain only components of basic types, arrays of basic types or other records."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT17,169,_OMC_LIT17_data);
#define _OMC_LIT17 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT17)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT18,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT17}};
#define _OMC_LIT18 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT18)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT19,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(549)),_OMC_LIT11,_OMC_LIT12,_OMC_LIT18}};
#define _OMC_LIT19 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT19)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT20,1,5) {&DAE_Const_C__VAR__desc,}};
#define _OMC_LIT20 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT20)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT21,1,5) {&DAE_VarParallelism_NON__PARALLEL__desc,}};
#define _OMC_LIT21 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT21)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT22,1,3) {&DAE_TailCall_NO__TAIL__desc,}};
#define _OMC_LIT22 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT22)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT23,1,5) {&DAE_EvaluateSingletonType_NOT__SINGLETON__desc,}};
#define _OMC_LIT23 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT23)
#define _OMC_LIT24_data "."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT24,1,_OMC_LIT24_data);
#define _OMC_LIT24 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT24)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT25,1,5) {&ErrorTypes_Severity_WARNING__desc,}};
#define _OMC_LIT25 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT25)
#define _OMC_LIT26_data "Integer (%s) to enumeration (%s) conversion is not valid Modelica, please use enumeration constant (%s) instead."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT26,112,_OMC_LIT26_data);
#define _OMC_LIT26 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT26)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT27,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT26}};
#define _OMC_LIT27 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT27)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT28,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(541)),_OMC_LIT11,_OMC_LIT25,_OMC_LIT27}};
#define _OMC_LIT28 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT28)
#define _OMC_LIT29_data ""
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT29,0,_OMC_LIT29_data);
#define _OMC_LIT29 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT29)
#define _OMC_LIT30_data "The Integer to %s conversion failed, as the Integer %s is outside the range (1, ..., %s) of values corresponding to enumeration constants."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT30,138,_OMC_LIT30_data);
#define _OMC_LIT30 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT30)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT31,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT30}};
#define _OMC_LIT31 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT31)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT32,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(542)),_OMC_LIT11,_OMC_LIT12,_OMC_LIT31}};
#define _OMC_LIT32 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT32)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT33,1,3) {&ErrorTypes_Severity_INTERNAL__desc,}};
#define _OMC_LIT33 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT33)
#define _OMC_LIT34_data "The Integer (%s) to enumeration conversion failed because information about the the enumeration type is missing."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT34,112,_OMC_LIT34_data);
#define _OMC_LIT34 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT34)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT35,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT34}};
#define _OMC_LIT35 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT35)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT36,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(543)),_OMC_LIT11,_OMC_LIT33,_OMC_LIT35}};
#define _OMC_LIT36 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT36)
#define _OMC_LIT37_data "Got type mismatch error, but matching types %s.\nThis is a ***COMPILER BUG***, please report it to https://trac.openmodelica.org/OpenModelica."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT37,141,_OMC_LIT37_data);
#define _OMC_LIT37 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT37)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT38,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT37}};
#define _OMC_LIT38 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT38)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT39,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(248)),_OMC_LIT11,_OMC_LIT12,_OMC_LIT38}};
#define _OMC_LIT39 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT39)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT40,1,5) {&SCode_Variability_PARAM__desc,}};
#define _OMC_LIT40 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT40)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT41,1,6) {&SCode_Variability_CONST__desc,}};
#define _OMC_LIT41 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT41)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT42,2,1) {_OMC_LIT41,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT42 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT42)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT43,2,1) {_OMC_LIT40,_OMC_LIT42}};
#define _OMC_LIT43 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT43)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT44,2,1) {_OMC_LIT10,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT44 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT44)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT45,2,3) {&DAE_Exp_ICONST__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT45 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT45)
static const MMC_DEFREALLIT(_OMC_LIT_STRUCT46,0.0);
#define _OMC_LIT46 MMC_REFREALLIT(_OMC_LIT_STRUCT46)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT47,2,4) {&DAE_Exp_RCONST__desc,_OMC_LIT46}};
#define _OMC_LIT47 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT47)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT48,2,5) {&DAE_Exp_SCONST__desc,_OMC_LIT29}};
#define _OMC_LIT48 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT48)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT49,2,6) {&DAE_Exp_BCONST__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT49 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT49)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT50,1,4) {&DAE_Const_C__PARAM__desc,}};
#define _OMC_LIT50 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT50)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT51,1,3) {&DAE_Const_C__CONST__desc,}};
#define _OMC_LIT51 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT51)
#define _OMC_LIT52_data "Array types mismatch: %s and %s."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT52,32,_OMC_LIT52_data);
#define _OMC_LIT52 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT52)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT53,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT52}};
#define _OMC_LIT53 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT53)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT54,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(193)),_OMC_LIT11,_OMC_LIT12,_OMC_LIT53}};
#define _OMC_LIT54 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT54)
#define _OMC_LIT55_data "failtrace"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT55,9,_OMC_LIT55_data);
#define _OMC_LIT55 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT55)
#define _OMC_LIT56_data "Sets whether to print a failtrace or not."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT56,41,_OMC_LIT56_data);
#define _OMC_LIT56 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT56)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT57,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT56}};
#define _OMC_LIT57 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT57)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT58,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1)),_OMC_LIT55,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT57}};
#define _OMC_LIT58 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT58)
#define _OMC_LIT59_data "- Types.varsToValues failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT59,28,_OMC_LIT59_data);
#define _OMC_LIT59 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT59)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT60,2,3) {&Values_Value_INTEGER__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT60 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT60)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT61,2,4) {&Values_Value_REAL__desc,_OMC_LIT46}};
#define _OMC_LIT61 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT61)
#define _OMC_LIT62_data "<EMPTY>"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT62,7,_OMC_LIT62_data);
#define _OMC_LIT62 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT62)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT63,2,5) {&Values_Value_STRING__desc,_OMC_LIT62}};
#define _OMC_LIT63 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT63)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT64,2,6) {&Values_Value_BOOL__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT64 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT64)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT65,1,18) {&Values_Value_META__FAIL__desc,}};
#define _OMC_LIT65 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT65)
#define _OMC_LIT66_data "- Types.typeToValue failed on unhandled Type "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT66,45,_OMC_LIT66_data);
#define _OMC_LIT66 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT66)
#define _OMC_LIT67_data "OpenModelica.Code.Expression"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT67,28,_OMC_LIT67_data);
#define _OMC_LIT67 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT67)
#define _OMC_LIT68_data "OpenModelica.Code.ExpressionOrModification"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT68,42,_OMC_LIT68_data);
#define _OMC_LIT68 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT68)
#define _OMC_LIT69_data "OpenModelica.Code.Modification"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT69,30,_OMC_LIT69_data);
#define _OMC_LIT69 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT69)
#define _OMC_LIT70_data "OpenModelica.Code.TypeName"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT70,26,_OMC_LIT70_data);
#define _OMC_LIT70 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT70)
#define _OMC_LIT71_data "OpenModelica.Code.VariableName"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT71,30,_OMC_LIT71_data);
#define _OMC_LIT71 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT71)
#define _OMC_LIT72_data "OpenModelica.Code.VariableNames"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT72,31,_OMC_LIT72_data);
#define _OMC_LIT72 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT72)
#define _OMC_LIT73_data "Types.printCodeTypeStr failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT73,29,_OMC_LIT73_data);
#define _OMC_LIT73 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT73)
#define _OMC_LIT74_data "Types.traverseType not implemented correctly: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT74,46,_OMC_LIT74_data);
#define _OMC_LIT74 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT74)
#define _OMC_LIT75_data "Internal error %s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT75,17,_OMC_LIT75_data);
#define _OMC_LIT75 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT75)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT76,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT75}};
#define _OMC_LIT76 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT76)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT77,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(63)),_OMC_LIT11,_OMC_LIT12,_OMC_LIT76}};
#define _OMC_LIT77 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT77)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT78,2,3) {&DAE_Dimension_DIM__INTEGER__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(2))}};
#define _OMC_LIT78 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT78)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT79,2,1) {_OMC_LIT78,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT79 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT79)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT80,2,26) {&DAE_Type_T__METABOXED__desc,_OMC_LIT5}};
#define _OMC_LIT80 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT80)
#define _OMC_LIT81_data "$"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT81,1,_OMC_LIT81_data);
#define _OMC_LIT81 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT81)
#define _OMC_LIT82_data "$$"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT82,2,_OMC_LIT82_data);
#define _OMC_LIT82 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT82)
#define _OMC_LIT83_data "$TOP$"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT83,5,_OMC_LIT83_data);
#define _OMC_LIT83 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT83)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT84,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT83}};
#define _OMC_LIT84 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT84)
#define _OMC_LIT85_data "Could not solve the polymorphism in the function call to %s\n  Input bindings:\n%s\n  Solved bindings:\n%s\n  Unsolved bindings:\n%s"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT85,126,_OMC_LIT85_data);
#define _OMC_LIT85 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT85)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT86,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT85}};
#define _OMC_LIT86 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT86)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT87,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(5010)),_OMC_LIT11,_OMC_LIT12,_OMC_LIT86}};
#define _OMC_LIT87 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT87)
#define _OMC_LIT88_data "#DummyExp#"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT88,10,_OMC_LIT88_data);
#define _OMC_LIT88 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT88)
#define _OMC_LIT89_data "Types.fixPolymorphicRestype failed for type: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT89,45,_OMC_LIT89_data);
#define _OMC_LIT89 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT89)
#define _OMC_LIT90_data " using bindings: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT90,17,_OMC_LIT90_data);
#define _OMC_LIT90 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT90)
#define _OMC_LIT91_data "\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT91,1,_OMC_LIT91_data);
#define _OMC_LIT91 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT91)
#define _OMC_LIT92_data "    "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT92,4,_OMC_LIT92_data);
#define _OMC_LIT92 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT92)
#define _OMC_LIT93_data ":\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT93,2,_OMC_LIT93_data);
#define _OMC_LIT93 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT93)
#define _OMC_LIT94_data "      "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT94,6,_OMC_LIT94_data);
#define _OMC_LIT94 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT94)
#define _OMC_LIT95_data "- Types."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT95,8,_OMC_LIT95_data);
#define _OMC_LIT95 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT95)
#define _OMC_LIT96_data " failed on:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT96,11,_OMC_LIT96_data);
#define _OMC_LIT96 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT96)
#define _OMC_LIT97_data "  type:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT97,7,_OMC_LIT97_data);
#define _OMC_LIT97 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT97)
#define _OMC_LIT98_data " differs from expected\n  type:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT98,30,_OMC_LIT98_data);
#define _OMC_LIT98 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT98)
#define _OMC_LIT99_data "- Types.matchTypes failed for "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT99,30,_OMC_LIT99_data);
#define _OMC_LIT99 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT99)
#define _OMC_LIT100_data " from "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT100,6,_OMC_LIT100_data);
#define _OMC_LIT100 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT100)
#define _OMC_LIT101_data " to "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT101,4,_OMC_LIT101_data);
#define _OMC_LIT101 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT101)
#define _OMC_LIT102_data "types"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT102,5,_OMC_LIT102_data);
#define _OMC_LIT102 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT102)
#define _OMC_LIT103_data "Prints extra failtrace from Types."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT103,34,_OMC_LIT103_data);
#define _OMC_LIT103 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT103)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT104,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT103}};
#define _OMC_LIT104 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT104)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT105,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(27)),_OMC_LIT102,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT104}};
#define _OMC_LIT105 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT105)
#define _OMC_LIT106_data "matchType"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT106,9,_OMC_LIT106_data);
#define _OMC_LIT106 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT106)
#define _OMC_LIT107_data "Expression '%1' has type %3, expected type %2."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT107,46,_OMC_LIT107_data);
#define _OMC_LIT107 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT107)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT108,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT107}};
#define _OMC_LIT108 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT108)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT109,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(246)),_OMC_LIT11,_OMC_LIT12,_OMC_LIT108}};
#define _OMC_LIT109 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT109)
#define _OMC_LIT110_data "- Types.listMatchSuperType2 failed: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT110,36,_OMC_LIT110_data);
#define _OMC_LIT110 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT110)
#define _OMC_LIT111_data "- Types.listMatchSuperType failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT111,34,_OMC_LIT111_data);
#define _OMC_LIT111 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT111)
#define _OMC_LIT112_data "-- Types.getAllExpsBinding failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT112,34,_OMC_LIT112_data);
#define _OMC_LIT112 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT112)
#define _OMC_LIT113_data "-- Types.getAllExpsTt failed "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT113,29,_OMC_LIT113_data);
#define _OMC_LIT113 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT113)
#define _OMC_LIT114_data "DAE.PROP("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT114,9,_OMC_LIT114_data);
#define _OMC_LIT114 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT114)
#define _OMC_LIT115_data ", "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT115,2,_OMC_LIT115_data);
#define _OMC_LIT115 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT115)
#define _OMC_LIT116_data ")"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT116,1,_OMC_LIT116_data);
#define _OMC_LIT116 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT116)
#define _OMC_LIT117_data "DAE.PROP_TUPLE("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT117,15,_OMC_LIT117_data);
#define _OMC_LIT117 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT117)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT118,1,6) {&DAE_Const_C__UNKNOWN__desc,}};
#define _OMC_LIT118 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT118)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT119,2,3) {&DAE_Dimension_DIM__INTEGER__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1))}};
#define _OMC_LIT119 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT119)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT120,2,1) {_OMC_LIT119,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT120 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT120)
#define _OMC_LIT121_data "- Types.matchWithPromote failed on: \nprop1: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT121,44,_OMC_LIT121_data);
#define _OMC_LIT121 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT121)
#define _OMC_LIT122_data "\nprop2: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT122,8,_OMC_LIT122_data);
#define _OMC_LIT122 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT122)
#define _OMC_LIT123_data "\nhaveReal: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT123,11,_OMC_LIT123_data);
#define _OMC_LIT123 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT123)
#define _OMC_LIT124_data "true"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT124,4,_OMC_LIT124_data);
#define _OMC_LIT124 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT124)
#define _OMC_LIT125_data "false"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT125,5,_OMC_LIT125_data);
#define _OMC_LIT125 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT125)
#define _OMC_LIT126_data "- typeConvertMatrixToList failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT126,33,_OMC_LIT126_data);
#define _OMC_LIT126 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT126)
#define _OMC_LIT127_data "acceptTooManyFields"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT127,19,_OMC_LIT127_data);
#define _OMC_LIT127 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT127)
#define _OMC_LIT128_data "Accepts passing records with more fields than expected to a function. This is not allowed, but is used in Fluid.Dissipation. See https://trac.modelica.org/Modelica/ticket/1245 for details."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT128,188,_OMC_LIT128_data);
#define _OMC_LIT128 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT128)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT129,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT128}};
#define _OMC_LIT129 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT129)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT130,5,3) {&Flags_DebugFlag_DEBUG__FLAG__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(105)),_OMC_LIT127,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT129}};
#define _OMC_LIT130 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT130)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT131,2,34) {&DAE_Exp_META__OPTION__desc,MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT131 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT131)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT132,8,3) {&SourceInfo_SOURCEINFO__desc,_OMC_LIT29,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),_OMC_LIT46}};
#define _OMC_LIT132 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT132)
#define _OMC_LIT133_data "- Not yet implemented: Converting record into boxed records: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT133,61,_OMC_LIT133_data);
#define _OMC_LIT133 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT133)
#define _OMC_LIT134_data "mmc_unbox_record"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT134,16,_OMC_LIT134_data);
#define _OMC_LIT134 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT134)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT135,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT134}};
#define _OMC_LIT135 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT135)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT136,1,7) {&DAE_InlineType_NO__INLINE__desc,}};
#define _OMC_LIT136 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT136)
#define _OMC_LIT137_data "- matchTypeTupleCall failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT137,28,_OMC_LIT137_data);
#define _OMC_LIT137 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT137)
#define _OMC_LIT138_data "- Types.matchTypeTuple failed:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT138,30,_OMC_LIT138_data);
#define _OMC_LIT138 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT138)
#define _OMC_LIT139_data " "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT139,1,_OMC_LIT139_data);
#define _OMC_LIT139 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT139)
#define _OMC_LIT140_data "- Types.matchProp failed on exp: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT140,33,_OMC_LIT140_data);
#define _OMC_LIT140 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT140)
#define _OMC_LIT141_data " != "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT141,4,_OMC_LIT141_data);
#define _OMC_LIT141 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT141)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT142,1,10) {&DAE_Type_T__NORETCALL__desc,}};
#define _OMC_LIT142 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT142)
#define _OMC_LIT143_data "Types.simplifyType failed for: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT143,31,_OMC_LIT143_data);
#define _OMC_LIT143 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT143)
#define _OMC_LIT144_data "- prop_tuple_all_const failed: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT144,31,_OMC_LIT144_data);
#define _OMC_LIT144 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT144)
#define _OMC_LIT145_data "- prop_tuple_any_const failed: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT145,31,_OMC_LIT145_data);
#define _OMC_LIT145 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT145)
#define _OMC_LIT146_data "- prop_any_const failed: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT146,25,_OMC_LIT146_data);
#define _OMC_LIT146 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT146)
#define _OMC_LIT147_data "- prop_all_const failed: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT147,25,_OMC_LIT147_data);
#define _OMC_LIT147 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT147)
#define _OMC_LIT148_data "Integer"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT148,7,_OMC_LIT148_data);
#define _OMC_LIT148 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT148)
#define _OMC_LIT149_data "Real"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT149,4,_OMC_LIT149_data);
#define _OMC_LIT149 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT149)
#define _OMC_LIT150_data "String"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT150,6,_OMC_LIT150_data);
#define _OMC_LIT150 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT150)
#define _OMC_LIT151_data "Boolean"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT151,7,_OMC_LIT151_data);
#define _OMC_LIT151 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT151)
#define _OMC_LIT152_data "Clock"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT152,5,_OMC_LIT152_data);
#define _OMC_LIT152 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT152)
#define _OMC_LIT153_data "["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT153,1,_OMC_LIT153_data);
#define _OMC_LIT153 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT153)
#define _OMC_LIT154_data "]"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT154,1,_OMC_LIT154_data);
#define _OMC_LIT154 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT154)
#define _OMC_LIT155_data "Not nameable type or no type"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT155,28,_OMC_LIT155_data);
#define _OMC_LIT155 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT155)
#define _OMC_LIT156_data "Record '"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT156,8,_OMC_LIT156_data);
#define _OMC_LIT156 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT156)
#define _OMC_LIT157_data "' member '"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT157,10,_OMC_LIT157_data);
#define _OMC_LIT157 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT157)
#define _OMC_LIT158_data "' has no default value and is not modifiable by a constructor function.\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT158,72,_OMC_LIT158_data);
#define _OMC_LIT158 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT158)
#define _OMC_LIT159_data "Protected record member %s has no binding and is not modifiable by a record constructor."
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT159,88,_OMC_LIT159_data);
#define _OMC_LIT159 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT159)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT160,2,3) {&Gettext_TranslatableContent_gettext__desc,_OMC_LIT159}};
#define _OMC_LIT160 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT160)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT161,5,3) {&ErrorTypes_Message_MESSAGE__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(156)),_OMC_LIT11,_OMC_LIT25,_OMC_LIT160}};
#define _OMC_LIT161 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT161)
#define _OMC_LIT162_data "fixed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT162,5,_OMC_LIT162_data);
#define _OMC_LIT162 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT162)
#define _OMC_LIT163_data "- Types.makeEnumerationType failed on "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT163,38,_OMC_LIT163_data);
#define _OMC_LIT163 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT163)
#define _OMC_LIT164_data "UNBOUND"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT164,7,_OMC_LIT164_data);
#define _OMC_LIT164 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT164)
#define _OMC_LIT165_data "DAE.EQBOUND("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT165,12,_OMC_LIT165_data);
#define _OMC_LIT165 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT165)
#define _OMC_LIT166_data ", NONE(), "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT166,10,_OMC_LIT166_data);
#define _OMC_LIT166 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT166)
#define _OMC_LIT167_data ", SOME("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT167,7,_OMC_LIT167_data);
#define _OMC_LIT167 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT167)
#define _OMC_LIT168_data "), "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT168,3,_OMC_LIT168_data);
#define _OMC_LIT168 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT168)
#define _OMC_LIT169_data "DAE.VALBOUND("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT169,13,_OMC_LIT169_data);
#define _OMC_LIT169 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT169)
#define _OMC_LIT170_data " := "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT170,4,_OMC_LIT170_data);
#define _OMC_LIT170 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT170)
#define _OMC_LIT171_data "flow "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT171,5,_OMC_LIT171_data);
#define _OMC_LIT171 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT171)
#define _OMC_LIT172_data "stream "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT172,7,_OMC_LIT172_data);
#define _OMC_LIT172 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT172)
#define _OMC_LIT173_data "  "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT173,2,_OMC_LIT173_data);
#define _OMC_LIT173 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT173)
#define _OMC_LIT174_data ";\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT174,2,_OMC_LIT174_data);
#define _OMC_LIT174 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT174)
#define _OMC_LIT175_data " = "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT175,3,_OMC_LIT175_data);
#define _OMC_LIT175 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT175)
#define _OMC_LIT176_data " :: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT176,4,_OMC_LIT176_data);
#define _OMC_LIT176 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT176)
#define _OMC_LIT177_data " * "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT177,3,_OMC_LIT177_data);
#define _OMC_LIT177 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT177)
#define _OMC_LIT178_data "/* expandable */ "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT178,17,_OMC_LIT178_data);
#define _OMC_LIT178 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT178)
#define _OMC_LIT179_data "{"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT179,1,_OMC_LIT179_data);
#define _OMC_LIT179 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT179)
#define _OMC_LIT180_data "}"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT180,1,_OMC_LIT180_data);
#define _OMC_LIT180 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT180)
#define _OMC_LIT181_data " subtype of: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT181,13,_OMC_LIT181_data);
#define _OMC_LIT181 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT181)
#define _OMC_LIT182_data "("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT182,1,_OMC_LIT182_data);
#define _OMC_LIT182 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT182)
#define _OMC_LIT183_data "Enumeration"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT183,11,_OMC_LIT183_data);
#define _OMC_LIT183 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT183)
#define _OMC_LIT184_data "composite("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT184,10,_OMC_LIT184_data);
#define _OMC_LIT184 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT184)
#define _OMC_LIT185_data "}, derived from "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT185,16,_OMC_LIT185_data);
#define _OMC_LIT185 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT185)
#define _OMC_LIT186_data "})"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT186,2,_OMC_LIT186_data);
#define _OMC_LIT186 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT186)
#define _OMC_LIT187_data "array("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT187,6,_OMC_LIT187_data);
#define _OMC_LIT187 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT187)
#define _OMC_LIT188_data ")["
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT188,2,_OMC_LIT188_data);
#define _OMC_LIT188 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT188)
#define _OMC_LIT189_data "function("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT189,9,_OMC_LIT189_data);
#define _OMC_LIT189 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT189)
#define _OMC_LIT190_data ") => "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT190,5,_OMC_LIT190_data);
#define _OMC_LIT190 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT190)
#define _OMC_LIT191_data "list<"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT191,5,_OMC_LIT191_data);
#define _OMC_LIT191 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT191)
#define _OMC_LIT192_data ">"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT192,1,_OMC_LIT192_data);
#define _OMC_LIT192 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT192)
#define _OMC_LIT193_data "Option<"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT193,7,_OMC_LIT193_data);
#define _OMC_LIT193 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT193)
#define _OMC_LIT194_data "array<"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT194,6,_OMC_LIT194_data);
#define _OMC_LIT194 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT194)
#define _OMC_LIT195_data "boxed<"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT195,6,_OMC_LIT195_data);
#define _OMC_LIT195 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT195)
#define _OMC_LIT196_data "polymorphic<"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT196,12,_OMC_LIT196_data);
#define _OMC_LIT196 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT196)
#define _OMC_LIT197_data "T_UNKNOWN"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT197,9,_OMC_LIT197_data);
#define _OMC_LIT197 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT197)
#define _OMC_LIT198_data "ANYTYPE()"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT198,9,_OMC_LIT198_data);
#define _OMC_LIT198 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT198)
#define _OMC_LIT199_data "ANYTYPE("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT199,8,_OMC_LIT199_data);
#define _OMC_LIT199 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT199)
#define _OMC_LIT200_data "()"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT200,2,_OMC_LIT200_data);
#define _OMC_LIT200 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT200)
#define _OMC_LIT201_data "METATYPE("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT201,9,_OMC_LIT201_data);
#define _OMC_LIT201 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT201)
#define _OMC_LIT202_data "#"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT202,1,_OMC_LIT202_data);
#define _OMC_LIT202 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT202)
#define _OMC_LIT203_data "$Code(Expression)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT203,17,_OMC_LIT203_data);
#define _OMC_LIT203 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT203)
#define _OMC_LIT204_data "$Code(ExpressionOrModification)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT204,31,_OMC_LIT204_data);
#define _OMC_LIT204 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT204)
#define _OMC_LIT205_data "$Code(TypeName)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT205,15,_OMC_LIT205_data);
#define _OMC_LIT205 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT205)
#define _OMC_LIT206_data "$Code(VariableName)"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT206,19,_OMC_LIT206_data);
#define _OMC_LIT206 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT206)
#define _OMC_LIT207_data "$Code(VariableName[:])"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT207,22,_OMC_LIT207_data);
#define _OMC_LIT207 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT207)
#define _OMC_LIT208_data "Types.printTypeStr failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT208,25,_OMC_LIT208_data);
#define _OMC_LIT208 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT208)
#define _OMC_LIT209_data "C_CONST"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT209,7,_OMC_LIT209_data);
#define _OMC_LIT209 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT209)
#define _OMC_LIT210_data "C_PARAM"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT210,7,_OMC_LIT210_data);
#define _OMC_LIT210 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT210)
#define _OMC_LIT211_data "C_VAR"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT211,5,_OMC_LIT211_data);
#define _OMC_LIT211 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT211)
#define _OMC_LIT212_data "constant"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT212,8,_OMC_LIT212_data);
#define _OMC_LIT212 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT212)
#define _OMC_LIT213_data "parameter"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT213,9,_OMC_LIT213_data);
#define _OMC_LIT213 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT213)
#define _OMC_LIT214_data "continuous"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT214,10,_OMC_LIT214_data);
#define _OMC_LIT214 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT214)
#define _OMC_LIT215_data "unknown"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT215,7,_OMC_LIT215_data);
#define _OMC_LIT215 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT215)
#define _OMC_LIT216_data "Integer("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT216,8,_OMC_LIT216_data);
#define _OMC_LIT216 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT216)
#define _OMC_LIT217_data "Real("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT217,5,_OMC_LIT217_data);
#define _OMC_LIT217 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT217)
#define _OMC_LIT218_data "String("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT218,7,_OMC_LIT218_data);
#define _OMC_LIT218 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT218)
#define _OMC_LIT219_data "Boolean("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT219,8,_OMC_LIT219_data);
#define _OMC_LIT219 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT219)
#define _OMC_LIT220_data " /*"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT220,3,_OMC_LIT220_data);
#define _OMC_LIT220 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT220)
#define _OMC_LIT221_data "*/ ("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT221,4,_OMC_LIT221_data);
#define _OMC_LIT221 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT221)
#define _OMC_LIT222_data "enumeration"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT222,11,_OMC_LIT222_data);
#define _OMC_LIT222 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT222)
#define _OMC_LIT223_data "record "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT223,7,_OMC_LIT223_data);
#define _OMC_LIT223 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT223)
#define _OMC_LIT224_data "end "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT224,4,_OMC_LIT224_data);
#define _OMC_LIT224 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT224)
#define _OMC_LIT225_data ";"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT225,1,_OMC_LIT225_data);
#define _OMC_LIT225 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT225)
#define _OMC_LIT226_data "expandable "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT226,11,_OMC_LIT226_data);
#define _OMC_LIT226 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT226)
#define _OMC_LIT227_data "connector "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT227,10,_OMC_LIT227_data);
#define _OMC_LIT227 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT227)
#define _OMC_LIT228_data " bc:"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT228,4,_OMC_LIT228_data);
#define _OMC_LIT228 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT228)
#define _OMC_LIT229_data "<function>("
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT229,11,_OMC_LIT229_data);
#define _OMC_LIT229 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT229)
#define _OMC_LIT230_data "tuple<"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT230,6,_OMC_LIT230_data);
#define _OMC_LIT230 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT230)
#define _OMC_LIT231_data "<"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT231,1,_OMC_LIT231_data);
#define _OMC_LIT231 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT231)
#define _OMC_LIT232_data "Option<Any>"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT232,11,_OMC_LIT232_data);
#define _OMC_LIT232 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT232)
#define _OMC_LIT233_data "#NORETCALL#"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT233,11,_OMC_LIT233_data);
#define _OMC_LIT233 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT233)
#define _OMC_LIT234_data "#T_UNKNOWN#"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT234,11,_OMC_LIT234_data);
#define _OMC_LIT234 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT234)
#define _OMC_LIT235_data "#ANYTYPE#"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT235,9,_OMC_LIT235_data);
#define _OMC_LIT235 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT235)
#define _OMC_LIT236_data "#FUNCTION_REFERENCE_VAR#"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT236,24,_OMC_LIT236_data);
#define _OMC_LIT236 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT236)
#define _OMC_LIT237_data "#FUNCTION_REFERENCE_FUNC#"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT237,25,_OMC_LIT237_data);
#define _OMC_LIT237 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT237)
#define _OMC_LIT238_data "Internal error Types.unparseType: not implemented yet\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT238,54,_OMC_LIT238_data);
#define _OMC_LIT238 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT238)
#define _OMC_LIT239_data "NONE()"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT239,6,_OMC_LIT239_data);
#define _OMC_LIT239 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT239)
#define _OMC_LIT240_data "Can not handle this yet!!"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT240,25,_OMC_LIT240_data);
#define _OMC_LIT240 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT240)
#define _OMC_LIT241_data "quantity"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT241,8,_OMC_LIT241_data);
#define _OMC_LIT241 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT241)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT242,1,6) {&DAE_ConnectorType_NON__CONNECTOR__desc,}};
#define _OMC_LIT242 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT242)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT243,1,5) {&SCode_Parallelism_NON__PARALLEL__desc,}};
#define _OMC_LIT243 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT243)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT244,1,5) {&Absyn_Direction_BIDIR__desc,}};
#define _OMC_LIT244 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT244)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT245,1,6) {&Absyn_InnerOuter_NOT__INNER__OUTER__desc,}};
#define _OMC_LIT245 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT245)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT246,1,3) {&SCode_Visibility_PUBLIC__desc,}};
#define _OMC_LIT246 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT246)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT247,7,3) {&DAE_Attributes_ATTR__desc,_OMC_LIT242,_OMC_LIT243,_OMC_LIT40,_OMC_LIT244,_OMC_LIT245,_OMC_LIT246}};
#define _OMC_LIT247 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT247)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT248,2,5) {&Values_Value_STRING__desc,_OMC_LIT29}};
#define _OMC_LIT248 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT248)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT249,1,3) {&DAE_BindingSource_BINDING__FROM__DEFAULT__VALUE__desc,}};
#define _OMC_LIT249 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT249)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT250,3,5) {&DAE_Binding_VALBOUND__desc,_OMC_LIT248,_OMC_LIT249}};
#define _OMC_LIT250 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT250)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT251,7,3) {&DAE_Var_TYPES__VAR__desc,_OMC_LIT241,_OMC_LIT247,_OMC_LIT7,_OMC_LIT250,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT251 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT251)
#define _OMC_LIT252_data "min"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT252,3,_OMC_LIT252_data);
#define _OMC_LIT252 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT252)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT253,1,1) {MMC_IMMEDIATE(MMC_TAGFIXNUM(1))}};
#define _OMC_LIT253 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT253)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT254,2,4) {&Absyn_Path_IDENT__desc,_OMC_LIT29}};
#define _OMC_LIT254 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT254)
#define _OMC_LIT255_data "min,max"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT255,7,_OMC_LIT255_data);
#define _OMC_LIT255 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT255)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT256,2,1) {_OMC_LIT255,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT256 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT256)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT257,6,8) {&DAE_Type_T__ENUMERATION__desc,_OMC_LIT253,_OMC_LIT254,_OMC_LIT256,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT257 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT257)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT258,1,3) {&DAE_Binding_UNBOUND__desc,}};
#define _OMC_LIT258 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT258)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT259,7,3) {&DAE_Var_TYPES__VAR__desc,_OMC_LIT252,_OMC_LIT247,_OMC_LIT257,_OMC_LIT258,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT259 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT259)
#define _OMC_LIT260_data "max"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT260,3,_OMC_LIT260_data);
#define _OMC_LIT260 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT260)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT261,1,1) {MMC_IMMEDIATE(MMC_TAGFIXNUM(2))}};
#define _OMC_LIT261 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT261)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT262,6,8) {&DAE_Type_T__ENUMERATION__desc,_OMC_LIT261,_OMC_LIT254,_OMC_LIT256,MMC_REFSTRUCTLIT(mmc_nil),MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT262 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT262)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT263,7,3) {&DAE_Var_TYPES__VAR__desc,_OMC_LIT260,_OMC_LIT247,_OMC_LIT262,_OMC_LIT258,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT263 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT263)
#define _OMC_LIT264_data "start"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT264,5,_OMC_LIT264_data);
#define _OMC_LIT264 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT264)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT265,7,3) {&DAE_Var_TYPES__VAR__desc,_OMC_LIT264,_OMC_LIT247,_OMC_LIT8,_OMC_LIT258,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT265 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT265)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT266,7,3) {&DAE_Var_TYPES__VAR__desc,_OMC_LIT162,_OMC_LIT247,_OMC_LIT8,_OMC_LIT258,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT266 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT266)
#define _OMC_LIT267_data "enable"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT267,6,_OMC_LIT267_data);
#define _OMC_LIT267 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT267)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT268,2,6) {&Values_Value_BOOL__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(1))}};
#define _OMC_LIT268 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT268)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT269,3,5) {&DAE_Binding_VALBOUND__desc,_OMC_LIT268,_OMC_LIT249}};
#define _OMC_LIT269 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT269)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT270,7,3) {&DAE_Var_TYPES__VAR__desc,_OMC_LIT267,_OMC_LIT247,_OMC_LIT8,_OMC_LIT269,MMC_IMMEDIATE(MMC_TAGFIXNUM(0)),MMC_REFSTRUCTLIT(mmc_none)}};
#define _OMC_LIT270 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT270)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT271,1,4) {&SCode_Visibility_PROTECTED__desc,}};
#define _OMC_LIT271 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT271)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT272,1,3) {&SCode_Variability_VAR__desc,}};
#define _OMC_LIT272 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT272)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT273,1,3) {&Absyn_Direction_INPUT__desc,}};
#define _OMC_LIT273 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT273)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT274,2,3) {&DAE_Dimension_DIM__INTEGER__desc,MMC_IMMEDIATE(MMC_TAGFIXNUM(0))}};
#define _OMC_LIT274 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT274)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT275,2,1) {_OMC_LIT274,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT275 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT275)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT276,3,9) {&DAE_Type_T__ARRAY__desc,_OMC_LIT5,_OMC_LIT275}};
#define _OMC_LIT276 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT276)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT277,2,22) {&DAE_Type_T__METAOPTION__desc,_OMC_LIT5}};
#define _OMC_LIT277 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT277)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT278,2,25) {&DAE_Type_T__METAARRAY__desc,_OMC_LIT5}};
#define _OMC_LIT278 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT278)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT279,1,6) {&DAE_CodeType_C__TYPENAME__desc,}};
#define _OMC_LIT279 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT279)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT280,2,18) {&DAE_Type_T__CODE__desc,_OMC_LIT279}};
#define _OMC_LIT280 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT280)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT281,1,7) {&DAE_CodeType_C__VARIABLENAME__desc,}};
#define _OMC_LIT281 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT281)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT282,2,18) {&DAE_Type_T__CODE__desc,_OMC_LIT281}};
#define _OMC_LIT282 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT282)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT283,1,3) {&DAE_CodeType_C__EXPRESSION__desc,}};
#define _OMC_LIT283 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT283)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT284,2,18) {&DAE_Type_T__CODE__desc,_OMC_LIT283}};
#define _OMC_LIT284 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT284)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT285,1,5) {&DAE_CodeType_C__MODIFICATION__desc,}};
#define _OMC_LIT285 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT285)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT286,2,18) {&DAE_Type_T__CODE__desc,_OMC_LIT285}};
#define _OMC_LIT286 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT286)
#define _OMC_LIT287_data "- Types.typeOfValue failed: "
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT287,28,_OMC_LIT287_data);
#define _OMC_LIT287 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT287)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT288,7,3) {&DAE_Attributes_ATTR__desc,_OMC_LIT242,_OMC_LIT243,_OMC_LIT272,_OMC_LIT244,_OMC_LIT245,_OMC_LIT246}};
#define _OMC_LIT288 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT288)
#define _OMC_LIT289_data "-values_to_vars failed\n"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT289,23,_OMC_LIT289_data);
#define _OMC_LIT289 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT289)
#define _OMC_LIT290_data "Types.getVarType failed"
static const MMC_DEFSTRINGLIT(_OMC_LIT_STRUCT290,23,_OMC_LIT290_data);
#define _OMC_LIT290 MMC_REFSTRINGLIT(_OMC_LIT_STRUCT290)
static const MMC_DEFSTRUCTLIT(_OMC_LIT_STRUCT291,2,1) {_OMC_LIT290,MMC_REFSTRUCTLIT(mmc_nil)}};
#define _OMC_LIT291 MMC_REFSTRUCTLIT(_OMC_LIT_STRUCT291)
#include "util/modelica.h"
#include "Types_includes.h"
#if !defined(PROTECTED_FUNCTION_STATIC)
#define PROTECTED_FUNCTION_STATIC
#endif
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_unboxedTypeTraverseHelper(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dummy, modelica_metatype *out_odummy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_unboxedTypeTraverseHelper,2,0) {(void*) boxptr_Types_unboxedTypeTraverseHelper,0}};
#define boxvar_Types_unboxedTypeTraverseHelper MMC_REFSTRUCTLIT(boxvar_lit_Types_unboxedTypeTraverseHelper)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_checkTypeCompat__cast(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inType1, modelica_metatype _inExp2, modelica_metatype _inType2, modelica_boolean _inAllowUnknown, modelica_metatype *out_outExp2, modelica_metatype *out_outCompatType, modelica_boolean *out_outCompatible);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_checkTypeCompat__cast(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inType1, modelica_metatype _inExp2, modelica_metatype _inType2, modelica_metatype _inAllowUnknown, modelica_metatype *out_outExp2, modelica_metatype *out_outCompatType, modelica_metatype *out_outCompatible);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_checkTypeCompat__cast,2,0) {(void*) boxptr_Types_checkTypeCompat__cast,0}};
#define boxvar_Types_checkTypeCompat__cast MMC_REFSTRUCTLIT(boxvar_lit_Types_checkTypeCompat__cast)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_checkTypeCompatList(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inTypes1, modelica_metatype _inExp2, modelica_metatype _inTypes2, modelica_boolean *out_outCompatible);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_checkTypeCompatList(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inTypes1, modelica_metatype _inExp2, modelica_metatype _inTypes2, modelica_metatype *out_outCompatible);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_checkTypeCompatList,2,0) {(void*) boxptr_Types_checkTypeCompatList,0}};
#define boxvar_Types_checkTypeCompatList MMC_REFSTRUCTLIT(boxvar_lit_Types_checkTypeCompatList)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_isBuiltin(threadData_t *threadData, modelica_metatype _a);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_isBuiltin(threadData_t *threadData, modelica_metatype _a);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_isBuiltin,2,0) {(void*) boxptr_Types_isBuiltin,0}};
#define boxvar_Types_isBuiltin MMC_REFSTRUCTLIT(boxvar_lit_Types_isBuiltin)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getUniontypeIfMetarecordTraverse(threadData_t *threadData, modelica_metatype _ty, modelica_integer _dummy, modelica_integer *out_odummy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_getUniontypeIfMetarecordTraverse(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dummy, modelica_metatype *out_odummy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_getUniontypeIfMetarecordTraverse,2,0) {(void*) boxptr_Types_getUniontypeIfMetarecordTraverse,0}};
#define boxvar_Types_getUniontypeIfMetarecordTraverse MMC_REFSTRUCTLIT(boxvar_lit_Types_getUniontypeIfMetarecordTraverse)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_selectVar(threadData_t *threadData, modelica_metatype _var, modelica_string _id);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_selectVar(threadData_t *threadData, modelica_metatype _var, modelica_metatype _id);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_selectVar,2,0) {(void*) boxptr_Types_selectVar,0}};
#define boxvar_Types_selectVar MMC_REFSTRUCTLIT(boxvar_lit_Types_selectVar)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_typeConvertIntToEnumCheck(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _expected);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertIntToEnumCheck(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _expected);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_typeConvertIntToEnumCheck,2,0) {(void*) boxptr_Types_typeConvertIntToEnumCheck,0}};
#define boxvar_Types_typeConvertIntToEnumCheck MMC_REFSTRUCTLIT(boxvar_lit_Types_typeConvertIntToEnumCheck)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_classTypeEqualIfRecord(threadData_t *threadData, modelica_metatype _st1, modelica_metatype _st2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_classTypeEqualIfRecord(threadData_t *threadData, modelica_metatype _st1, modelica_metatype _st2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_classTypeEqualIfRecord,2,0) {(void*) boxptr_Types_classTypeEqualIfRecord,0}};
#define boxvar_Types_classTypeEqualIfRecord MMC_REFSTRUCTLIT(boxvar_lit_Types_classTypeEqualIfRecord)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_hasMetaArrayWork(threadData_t *threadData, modelica_metatype _ty, modelica_boolean _b, modelica_boolean *out_ob);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_hasMetaArrayWork(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _b, modelica_metatype *out_ob);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_hasMetaArrayWork,2,0) {(void*) boxptr_Types_hasMetaArrayWork,0}};
#define boxvar_Types_hasMetaArrayWork MMC_REFSTRUCTLIT(boxvar_lit_Types_hasMetaArrayWork)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeDummyExpFromType(threadData_t *threadData, modelica_metatype _inType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_makeDummyExpFromType,2,0) {(void*) boxptr_Types_makeDummyExpFromType,0}};
#define boxvar_Types_makeDummyExpFromType MMC_REFSTRUCTLIT(boxvar_lit_Types_makeDummyExpFromType)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_isValidFunctionVarState(threadData_t *threadData, modelica_metatype _inState);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_isValidFunctionVarState(threadData_t *threadData, modelica_metatype _inState);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_isValidFunctionVarState,2,0) {(void*) boxptr_Types_isValidFunctionVarState,0}};
#define boxvar_Types_isValidFunctionVarState MMC_REFSTRUCTLIT(boxvar_lit_Types_isValidFunctionVarState)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_isZeroDim(threadData_t *threadData, modelica_metatype _dim, modelica_boolean _acc);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_isZeroDim(threadData_t *threadData, modelica_metatype _dim, modelica_metatype _acc);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_isZeroDim,2,0) {(void*) boxptr_Types_isZeroDim,0}};
#define boxvar_Types_isZeroDim MMC_REFSTRUCTLIT(boxvar_lit_Types_isZeroDim)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_replaceIntegerTypeWithReal(threadData_t *threadData, modelica_metatype _ty, modelica_integer _dummy, modelica_integer *out_odummy);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_replaceIntegerTypeWithReal(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dummy, modelica_metatype *out_odummy);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_replaceIntegerTypeWithReal,2,0) {(void*) boxptr_Types_replaceIntegerTypeWithReal,0}};
#define boxvar_Types_replaceIntegerTypeWithReal MMC_REFSTRUCTLIT(boxvar_lit_Types_replaceIntegerTypeWithReal)
PROTECTED_FUNCTION_STATIC modelica_integer omc_Types_optInteger(threadData_t *threadData, modelica_metatype _inInt);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_optInteger(threadData_t *threadData, modelica_metatype _inInt);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_optInteger,2,0) {(void*) boxptr_Types_optInteger,0}};
#define boxvar_Types_optInteger MMC_REFSTRUCTLIT(boxvar_lit_Types_optInteger)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_traverseFuncArg(threadData_t *threadData, modelica_metatype _iargs, modelica_metatype _ia, modelica_fnptr _fn, modelica_metatype *out_oa);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_traverseFuncArg,2,0) {(void*) boxptr_Types_traverseFuncArg,0}};
#define boxvar_Types_traverseFuncArg MMC_REFSTRUCTLIT(boxvar_lit_Types_traverseFuncArg)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_traverseVarTypes(threadData_t *threadData, modelica_metatype _ivars, modelica_metatype _ia, modelica_fnptr _fn, modelica_metatype *out_oa);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_traverseVarTypes,2,0) {(void*) boxptr_Types_traverseVarTypes,0}};
#define boxvar_Types_traverseVarTypes MMC_REFSTRUCTLIT(boxvar_lit_Types_traverseVarTypes)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_traverseTupleType(threadData_t *threadData, modelica_metatype _itys, modelica_metatype _ia, modelica_fnptr _fn, modelica_metatype *out_oa);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_traverseTupleType,2,0) {(void*) boxptr_Types_traverseTupleType,0}};
#define boxvar_Types_traverseTupleType MMC_REFSTRUCTLIT(boxvar_lit_Types_traverseTupleType)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_prefixTraversedPolymorphicType(threadData_t *threadData, modelica_metatype _ty, modelica_string _prefix, modelica_string *out_str);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_prefixTraversedPolymorphicType,2,0) {(void*) boxptr_Types_prefixTraversedPolymorphicType,0}};
#define boxvar_Types_prefixTraversedPolymorphicType MMC_REFSTRUCTLIT(boxvar_lit_Types_prefixTraversedPolymorphicType)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_subtypePolymorphicList(threadData_t *threadData, modelica_metatype _actual, modelica_metatype _expected, modelica_metatype _envPath, modelica_metatype _ibindings);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_subtypePolymorphicList,2,0) {(void*) boxptr_Types_subtypePolymorphicList,0}};
#define boxvar_Types_subtypePolymorphicList MMC_REFSTRUCTLIT(boxvar_lit_Types_subtypePolymorphicList)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_subtypePolymorphic(threadData_t *threadData, modelica_metatype _actual, modelica_metatype _expected, modelica_metatype _envPath, modelica_metatype _inBindings);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_subtypePolymorphic,2,0) {(void*) boxptr_Types_subtypePolymorphic,0}};
#define boxvar_Types_subtypePolymorphic MMC_REFSTRUCTLIT(boxvar_lit_Types_subtypePolymorphic)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_replaceSolvedBinding(threadData_t *threadData, modelica_metatype _ity, modelica_metatype _isolvedBindings);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_replaceSolvedBinding,2,0) {(void*) boxptr_Types_replaceSolvedBinding,0}};
#define boxvar_Types_replaceSolvedBinding MMC_REFSTRUCTLIT(boxvar_lit_Types_replaceSolvedBinding)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_replaceSolvedBindings(threadData_t *threadData, modelica_metatype _itys, modelica_metatype _isolvedBindings, modelica_boolean _changed);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_replaceSolvedBindings(threadData_t *threadData, modelica_metatype _itys, modelica_metatype _isolvedBindings, modelica_metatype _changed);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_replaceSolvedBindings,2,0) {(void*) boxptr_Types_replaceSolvedBindings,0}};
#define boxvar_Types_replaceSolvedBindings MMC_REFSTRUCTLIT(boxvar_lit_Types_replaceSolvedBindings)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_solveBindingsThread(threadData_t *threadData, modelica_metatype _itys1, modelica_metatype _itys2, modelica_boolean _changed, modelica_metatype _isolvedBindings, modelica_metatype *out_outSolvedBindings);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_solveBindingsThread(threadData_t *threadData, modelica_metatype _itys1, modelica_metatype _itys2, modelica_metatype _changed, modelica_metatype _isolvedBindings, modelica_metatype *out_outSolvedBindings);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_solveBindingsThread,2,0) {(void*) boxptr_Types_solveBindingsThread,0}};
#define boxvar_Types_solveBindingsThread MMC_REFSTRUCTLIT(boxvar_lit_Types_solveBindingsThread)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_solveBindings(threadData_t *threadData, modelica_metatype _itys1, modelica_metatype _itys2, modelica_metatype _isolvedBindings, modelica_metatype *out_outSolvedBindings);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_solveBindings,2,0) {(void*) boxptr_Types_solveBindings,0}};
#define boxvar_Types_solveBindings MMC_REFSTRUCTLIT(boxvar_lit_Types_solveBindings)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_solvePolymorphicBindingsLoop(threadData_t *threadData, modelica_metatype _ibindings, modelica_metatype _isolvedBindings, modelica_metatype _iunsolvedBindings, modelica_metatype *out_outUnsolvedBindings);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_solvePolymorphicBindingsLoop,2,0) {(void*) boxptr_Types_solvePolymorphicBindingsLoop,0}};
#define boxvar_Types_solvePolymorphicBindingsLoop MMC_REFSTRUCTLIT(boxvar_lit_Types_solvePolymorphicBindingsLoop)
PROTECTED_FUNCTION_STATIC void omc_Types_checkValidBindings(threadData_t *threadData, modelica_metatype _bindings, modelica_metatype _solvedBindings, modelica_metatype _unsolvedBindings, modelica_metatype _info, modelica_metatype _path);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_checkValidBindings,2,0) {(void*) boxptr_Types_checkValidBindings,0}};
#define boxvar_Types_checkValidBindings MMC_REFSTRUCTLIT(boxvar_lit_Types_checkValidBindings)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeDummyExpAndTypeLists(threadData_t *threadData, modelica_metatype _lst, modelica_metatype *out_outTypes);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_makeDummyExpAndTypeLists,2,0) {(void*) boxptr_Types_makeDummyExpAndTypeLists,0}};
#define boxvar_Types_makeDummyExpAndTypeLists MMC_REFSTRUCTLIT(boxvar_lit_Types_makeDummyExpAndTypeLists)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeFunctionPolymorphicReferenceResType(threadData_t *threadData, modelica_metatype _inType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_makeFunctionPolymorphicReferenceResType,2,0) {(void*) boxptr_Types_makeFunctionPolymorphicReferenceResType,0}};
#define boxvar_Types_makeFunctionPolymorphicReferenceResType MMC_REFSTRUCTLIT(boxvar_lit_Types_makeFunctionPolymorphicReferenceResType)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllInnerTypes(threadData_t *threadData, modelica_metatype _inTypes, modelica_metatype _inAccum, modelica_fnptr _inFunc);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_getAllInnerTypes,2,0) {(void*) boxptr_Types_getAllInnerTypes,0}};
#define boxvar_Types_getAllInnerTypes MMC_REFSTRUCTLIT(boxvar_lit_Types_getAllInnerTypes)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_fixPolymorphicRestype2(threadData_t *threadData, modelica_metatype _ty, modelica_string _prefix, modelica_metatype _bindings, modelica_metatype _info);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_fixPolymorphicRestype2,2,0) {(void*) boxptr_Types_fixPolymorphicRestype2,0}};
#define boxvar_Types_fixPolymorphicRestype2 MMC_REFSTRUCTLIT(boxvar_lit_Types_fixPolymorphicRestype2)
PROTECTED_FUNCTION_STATIC modelica_string omc_Types_polymorphicBindingStr(threadData_t *threadData, modelica_metatype _binding);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_polymorphicBindingStr,2,0) {(void*) boxptr_Types_polymorphicBindingStr,0}};
#define boxvar_Types_polymorphicBindingStr MMC_REFSTRUCTLIT(boxvar_lit_Types_polymorphicBindingStr)
PROTECTED_FUNCTION_STATIC void omc_Types_printFailure(threadData_t *threadData, modelica_metatype _flag, modelica_string _source, modelica_metatype _e, modelica_metatype _e_type, modelica_metatype _expected_type);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_printFailure,2,0) {(void*) boxptr_Types_printFailure,0}};
#define boxvar_Types_printFailure MMC_REFSTRUCTLIT(boxvar_lit_Types_printFailure)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_matchTypes2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inType, modelica_metatype _inExpected, modelica_boolean _inPrintFailtrace, modelica_metatype *out_outType);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_matchTypes2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inType, modelica_metatype _inExpected, modelica_metatype _inPrintFailtrace, modelica_metatype *out_outType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_matchTypes2,2,0) {(void*) boxptr_Types_matchTypes2,0}};
#define boxvar_Types_matchTypes2 MMC_REFSTRUCTLIT(boxvar_lit_Types_matchTypes2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_matchTypes__tail(threadData_t *threadData, modelica_metatype _iexps, modelica_metatype _itys, modelica_metatype _expected, modelica_boolean _printFailtrace, modelica_metatype _inAccumExps, modelica_metatype _inAccumTypes, modelica_metatype *out_outTys);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_matchTypes__tail(threadData_t *threadData, modelica_metatype _iexps, modelica_metatype _itys, modelica_metatype _expected, modelica_metatype _printFailtrace, modelica_metatype _inAccumExps, modelica_metatype _inAccumTypes, modelica_metatype *out_outTys);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_matchTypes__tail,2,0) {(void*) boxptr_Types_matchTypes__tail,0}};
#define boxvar_Types_matchTypes__tail MMC_REFSTRUCTLIT(boxvar_lit_Types_matchTypes__tail)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_listMatchSuperType2(threadData_t *threadData, modelica_metatype _elist, modelica_metatype _typeList, modelica_metatype _st, modelica_boolean _printFailtrace);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_listMatchSuperType2(threadData_t *threadData, modelica_metatype _elist, modelica_metatype _typeList, modelica_metatype _st, modelica_metatype _printFailtrace);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_listMatchSuperType2,2,0) {(void*) boxptr_Types_listMatchSuperType2,0}};
#define boxvar_Types_listMatchSuperType2 MMC_REFSTRUCTLIT(boxvar_lit_Types_listMatchSuperType2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllExpsBinding(threadData_t *threadData, modelica_metatype _inBinding);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_getAllExpsBinding,2,0) {(void*) boxptr_Types_getAllExpsBinding,0}};
#define boxvar_Types_getAllExpsBinding MMC_REFSTRUCTLIT(boxvar_lit_Types_getAllExpsBinding)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllExpsVar(threadData_t *threadData, modelica_metatype _inVar);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_getAllExpsVar,2,0) {(void*) boxptr_Types_getAllExpsVar,0}};
#define boxvar_Types_getAllExpsVar MMC_REFSTRUCTLIT(boxvar_lit_Types_getAllExpsVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllExpsVars(threadData_t *threadData, modelica_metatype _vars);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_getAllExpsVars,2,0) {(void*) boxptr_Types_getAllExpsVars,0}};
#define boxvar_Types_getAllExpsVars MMC_REFSTRUCTLIT(boxvar_lit_Types_getAllExpsVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllExpsTt(threadData_t *threadData, modelica_metatype _inType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_getAllExpsTt,2,0) {(void*) boxptr_Types_getAllExpsTt,0}};
#define boxvar_Types_getAllExpsTt MMC_REFSTRUCTLIT(boxvar_lit_Types_getAllExpsTt)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_constTupleAnd(threadData_t *threadData, modelica_metatype _inTupleConst1, modelica_metatype _inTupleConst2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_constTupleAnd,2,0) {(void*) boxptr_Types_constTupleAnd,0}};
#define boxvar_Types_constTupleAnd MMC_REFSTRUCTLIT(boxvar_lit_Types_constTupleAnd)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvertMatrixRowToList(threadData_t *threadData, modelica_metatype _elist, modelica_metatype _inType, modelica_metatype _outType, modelica_boolean _printFailtrace, modelica_metatype *out_t1);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertMatrixRowToList(threadData_t *threadData, modelica_metatype _elist, modelica_metatype _inType, modelica_metatype _outType, modelica_metatype _printFailtrace, modelica_metatype *out_t1);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_typeConvertMatrixRowToList,2,0) {(void*) boxptr_Types_typeConvertMatrixRowToList,0}};
#define boxvar_Types_typeConvertMatrixRowToList MMC_REFSTRUCTLIT(boxvar_lit_Types_typeConvertMatrixRowToList)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvertMatrixToList(threadData_t *threadData, modelica_metatype _melist, modelica_metatype _inType, modelica_metatype _outType, modelica_boolean _printFailtrace, modelica_metatype *out_actualOutType);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertMatrixToList(threadData_t *threadData, modelica_metatype _melist, modelica_metatype _inType, modelica_metatype _outType, modelica_metatype _printFailtrace, modelica_metatype *out_actualOutType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_typeConvertMatrixToList,2,0) {(void*) boxptr_Types_typeConvertMatrixToList,0}};
#define boxvar_Types_typeConvertMatrixToList MMC_REFSTRUCTLIT(boxvar_lit_Types_typeConvertMatrixToList)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvertList(threadData_t *threadData, modelica_metatype _inExpExpLst1, modelica_metatype _inTypeLst2, modelica_metatype _inTypeLst3, modelica_boolean _printFailtrace, modelica_metatype *out_outTypeLst);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertList(threadData_t *threadData, modelica_metatype _inExpExpLst1, modelica_metatype _inTypeLst2, modelica_metatype _inTypeLst3, modelica_metatype _printFailtrace, modelica_metatype *out_outTypeLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_typeConvertList,2,0) {(void*) boxptr_Types_typeConvertList,0}};
#define boxvar_Types_typeConvertList MMC_REFSTRUCTLIT(boxvar_lit_Types_typeConvertList)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvertMatrix(threadData_t *threadData, modelica_metatype _inMatrix, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_boolean _printFailtrace);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertMatrix(threadData_t *threadData, modelica_metatype _inMatrix, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_metatype _printFailtrace);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_typeConvertMatrix,2,0) {(void*) boxptr_Types_typeConvertMatrix,0}};
#define boxvar_Types_typeConvertMatrix MMC_REFSTRUCTLIT(boxvar_lit_Types_typeConvertMatrix)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_liftExpType(threadData_t *threadData, modelica_metatype _ie, modelica_metatype _dim);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_liftExpType,2,0) {(void*) boxptr_Types_liftExpType,0}};
#define boxvar_Types_liftExpType MMC_REFSTRUCTLIT(boxvar_lit_Types_liftExpType)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvert(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _actual, modelica_metatype _expected, modelica_boolean _printFailtrace, modelica_metatype *out_outType);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvert(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _actual, modelica_metatype _expected, modelica_metatype _printFailtrace, modelica_metatype *out_outType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_typeConvert,2,0) {(void*) boxptr_Types_typeConvert,0}};
#define boxvar_Types_typeConvert MMC_REFSTRUCTLIT(boxvar_lit_Types_typeConvert)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_unflattenArrayType2(threadData_t *threadData, modelica_metatype _inTy, modelica_boolean _last);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_unflattenArrayType2(threadData_t *threadData, modelica_metatype _inTy, modelica_metatype _last);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_unflattenArrayType2,2,0) {(void*) boxptr_Types_unflattenArrayType2,0}};
#define boxvar_Types_unflattenArrayType2 MMC_REFSTRUCTLIT(boxvar_lit_Types_unflattenArrayType2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_vectorizableType2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inExpType, modelica_metatype _inCurrentType, modelica_metatype _inDims, modelica_metatype _inExpectedType, modelica_metatype _fnPath, modelica_metatype *out_outType, modelica_metatype *out_outDims, modelica_metatype *out_outBindings);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_vectorizableType2,2,0) {(void*) boxptr_Types_vectorizableType2,0}};
#define boxvar_Types_vectorizableType2 MMC_REFSTRUCTLIT(boxvar_lit_Types_vectorizableType2)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_varsElabEquivalent(threadData_t *threadData, modelica_metatype _inVar1, modelica_metatype _inVar2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_varsElabEquivalent(threadData_t *threadData, modelica_metatype _inVar1, modelica_metatype _inVar2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_varsElabEquivalent,2,0) {(void*) boxptr_Types_varsElabEquivalent,0}};
#define boxvar_Types_varsElabEquivalent MMC_REFSTRUCTLIT(boxvar_lit_Types_varsElabEquivalent)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_ttypesElabEquivalent(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_ttypesElabEquivalent(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_ttypesElabEquivalent,2,0) {(void*) boxptr_Types_ttypesElabEquivalent,0}};
#define boxvar_Types_ttypesElabEquivalent MMC_REFSTRUCTLIT(boxvar_lit_Types_ttypesElabEquivalent)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_typeMemoryEntryEq(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeMemoryEntryEq(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_typeMemoryEntryEq,2,0) {(void*) boxptr_Types_typeMemoryEntryEq,0}};
#define boxvar_Types_typeMemoryEntryEq MMC_REFSTRUCTLIT(boxvar_lit_Types_typeMemoryEntryEq)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_complicateVar(threadData_t *threadData, modelica_metatype _inVar);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_complicateVar,2,0) {(void*) boxptr_Types_complicateVar,0}};
#define boxvar_Types_complicateVar MMC_REFSTRUCTLIT(boxvar_lit_Types_complicateVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_simplifyVar(threadData_t *threadData, modelica_metatype _inVar);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_simplifyVar,2,0) {(void*) boxptr_Types_simplifyVar,0}};
#define boxvar_Types_simplifyVar MMC_REFSTRUCTLIT(boxvar_lit_Types_simplifyVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_propTuplePropList2(threadData_t *threadData, modelica_metatype _tl, modelica_metatype _cl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_propTuplePropList2,2,0) {(void*) boxptr_Types_propTuplePropList2,0}};
#define boxvar_Types_propTuplePropList2 MMC_REFSTRUCTLIT(boxvar_lit_Types_propTuplePropList2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_propTupleAnyConst(threadData_t *threadData, modelica_metatype _inTupleConst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_propTupleAnyConst,2,0) {(void*) boxptr_Types_propTupleAnyConst,0}};
#define boxvar_Types_propTupleAnyConst MMC_REFSTRUCTLIT(boxvar_lit_Types_propTupleAnyConst)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeReturnTypeSingle(threadData_t *threadData, modelica_metatype _inVar);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_makeReturnTypeSingle,2,0) {(void*) boxptr_Types_makeReturnTypeSingle,0}};
#define boxvar_Types_makeReturnTypeSingle MMC_REFSTRUCTLIT(boxvar_lit_Types_makeReturnTypeSingle)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeReturnType(threadData_t *threadData, modelica_metatype _inVarLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_makeReturnType,2,0) {(void*) boxptr_Types_makeReturnType,0}};
#define boxvar_Types_makeReturnType MMC_REFSTRUCTLIT(boxvar_lit_Types_makeReturnType)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeElementFarg(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inFarg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_makeElementFarg,2,0) {(void*) boxptr_Types_makeElementFarg,0}};
#define boxvar_Types_makeElementFarg MMC_REFSTRUCTLIT(boxvar_lit_Types_makeElementFarg)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeFarg(threadData_t *threadData, modelica_metatype _variable);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_makeFarg,2,0) {(void*) boxptr_Types_makeFarg,0}};
#define boxvar_Types_makeFarg MMC_REFSTRUCTLIT(boxvar_lit_Types_makeFarg)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getOutputVars(threadData_t *threadData, modelica_metatype _vl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_getOutputVars,2,0) {(void*) boxptr_Types_getOutputVars,0}};
#define boxvar_Types_getOutputVars MMC_REFSTRUCTLIT(boxvar_lit_Types_getOutputVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getInputVars(threadData_t *threadData, modelica_metatype _vl);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_getInputVars,2,0) {(void*) boxptr_Types_getInputVars,0}};
#define boxvar_Types_getInputVars MMC_REFSTRUCTLIT(boxvar_lit_Types_getInputVars)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeElementReturnTypeSingle(threadData_t *threadData, modelica_metatype _inElement);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_makeElementReturnTypeSingle,2,0) {(void*) boxptr_Types_makeElementReturnTypeSingle,0}};
#define boxvar_Types_makeElementReturnTypeSingle MMC_REFSTRUCTLIT(boxvar_lit_Types_makeElementReturnTypeSingle)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeElementReturnType(threadData_t *threadData, modelica_metatype _inElementLst);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_makeElementReturnType,2,0) {(void*) boxptr_Types_makeElementReturnType,0}};
#define boxvar_Types_makeElementReturnType MMC_REFSTRUCTLIT(boxvar_lit_Types_makeElementReturnType)
PROTECTED_FUNCTION_STATIC modelica_string omc_Types_unparseParam(threadData_t *threadData, modelica_metatype _inFuncArg);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_unparseParam,2,0) {(void*) boxptr_Types_unparseParam,0}};
#define boxvar_Types_unparseParam MMC_REFSTRUCTLIT(boxvar_lit_Types_unparseParam)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_lookupComponent2(threadData_t *threadData, modelica_metatype _inVarLst, modelica_string _inIdent);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_lookupComponent2,2,0) {(void*) boxptr_Types_lookupComponent2,0}};
#define boxvar_Types_lookupComponent2 MMC_REFSTRUCTLIT(boxvar_lit_Types_lookupComponent2)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_lookupInBuiltin(threadData_t *threadData, modelica_metatype _inType, modelica_string _inIdent);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_lookupInBuiltin,2,0) {(void*) boxptr_Types_lookupInBuiltin,0}};
#define boxvar_Types_lookupInBuiltin MMC_REFSTRUCTLIT(boxvar_lit_Types_lookupInBuiltin)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_subtypeVarlist(threadData_t *threadData, modelica_metatype _inVarLst1, modelica_metatype _inVarLst2);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_subtypeVarlist(threadData_t *threadData, modelica_metatype _inVarLst1, modelica_metatype _inVarLst2);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_subtypeVarlist,2,0) {(void*) boxptr_Types_subtypeVarlist,0}};
#define boxvar_Types_subtypeVarlist MMC_REFSTRUCTLIT(boxvar_lit_Types_subtypeVarlist)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_subtypeTypelist(threadData_t *threadData, modelica_metatype _inTypeLst1, modelica_metatype _inTypeLst2, modelica_boolean _requireRecordNamesEqual);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_subtypeTypelist(threadData_t *threadData, modelica_metatype _inTypeLst1, modelica_metatype _inTypeLst2, modelica_metatype _requireRecordNamesEqual);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_subtypeTypelist,2,0) {(void*) boxptr_Types_subtypeTypelist,0}};
#define boxvar_Types_subtypeTypelist MMC_REFSTRUCTLIT(boxvar_lit_Types_subtypeTypelist)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_setVarType(threadData_t *threadData, modelica_metatype _var, modelica_metatype _ty);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_setVarType,2,0) {(void*) boxptr_Types_setVarType,0}};
#define boxvar_Types_setVarType MMC_REFSTRUCTLIT(boxvar_lit_Types_setVarType)
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_isClockOrSubTypeClock1(threadData_t *threadData, modelica_metatype _inType);
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_isClockOrSubTypeClock1(threadData_t *threadData, modelica_metatype _inType);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_isClockOrSubTypeClock1,2,0) {(void*) boxptr_Types_isClockOrSubTypeClock1,0}};
#define boxvar_Types_isClockOrSubTypeClock1 MMC_REFSTRUCTLIT(boxvar_lit_Types_isClockOrSubTypeClock1)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_convertFromExpToTypesVar(threadData_t *threadData, modelica_metatype _inVar);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_convertFromExpToTypesVar,2,0) {(void*) boxptr_Types_convertFromExpToTypesVar,0}};
#define boxvar_Types_convertFromExpToTypesVar MMC_REFSTRUCTLIT(boxvar_lit_Types_convertFromExpToTypesVar)
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_propertiesListToConst2(threadData_t *threadData, modelica_metatype _t);
static const MMC_DEFSTRUCTLIT(boxvar_lit_Types_propertiesListToConst2,2,0) {(void*) boxptr_Types_propertiesListToConst2,0}};
#define boxvar_Types_propertiesListToConst2 MMC_REFSTRUCTLIT(boxvar_lit_Types_propertiesListToConst2)
DLLExport
modelica_boolean omc_Types_isExpandableConnector(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _isExpandable;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_integer tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],5,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
tmp6 = mmc_unbox_integer(tmpMeta[1]);
if (1 != tmp6) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
modelica_integer tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],5,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
tmp7 = mmc_unbox_integer(tmpMeta[1]);
if (1 != tmp7) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_isExpandable = tmp1;
_return: OMC_LABEL_UNUSED
return _isExpandable;
}
modelica_metatype boxptr_Types_isExpandableConnector(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _isExpandable;
modelica_metatype out_isExpandable;
_isExpandable = omc_Types_isExpandableConnector(threadData, _ty);
out_isExpandable = mmc_mk_icon(_isExpandable);
return out_isExpandable;
}
DLLExport
modelica_metatype omc_Types_setTypeVariables(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _typeVars)
{
modelica_metatype _oty = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _ty;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
_oty = tmp3_1;
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(7));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_oty), 7*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[3] = _typeVars;
_oty = tmpMeta[1];
tmpMeta[0] = _oty;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,21,6) == 0) goto tmp2_end;
_oty = tmp3_1;
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_oty), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[4] = _typeVars;
_oty = tmpMeta[1];
tmpMeta[0] = _oty;
goto tmp2_done;
}
case 2: {
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_oty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _oty;
}
DLLExport
modelica_metatype omc_Types_getMetaRecordIfSingleton(threadData_t *threadData, modelica_metatype _ty)
{
modelica_metatype _oty = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _ty;
{
modelica_fnptr _fun;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 4; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_integer tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmp5 = mmc_unbox_integer(tmpMeta[1]);
if (0 != tmp5) goto tmp2_end;
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_oty = tmpMeta[2];
tmpMeta[0] = omc_Types_setTypeVariables(threadData, _oty, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_fun = tmpMeta[2];
_oty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fun), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fun), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fun), 2)))) : ((modelica_metatype(*)(threadData_t*)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fun), 1)))) (threadData);
tmpMeta[0] = omc_Types_setTypeVariables(threadData, _oty, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
goto tmp2_done;
}
case 3: {
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_oty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _oty;
}
DLLExport
modelica_metatype omc_Types_getMetaRecordFields(threadData_t *threadData, modelica_metatype _ty)
{
modelica_metatype _fields = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _ty;
{
modelica_fnptr _fun;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 5; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,21,6) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
_fields = tmpMeta[1];
tmpMeta[0] = _fields;
goto tmp2_done;
}
case 1: {
modelica_integer tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmp5 = mmc_unbox_integer(tmpMeta[1]);
if (0 != tmp5) goto tmp2_end;
tmpMeta[1] = stringAppend(_OMC_LIT0,omc_Types_unparseType(threadData, _ty));
omc_Error_addInternalError(threadData, tmpMeta[1], _OMC_LIT2);
goto goto_1;
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],21,6) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 6));
_fields = tmpMeta[3];
tmpMeta[0] = _fields;
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_fun = tmpMeta[2];
tmpMeta[1] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fun), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fun), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fun), 2)))) : ((modelica_metatype(*)(threadData_t*)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fun), 1)))) (threadData);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],21,6) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 6));
_fields = tmpMeta[2];
tmpMeta[0] = _fields;
goto tmp2_done;
}
case 4: {
tmpMeta[1] = stringAppend(_OMC_LIT0,omc_Types_unparseType(threadData, _ty));
omc_Error_addInternalError(threadData, tmpMeta[1], _OMC_LIT3);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_fields = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _fields;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_unboxedTypeTraverseHelper(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dummy, modelica_metatype *out_odummy)
{
modelica_metatype _oty = NULL;
modelica_metatype _odummy = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_oty = omc_Types_unboxedType(threadData, _ty);
_odummy = _dummy;
_return: OMC_LABEL_UNUSED
if (out_odummy) { *out_odummy = _odummy; }
return _oty;
}
DLLExport
modelica_metatype omc_Types_lookupAttributeExp(threadData_t *threadData, modelica_metatype _inAttributes, modelica_string _inName)
{
modelica_metatype _outExp = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outExp = mmc_mk_none();
{
modelica_metatype _attr;
for (tmpMeta[0] = _inAttributes; !listEmpty(tmpMeta[0]); tmpMeta[0]=MMC_CDR(tmpMeta[0]))
{
_attr = MMC_CAR(tmpMeta[0]);
if((stringEqual(_inName, omc_Types_getVarName(threadData, _attr))))
{
_outExp = omc_DAEUtil_bindingExp(threadData, omc_Types_varBinding(threadData, _attr));
break;
}
}
}
_return: OMC_LABEL_UNUSED
return _outExp;
}
DLLExport
modelica_metatype omc_Types_lookupAttributeValue(threadData_t *threadData, modelica_metatype _inAttributes, modelica_string _inName)
{
modelica_metatype _outValue = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outValue = mmc_mk_none();
{
modelica_metatype _attr;
for (tmpMeta[0] = _inAttributes; !listEmpty(tmpMeta[0]); tmpMeta[0]=MMC_CDR(tmpMeta[0]))
{
_attr = MMC_CAR(tmpMeta[0]);
if((stringEqual(_inName, omc_Types_getVarName(threadData, _attr))))
{
_outValue = omc_DAEUtil_bindingValue(threadData, omc_Types_varBinding(threadData, _attr));
break;
}
}
}
_return: OMC_LABEL_UNUSED
return _outValue;
}
DLLExport
modelica_metatype omc_Types_getAttributes(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outAttributes = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 4: {
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)));
goto tmp2_done;
}
case 3: {
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)));
goto tmp2_done;
}
case 5: {
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)));
goto tmp2_done;
}
case 6: {
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)));
goto tmp2_done;
}
case 8: {
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 6)));
goto tmp2_done;
}
case 13: {
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4)));
goto _tailrecursive;
goto tmp2_done;
}
default:
tmp2_default: OMC_LABEL_UNUSED; {
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outAttributes = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outAttributes;
}
DLLExport
modelica_boolean omc_Types_isMetaArray(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 25: {
tmp1 = 1;
goto tmp3_done;
}
case 28: {
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)));
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isMetaArray(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isMetaArray(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_metaArrayElementType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)));
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,25,1) == 0) goto tmp2_end;
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)));
goto _tailrecursive;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_boolean omc_Types_arrayHasUnknownDims(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outUnknownDims;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmp1 = (omc_List_exist(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 3))), boxvar_Expression_dimensionUnknown) || omc_Types_arrayHasUnknownDims(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)))));
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outUnknownDims = tmp1;
_return: OMC_LABEL_UNUSED
return _outUnknownDims;
}
modelica_metatype boxptr_Types_arrayHasUnknownDims(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outUnknownDims;
modelica_metatype out_outUnknownDims;
_outUnknownDims = omc_Types_arrayHasUnknownDims(threadData, _inType);
out_outUnknownDims = mmc_mk_icon(_outUnknownDims);
return out_outUnknownDims;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_checkTypeCompat__cast(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inType1, modelica_metatype _inExp2, modelica_metatype _inType2, modelica_boolean _inAllowUnknown, modelica_metatype *out_outExp2, modelica_metatype *out_outCompatType, modelica_boolean *out_outCompatible)
{
modelica_metatype _outExp1 = NULL;
modelica_metatype _outExp2 = NULL;
modelica_metatype _outCompatType = NULL;
modelica_boolean _outCompatible;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _path = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outExp1 = _inExp1;
_outExp2 = _inExp2;
_outCompatible = 1;
_ty1 = omc_Types_derivedBasicType(threadData, _inType1);
_ty2 = omc_Types_derivedBasicType(threadData, _inType2);
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;
tmp3_1 = _ty1;
tmp3_2 = _ty2;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 9; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,1) == 0) goto tmp2_end;
_outExp2 = omc_Expression_typeCastElements(threadData, _inExp2, _OMC_LIT4);
tmpMeta[0] = _OMC_LIT4;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,1,1) == 0) goto tmp2_end;
_outExp1 = omc_Expression_typeCastElements(threadData, _inExp1, _OMC_LIT4);
tmpMeta[0] = _OMC_LIT4;
goto tmp2_done;
}
case 2: {
modelica_boolean tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,23,1) == 0) goto tmp2_end;
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 2))), _inExp2, _ty2, _inAllowUnknown ,&_outExp2 ,&_outCompatType ,&_outCompatible);
tmp5 = (modelica_boolean)omc_Types_isBoxedType(threadData, _ty2);
if(tmp5)
{
tmpMeta[2] = _outExp1;
}
else
{
tmpMeta[1] = mmc_mk_box3(38, &DAE_Exp_UNBOX__desc, _outExp1, _outCompatType);
tmpMeta[2] = tmpMeta[1];
}
_outExp1 = tmpMeta[2];
tmpMeta[0] = _ty2;
goto tmp2_done;
}
case 3: {
modelica_boolean tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,23,1) == 0) goto tmp2_end;
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, _ty1, _inExp2, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 2))), _inAllowUnknown ,&_outExp2 ,&_outCompatType ,&_outCompatible);
tmp6 = (modelica_boolean)omc_Types_isBoxedType(threadData, _ty1);
if(tmp6)
{
tmpMeta[2] = _outExp2;
}
else
{
tmpMeta[1] = mmc_mk_box3(38, &DAE_Exp_UNBOX__desc, _outExp2, _outCompatType);
tmpMeta[2] = tmpMeta[1];
}
_outExp2 = tmpMeta[2];
tmpMeta[0] = _ty1;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,21,6) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,20,5) == 0) goto tmp2_end;
_outCompatible = omc_AbsynUtil_pathEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 6))));
tmpMeta[0] = _ty2;
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,21,6) == 0) goto tmp2_end;
_outCompatible = omc_AbsynUtil_pathEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty1), 6))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty2), 3))));
tmpMeta[0] = _ty1;
goto tmp2_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,8,0) == 0) goto tmp2_end;
_outCompatible = _inAllowUnknown;
tmpMeta[0] = _ty2;
goto tmp2_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,8,0) == 0) goto tmp2_end;
_outCompatible = _inAllowUnknown;
tmpMeta[0] = _ty1;
goto tmp2_done;
}
case 8: {
_outCompatible = 0;
tmpMeta[0] = _OMC_LIT5;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outCompatType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
if (out_outExp2) { *out_outExp2 = _outExp2; }
if (out_outCompatType) { *out_outCompatType = _outCompatType; }
if (out_outCompatible) { *out_outCompatible = _outCompatible; }
return _outExp1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_checkTypeCompat__cast(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inType1, modelica_metatype _inExp2, modelica_metatype _inType2, modelica_metatype _inAllowUnknown, modelica_metatype *out_outExp2, modelica_metatype *out_outCompatType, modelica_metatype *out_outCompatible)
{
modelica_integer tmp1;
modelica_boolean _outCompatible;
modelica_metatype _outExp1 = NULL;
tmp1 = mmc_unbox_integer(_inAllowUnknown);
_outExp1 = omc_Types_checkTypeCompat__cast(threadData, _inExp1, _inType1, _inExp2, _inType2, tmp1, out_outExp2, out_outCompatType, &_outCompatible);
if (out_outCompatible) { *out_outCompatible = mmc_mk_icon(_outCompatible); }
return _outExp1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_checkTypeCompatList(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inTypes1, modelica_metatype _inExp2, modelica_metatype _inTypes2, modelica_boolean *out_outCompatible)
{
modelica_metatype _outCompatibleTypes = NULL;
modelica_boolean _outCompatible;
modelica_metatype _ty2 = NULL;
modelica_metatype _rest_ty2 = NULL;
modelica_boolean _compat;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = MMC_REFSTRUCTLIT(mmc_nil);
_outCompatibleTypes = tmpMeta[0];
_outCompatible = 1;
_rest_ty2 = _inTypes2;
if((listLength(_inTypes1) != listLength(_inTypes2)))
{
_outCompatible = 0;
goto _return;
}
{
modelica_metatype _ty1;
for (tmpMeta[1] = _inTypes1; !listEmpty(tmpMeta[1]); tmpMeta[1]=MMC_CDR(tmpMeta[1]))
{
_ty1 = MMC_CAR(tmpMeta[1]);
tmpMeta[2] = _rest_ty2;
if (listEmpty(tmpMeta[2])) MMC_THROW_INTERNAL();
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
_ty2 = tmpMeta[3];
_rest_ty2 = tmpMeta[4];
omc_Types_checkTypeCompat(threadData, _inExp1, _ty1, _inExp2, _ty2, 0 ,NULL ,&_ty2 ,&_compat);
if((!_compat))
{
_outCompatible = 0;
goto _return;
}
tmpMeta[2] = mmc_mk_cons(_ty2, _outCompatibleTypes);
_outCompatibleTypes = tmpMeta[2];
}
}
_outCompatibleTypes = listReverse(_outCompatibleTypes);
_return: OMC_LABEL_UNUSED
if (out_outCompatible) { *out_outCompatible = _outCompatible; }
return _outCompatibleTypes;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_checkTypeCompatList(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inTypes1, modelica_metatype _inExp2, modelica_metatype _inTypes2, modelica_metatype *out_outCompatible)
{
modelica_boolean _outCompatible;
modelica_metatype _outCompatibleTypes = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
_outCompatibleTypes = omc_Types_checkTypeCompatList(threadData, _inExp1, _inTypes1, _inExp2, _inTypes2, &_outCompatible);
if (out_outCompatible) { *out_outCompatible = mmc_mk_icon(_outCompatible); }
return _outCompatibleTypes;
}
DLLExport
modelica_metatype omc_Types_checkTypeCompat(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inType1, modelica_metatype _inExp2, modelica_metatype _inType2, modelica_boolean _inAllowUnknown, modelica_metatype *out_outExp2, modelica_metatype *out_outCompatType, modelica_boolean *out_outCompatible)
{
modelica_metatype _outExp1 = NULL;
modelica_metatype _outExp2 = NULL;
modelica_metatype _outCompatType = NULL;
modelica_boolean _outCompatible;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outExp1 = _inExp1;
_outExp2 = _inExp2;
_outCompatible = 1;
if(referenceEq(_inType1, _inType2))
{
_outCompatType = _inType1;
goto _return;
}
if((valueConstructor(_inType1) != valueConstructor(_inType2)))
{
if((omc_Types_extendsBasicType(threadData, _inType1) || omc_Types_extendsBasicType(threadData, _inType2)))
{
_ty1 = omc_Types_derivedBasicType(threadData, _inType1);
_ty2 = omc_Types_derivedBasicType(threadData, _inType2);
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, _ty1, _inExp2, _ty2, 0 ,&_outExp2 ,&_outCompatType ,&_outCompatible);
}
else
{
_outExp1 = omc_Types_checkTypeCompat__cast(threadData, _inExp1, _inType1, _inExp2, _inType2, _inAllowUnknown ,&_outExp2 ,&_outCompatType ,&_outCompatible);
}
goto _return;
}
{
modelica_metatype tmp3_1;
tmp3_1 = _inType1;
{
modelica_metatype _dims1 = NULL;
modelica_metatype _dims2 = NULL;
modelica_metatype _ety1 = NULL;
modelica_metatype _ety2 = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _names = NULL;
modelica_metatype _vars = NULL;
modelica_metatype _args = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _tys2 = NULL;
modelica_string _name = NULL;
modelica_metatype _p1 = NULL;
modelica_metatype _p2 = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 21; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT6;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT4;
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,1) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT7;
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,1) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT8;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,4,1) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT9;
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],10,4) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 4));
_ty = tmpMeta[2];
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 4))), _inExp2, _ty, 0 ,&_outExp2 ,&_outCompatType ,&_outCompatible);
tmpMeta[0] = _outCompatType;
goto tmp2_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],5,5) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 4));
_names = tmpMeta[2];
_outCompatible = omc_List_isEqualOnTrue(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 4))), _names, boxvar_stringEq);
tmpMeta[0] = _inType1;
goto tmp2_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
_ety1 = omc_Types_arrayElementType(threadData, _inType1);
_ety2 = omc_Types_arrayElementType(threadData, _inType2);
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, _ety1, _inExp2, _ety2, 0 ,&_outExp2 ,&_outCompatType ,&_outCompatible);
if(_outCompatible)
{
_dims1 = omc_Types_getDimensions(threadData, _inType1);
_dims2 = omc_Types_getDimensions(threadData, _inType2);
if((listLength(_dims1) == listLength(_dims2)))
{
{
modelica_metatype __omcQ_24tmpVar1;
modelica_metatype* tmp5;
modelica_metatype __omcQ_24tmpVar0;
int tmp6;
modelica_metatype _dim2_loopVar = 0;
modelica_metatype _dim2;
modelica_metatype _dim1_loopVar = 0;
modelica_metatype _dim1;
_dim2_loopVar = _dims2;
_dim1_loopVar = _dims1;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar1 = tmpMeta[2];
tmp5 = &__omcQ_24tmpVar1;
while(1) {
tmp6 = 2;
if (!listEmpty(_dim2_loopVar)) {
_dim2 = MMC_CAR(_dim2_loopVar);
_dim2_loopVar = MMC_CDR(_dim2_loopVar);
tmp6--;
}if (!listEmpty(_dim1_loopVar)) {
_dim1 = MMC_CAR(_dim1_loopVar);
_dim1_loopVar = MMC_CDR(_dim1_loopVar);
tmp6--;
}
if (tmp6 == 0) {
__omcQ_24tmpVar0 = (omc_Expression_dimensionsKnownAndEqual(threadData, _dim1, _dim2)?_dim1:_OMC_LIT10);
*tmp5 = mmc_mk_cons(__omcQ_24tmpVar0,0);
tmp5 = &MMC_CDR(*tmp5);
} else if (tmp6 == 2) {
break;
} else {
goto goto_1;
}
}
*tmp5 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar1;
}
_dims1 = tmpMeta[1];
_outCompatType = omc_Types_liftArrayListDims(threadData, _outCompatType, _dims1);
}
else
{
_outCompatible = 0;
}
}
tmpMeta[0] = _outCompatType;
goto tmp2_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],3,1) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],9,3) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_vars = tmpMeta[2];
_outCompatible = omc_List_isEqualOnTrue(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 3))), _vars, boxvar_Types_varEqualName);
tmpMeta[0] = _inType1;
goto tmp2_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],11,4) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_args = tmpMeta[2];
_ty = tmpMeta[3];
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 3))), _inExp2, _ty, 0 ,&_outExp2 ,&_outCompatType ,&_outCompatible);
if(_outCompatible)
{
{
modelica_metatype __omcQ_24tmpVar3;
modelica_metatype* tmp7;
modelica_metatype __omcQ_24tmpVar2;
int tmp8;
modelica_metatype _arg_loopVar = 0;
modelica_metatype _arg;
_arg_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 2)));
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar3 = tmpMeta[2];
tmp7 = &__omcQ_24tmpVar3;
while(1) {
tmp8 = 1;
if (!listEmpty(_arg_loopVar)) {
_arg = MMC_CAR(_arg_loopVar);
_arg_loopVar = MMC_CDR(_arg_loopVar);
tmp8--;
}
if (tmp8 == 0) {
__omcQ_24tmpVar2 = omc_Types_funcArgType(threadData, _arg);
*tmp7 = mmc_mk_cons(__omcQ_24tmpVar2,0);
tmp7 = &MMC_CDR(*tmp7);
} else if (tmp8 == 1) {
break;
} else {
goto goto_1;
}
}
*tmp7 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar3;
}
_tys = tmpMeta[1];
{
modelica_metatype __omcQ_24tmpVar5;
modelica_metatype* tmp9;
modelica_metatype __omcQ_24tmpVar4;
int tmp10;
modelica_metatype _arg_loopVar = 0;
modelica_metatype _arg;
_arg_loopVar = _args;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar5 = tmpMeta[2];
tmp9 = &__omcQ_24tmpVar5;
while(1) {
tmp10 = 1;
if (!listEmpty(_arg_loopVar)) {
_arg = MMC_CAR(_arg_loopVar);
_arg_loopVar = MMC_CDR(_arg_loopVar);
tmp10--;
}
if (tmp10 == 0) {
__omcQ_24tmpVar4 = omc_Types_funcArgType(threadData, _arg);
*tmp9 = mmc_mk_cons(__omcQ_24tmpVar4,0);
tmp9 = &MMC_CDR(*tmp9);
} else if (tmp10 == 1) {
break;
} else {
goto goto_1;
}
}
*tmp9 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar5;
}
_tys2 = tmpMeta[1];
omc_Types_checkTypeCompatList(threadData, _inExp1, _tys, _inExp2, _tys2 ,&_outCompatible);
}
tmpMeta[0] = _inType1;
goto tmp2_done;
}
case 10: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],14,2) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_tys = tmpMeta[2];
_tys = omc_Types_checkTypeCompatList(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 2))), _inExp2, _tys ,&_outCompatible);
tmpMeta[1] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, _tys, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 3))));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,1) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],17,1) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_ty = tmpMeta[2];
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 2))), _inExp2, _ty, 1 ,&_outExp2 ,&_outCompatType ,&_outCompatible);
tmpMeta[1] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _outCompatType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],22,1) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_ty = tmpMeta[2];
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 2))), _inExp2, _ty, 1 ,&_outExp2 ,&_outCompatType ,&_outCompatible);
tmpMeta[1] = mmc_mk_box2(25, &DAE_Type_T__METAARRAY__desc, _outCompatType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,19,1) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],19,1) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_ty = tmpMeta[2];
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 2))), _inExp2, _ty, 1 ,&_outExp2 ,&_outCompatType ,&_outCompatible);
tmpMeta[1] = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, _outCompatType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],18,1) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_tys = tmpMeta[2];
_tys = omc_Types_checkTypeCompatList(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 2))), _inExp2, _tys ,&_outCompatible);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _tys);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,23,1) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],23,1) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_ty = tmpMeta[2];
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 2))), _inExp2, _ty, 0 ,&_outExp2 ,&_outCompatType ,&_outCompatible);
tmpMeta[1] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _outCompatType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 16: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,24,1) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],24,1) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_name = tmpMeta[2];
_outCompatible = (stringEqual((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 2))), _name));
tmpMeta[0] = _inType1;
goto tmp2_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
_p1 = tmpMeta[1];
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],20,5) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 6));
_p2 = tmpMeta[2];
_outCompatible = omc_AbsynUtil_pathEqual(threadData, _p1, _p2);
tmpMeta[0] = _inType1;
goto tmp2_done;
}
case 18: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,21,6) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_p1 = tmpMeta[1];
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],21,6) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_p2 = tmpMeta[2];
_outCompatible = omc_AbsynUtil_pathEqual(threadData, _p1, _p2);
tmpMeta[0] = _inType1;
goto tmp2_done;
}
case 19: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,12,1) == 0) goto tmp2_end;
tmpMeta[1] = _inType2;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],12,1) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_ty = tmpMeta[2];
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 2))), _inExp2, _ty, 0 ,&_outExp2 ,&_outCompatType ,&_outCompatible);
tmpMeta[1] = mmc_mk_box2(15, &DAE_Type_T__FUNCTION__REFERENCE__VAR__desc, _outCompatType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 20: {
_outCompatible = 0;
tmpMeta[0] = _OMC_LIT5;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outCompatType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
if (out_outExp2) { *out_outExp2 = _outExp2; }
if (out_outCompatType) { *out_outCompatType = _outCompatType; }
if (out_outCompatible) { *out_outCompatible = _outCompatible; }
return _outExp1;
}
modelica_metatype boxptr_Types_checkTypeCompat(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inType1, modelica_metatype _inExp2, modelica_metatype _inType2, modelica_metatype _inAllowUnknown, modelica_metatype *out_outExp2, modelica_metatype *out_outCompatType, modelica_metatype *out_outCompatible)
{
modelica_integer tmp1;
modelica_boolean _outCompatible;
modelica_metatype _outExp1 = NULL;
tmp1 = mmc_unbox_integer(_inAllowUnknown);
_outExp1 = omc_Types_checkTypeCompat(threadData, _inExp1, _inType1, _inExp2, _inType2, tmp1, out_outExp2, out_outCompatType, &_outCompatible);
if (out_outCompatible) { *out_outCompatible = mmc_mk_icon(_outCompatible); }
return _outExp1;
}
DLLExport
void omc_Types_checkEnumDuplicateLiterals(threadData_t *threadData, modelica_metatype _names, modelica_metatype _info)
{
modelica_metatype _sortedNames = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_sortedNames = omc_List_sort(threadData, _names, boxvar_Util_strcmpBool);
if((!omc_List_sortedListAllUnique(threadData, _sortedNames, boxvar_stringEq)))
{
tmpMeta[0] = mmc_mk_cons(stringDelimitList(omc_List_sortedUniqueOnlyDuplicates(threadData, _sortedNames, boxvar_stringEq), _OMC_LIT16), mmc_mk_cons(stringDelimitList(_names, _OMC_LIT16), MMC_REFSTRUCTLIT(mmc_nil)));
omc_Error_addSourceMessage(threadData, _OMC_LIT15, tmpMeta[0], _info);
MMC_THROW_INTERNAL();
}
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
modelica_integer omc_Types_lookupIndexInMetaRecord(threadData_t *threadData, modelica_metatype _vars, modelica_string _name)
{
modelica_integer _index;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_index = omc_List_position1OnTrue(threadData, _vars, boxvar_DAEUtil_typeVarIdentEqual, _name);
_return: OMC_LABEL_UNUSED
return _index;
}
modelica_metatype boxptr_Types_lookupIndexInMetaRecord(threadData_t *threadData, modelica_metatype _vars, modelica_metatype _name)
{
modelica_integer _index;
modelica_metatype out_index;
_index = omc_Types_lookupIndexInMetaRecord(threadData, _vars, _name);
out_index = mmc_mk_icon(_index);
return out_index;
}
DLLExport
modelica_boolean omc_Types_allowedInRecord(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _yes;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
modelica_metatype _t = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_boolean tmp6;
_t = omc_Types_arrayElementType(threadData, _ty);
tmp6 = ((omc_Types_basicType(threadData, _t) || omc_Types_isRecord(threadData, _t)) || omc_Types_extendsBasicType(threadData, _t));
if (1 != tmp6) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 2) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_yes = tmp1;
_return: OMC_LABEL_UNUSED
return _yes;
}
modelica_metatype boxptr_Types_allowedInRecord(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _yes;
modelica_metatype out_yes;
_yes = omc_Types_allowedInRecord(threadData, _ty);
out_yes = mmc_mk_icon(_yes);
return out_yes;
}
DLLExport
modelica_metatype omc_Types_filterRecordComponents(threadData_t *threadData, modelica_metatype _inRecordVars, modelica_metatype _inInfo)
{
modelica_metatype _outRecordVars = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype __omcQ_24tmpVar7;
modelica_metatype* tmp1;
modelica_metatype __omcQ_24tmpVar6;
int tmp6;
modelica_metatype _v_loopVar = 0;
modelica_metatype _v;
_v_loopVar = _inRecordVars;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar7 = tmpMeta[1];
tmp1 = &__omcQ_24tmpVar7;
while(1) {
tmp6 = 1;
if (!listEmpty(_v_loopVar)) {
_v = MMC_CAR(_v_loopVar);
_v_loopVar = MMC_CDR(_v_loopVar);
tmp6--;
}
if (tmp6 == 0) {
{
modelica_metatype tmp4_1;
tmp4_1 = _v;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 1; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if((!omc_Types_allowedInRecord(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 4))))))
{
tmpMeta[3] = mmc_mk_cons(omc_Types_unparseVar(threadData, _v), MMC_REFSTRUCTLIT(mmc_nil));
omc_Error_addSourceMessage(threadData, _OMC_LIT19, tmpMeta[3], _inInfo);
goto goto_2;
}
tmpMeta[2] = _v;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}__omcQ_24tmpVar6 = tmpMeta[2];
*tmp1 = mmc_mk_cons(__omcQ_24tmpVar6,0);
tmp1 = &MMC_CDR(*tmp1);
} else if (tmp6 == 1) {
break;
} else {
MMC_THROW_INTERNAL();
}
}
*tmp1 = mmc_mk_nil();
tmpMeta[0] = __omcQ_24tmpVar7;
}
_outRecordVars = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outRecordVars;
}
DLLExport
modelica_boolean omc_Types_isFunctionPointer(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsFunPtr;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_integer tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 5));
tmp6 = mmc_unbox_integer(tmpMeta[1]);
if (1 != tmp6) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsFunPtr = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsFunPtr;
}
modelica_metatype boxptr_Types_isFunctionPointer(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsFunPtr;
modelica_metatype out_outIsFunPtr;
_outIsFunPtr = omc_Types_isFunctionPointer(threadData, _inType);
out_outIsFunPtr = mmc_mk_icon(_outIsFunPtr);
return out_outIsFunPtr;
}
DLLExport
modelica_boolean omc_Types_isFunctionReferenceVar(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isFunctionReferenceVar(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isFunctionReferenceVar(threadData, _ty);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_setIsFunctionPointer(threadData_t *threadData, modelica_metatype _ty, modelica_integer _dummy, modelica_integer *out_odummy)
{
modelica_metatype _oty = NULL;
modelica_integer _odummy;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_oty = _ty;
_odummy = _dummy;
{
modelica_metatype tmp3_1;
tmp3_1 = _oty;
{
modelica_metatype _attr = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_integer tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
tmp5 = mmc_unbox_integer(tmpMeta[2]);
if (0 != tmp5) goto tmp2_end;
_attr = tmpMeta[1];
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_attr), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[5] = mmc_mk_boolean(1);
_attr = tmpMeta[1];
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(6));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_oty), 6*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[4] = _attr;
_oty = tmpMeta[1];
tmpMeta[0] = _oty;
goto tmp2_done;
}
case 1: {
tmpMeta[0] = _oty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_oty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
if (out_odummy) { *out_odummy = _odummy; }
return _oty;
}
modelica_metatype boxptr_Types_setIsFunctionPointer(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dummy, modelica_metatype *out_odummy)
{
modelica_integer tmp1;
modelica_integer _odummy;
modelica_metatype _oty = NULL;
tmp1 = mmc_unbox_integer(_dummy);
_oty = omc_Types_setIsFunctionPointer(threadData, _ty, tmp1, &_odummy);
if (out_odummy) { *out_odummy = mmc_mk_icon(_odummy); }
return _oty;
}
DLLExport
modelica_metatype omc_Types_makeDefaultFuncArg(threadData_t *threadData, modelica_string _name, modelica_metatype _ty)
{
modelica_metatype _arg = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = mmc_mk_box6(3, &DAE_FuncArg_FUNCARG__desc, _name, _ty, _OMC_LIT20, _OMC_LIT21, mmc_mk_none());
_arg = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _arg;
}
DLLExport
modelica_metatype omc_Types_clearDefaultBinding(threadData_t *threadData, modelica_metatype _arg)
{
modelica_metatype _outArg = NULL;
modelica_string _name = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _const = NULL;
modelica_metatype _par = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _arg;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 5));
_name = tmpMeta[1];
_ty = tmpMeta[2];
_const = tmpMeta[3];
_par = tmpMeta[4];
tmpMeta[0] = mmc_mk_box6(3, &DAE_FuncArg_FUNCARG__desc, _name, _ty, _const, _par, mmc_mk_none());
_outArg = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outArg;
}
DLLExport
modelica_metatype omc_Types_setFuncArgName(threadData_t *threadData, modelica_metatype _arg, modelica_string _name)
{
modelica_metatype _outArg = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _const = NULL;
modelica_metatype _par = NULL;
modelica_metatype _defaultBinding = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _arg;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 4));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 5));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 6));
_ty = tmpMeta[1];
_const = tmpMeta[2];
_par = tmpMeta[3];
_defaultBinding = tmpMeta[4];
tmpMeta[0] = mmc_mk_box6(3, &DAE_FuncArg_FUNCARG__desc, _name, _ty, _const, _par, _defaultBinding);
_outArg = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outArg;
}
DLLExport
modelica_metatype omc_Types_setFuncArgType(threadData_t *threadData, modelica_metatype _arg, modelica_metatype _ty)
{
modelica_metatype _outArg = NULL;
modelica_string _name = NULL;
modelica_metatype _const = NULL;
modelica_metatype _par = NULL;
modelica_metatype _defaultBinding = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _arg;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 4));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 5));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 6));
_name = tmpMeta[1];
_const = tmpMeta[2];
_par = tmpMeta[3];
_defaultBinding = tmpMeta[4];
tmpMeta[0] = mmc_mk_box6(3, &DAE_FuncArg_FUNCARG__desc, _name, _ty, _const, _par, _defaultBinding);
_outArg = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outArg;
}
DLLExport
modelica_metatype omc_Types_funcArgDefaultBinding(threadData_t *threadData, modelica_metatype _arg)
{
modelica_metatype _defaultBinding = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _arg;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 6));
_defaultBinding = tmpMeta[1];
_return: OMC_LABEL_UNUSED
return _defaultBinding;
}
DLLExport
modelica_metatype omc_Types_funcArgType(threadData_t *threadData, modelica_metatype _arg)
{
modelica_metatype _ty = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _arg;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
_ty = tmpMeta[1];
_return: OMC_LABEL_UNUSED
return _ty;
}
DLLExport
modelica_string omc_Types_funcArgName(threadData_t *threadData, modelica_metatype _arg)
{
modelica_string _name = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _arg;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
_name = tmpMeta[1];
_return: OMC_LABEL_UNUSED
return _name;
}
DLLExport
modelica_boolean omc_Types_isArray2D(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],6,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
_ty = tmpMeta[1];
tmp1 = (!omc_Types_arrayType(threadData, _ty));
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isArray2D(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isArray2D(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isArray1D(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmp1 = (!omc_Types_arrayType(threadData, _ty));
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isArray1D(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isArray1D(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_getFuncArg(threadData_t *threadData, modelica_metatype _ty)
{
modelica_metatype _args = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _ty;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],11,4) == 0) MMC_THROW_INTERNAL();
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
_args = tmpMeta[1];
_return: OMC_LABEL_UNUSED
return _args;
}
DLLExport
modelica_metatype omc_Types_builtinName(threadData_t *threadData, modelica_metatype _isbuiltin)
{
modelica_metatype _name = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _isbuiltin;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,2) == 0) goto tmp2_end;
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_isbuiltin), 2)));
goto tmp2_done;
}
case 1: {
tmpMeta[0] = mmc_mk_none();
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_name = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _name;
}
DLLExport
modelica_metatype omc_Types_makeCallAttr(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _attr)
{
modelica_metatype _callAttr = NULL;
modelica_boolean _isImpure;
modelica_boolean _isT;
modelica_boolean _isB;
modelica_metatype _isbuiltin = NULL;
modelica_metatype _isinline = NULL;
modelica_metatype _name = NULL;
modelica_integer tmp1;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _attr;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 4));
tmp1 = mmc_unbox_integer(tmpMeta[2]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 6));
_isinline = tmpMeta[1];
_isImpure = tmp1;
_isbuiltin = tmpMeta[3];
_isT = omc_Types_isTuple(threadData, _ty);
_isB = omc_Types_isBuiltin(threadData, _isbuiltin);
tmpMeta[0] = mmc_mk_box8(3, &DAE_CallAttributes_CALL__ATTR__desc, _ty, mmc_mk_boolean(_isT), mmc_mk_boolean(_isB), mmc_mk_boolean(_isImpure), mmc_mk_boolean(0), _isinline, _OMC_LIT22);
_callAttr = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _callAttr;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_isBuiltin(threadData_t *threadData, modelica_metatype _a)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _a;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
tmp1 = 0;
goto tmp3_done;
}
case 1: {
tmp1 = 1;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_isBuiltin(threadData_t *threadData, modelica_metatype _a)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isBuiltin(threadData, _a);
out_b = mmc_mk_icon(_b);
return out_b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getUniontypeIfMetarecordTraverse(threadData_t *threadData, modelica_metatype _ty, modelica_integer _dummy, modelica_integer *out_odummy)
{
modelica_metatype _oty = NULL;
modelica_integer _odummy;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_odummy = _dummy;
{
modelica_metatype tmp3_1;
tmp3_1 = _ty;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_boolean tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,21,6) == 0) goto tmp2_end;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmp5 = (modelica_boolean)mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 7))));
if(tmp5)
{
tmpMeta[2] = mmc_mk_box2(4, &DAE_EvaluateSingletonType_EVAL__SINGLETON__KNOWN__TYPE__desc, _ty);
tmpMeta[3] = tmpMeta[2];
}
else
{
tmpMeta[3] = _OMC_LIT23;
}
tmpMeta[4] = mmc_mk_box6(23, &DAE_Type_T__METAUNIONTYPE__desc, tmpMeta[1], (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 7))), tmpMeta[3], (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 3))));
tmpMeta[0] = tmpMeta[4];
goto tmp2_done;
}
case 1: {
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_oty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
if (out_odummy) { *out_odummy = _odummy; }
return _oty;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_getUniontypeIfMetarecordTraverse(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dummy, modelica_metatype *out_odummy)
{
modelica_integer tmp1;
modelica_integer _odummy;
modelica_metatype _oty = NULL;
tmp1 = mmc_unbox_integer(_dummy);
_oty = omc_Types_getUniontypeIfMetarecordTraverse(threadData, _ty, tmp1, &_odummy);
if (out_odummy) { *out_odummy = mmc_mk_icon(_odummy); }
return _oty;
}
DLLExport
modelica_metatype omc_Types_getUniontypeIfMetarecordReplaceAllSubtypes(threadData_t *threadData, modelica_metatype _inTy)
{
modelica_metatype _ty = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_ty = omc_Types_traverseType(threadData, _inTy, mmc_mk_integer(((modelica_integer) 1)), boxvar_Types_getUniontypeIfMetarecordTraverse, NULL);
_return: OMC_LABEL_UNUSED
return _ty;
}
DLLExport
modelica_metatype omc_Types_getUniontypeIfMetarecord(threadData_t *threadData, modelica_metatype _inTy)
{
modelica_metatype _ty = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inTy;
{
modelica_boolean _b;
modelica_metatype _p = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_integer tmp5;
modelica_boolean tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,21,6) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 7));
tmp5 = mmc_unbox_integer(tmpMeta[2]);
_p = tmpMeta[1];
_b = tmp5;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmp6 = (modelica_boolean)_b;
if(tmp6)
{
tmpMeta[2] = mmc_mk_box2(4, &DAE_EvaluateSingletonType_EVAL__SINGLETON__KNOWN__TYPE__desc, _inTy);
tmpMeta[3] = tmpMeta[2];
}
else
{
tmpMeta[3] = _OMC_LIT23;
}
tmpMeta[4] = mmc_mk_box6(23, &DAE_Type_T__METAUNIONTYPE__desc, tmpMeta[1], (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inTy), 4))), mmc_mk_boolean(_b), tmpMeta[3], _p);
tmpMeta[0] = tmpMeta[4];
goto tmp2_done;
}
case 1: {
tmpMeta[0] = _inTy;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_ty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _ty;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_selectVar(threadData_t *threadData, modelica_metatype _var, modelica_string _id)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _var;
{
modelica_string _id1 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_id1 = tmpMeta[0];
tmp1 = (stringEqual(_id, _id1));
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_selectVar(threadData_t *threadData, modelica_metatype _var, modelica_metatype _id)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_selectVar(threadData, _var, _id);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_integer omc_Types_findVarIndex(threadData_t *threadData, modelica_string _id, modelica_metatype _vars)
{
modelica_integer _index;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_index = ((modelica_integer) -1) + omc_List_position1OnTrue(threadData, _vars, boxvar_Types_selectVar, _id);
_return: OMC_LABEL_UNUSED
return _index;
}
modelica_metatype boxptr_Types_findVarIndex(threadData_t *threadData, modelica_metatype _id, modelica_metatype _vars)
{
modelica_integer _index;
modelica_metatype out_index;
_index = omc_Types_findVarIndex(threadData, _id, _vars);
out_index = mmc_mk_icon(_index);
return out_index;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_typeConvertIntToEnumCheck(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _expected)
{
modelica_boolean _conversionOK;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
tmp4_1 = _exp;
tmp4_2 = _expected;
{
modelica_integer _oi;
modelica_metatype _tp = NULL;
modelica_metatype _l = NULL;
modelica_string _pathStr = NULL;
modelica_string _intStr = NULL;
modelica_string _enumConst = NULL;
modelica_string _lengthStr = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_integer tmp6;
modelica_boolean tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmp6 = mmc_unbox_integer(tmpMeta[0]);
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,5) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
_oi = tmp6;
_tp = tmpMeta[1];
_l = tmpMeta[2];
tmp7 = ((((modelica_integer) 1) <= _oi) && (_oi <= listLength(_l)));
if (1 != tmp7) goto goto_2;
_pathStr = omc_AbsynUtil_pathString(threadData, _tp, _OMC_LIT24, 1, 0);
_intStr = intString(_oi);
_enumConst = listGet(_l, _oi);
tmpMeta[0] = mmc_mk_cons(_intStr, mmc_mk_cons(_pathStr, mmc_mk_cons(_enumConst, MMC_REFSTRUCTLIT(mmc_nil))));
omc_Error_addMessage(threadData, _OMC_LIT28, tmpMeta[0]);
tmp1 = 1;
goto tmp3_done;
}
case 1: {
modelica_integer tmp8;
modelica_boolean tmp9;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmp8 = mmc_unbox_integer(tmpMeta[0]);
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,5) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
_oi = tmp8;
_tp = tmpMeta[1];
_l = tmpMeta[2];
_pathStr = omc_AbsynUtil_pathString(threadData, _tp, _OMC_LIT24, 1, 0);
tmp9 = (stringEqual(_pathStr, _OMC_LIT29));
if (0 != tmp9) goto goto_2;
_intStr = intString(_oi);
_lengthStr = intString(listLength(_l));
tmpMeta[0] = mmc_mk_cons(_pathStr, mmc_mk_cons(_intStr, mmc_mk_cons(_lengthStr, MMC_REFSTRUCTLIT(mmc_nil))));
omc_Error_addMessage(threadData, _OMC_LIT32, tmpMeta[0]);
tmp1 = 0;
goto tmp3_done;
}
case 2: {
modelica_integer tmp10;
modelica_boolean tmp11;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmp10 = mmc_unbox_integer(tmpMeta[0]);
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,5) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
_oi = tmp10;
_tp = tmpMeta[1];
_pathStr = omc_AbsynUtil_pathString(threadData, _tp, _OMC_LIT24, 1, 0);
tmp11 = (stringEqual(_pathStr, _OMC_LIT29));
if (1 != tmp11) goto goto_2;
_intStr = intString(_oi);
tmpMeta[0] = mmc_mk_cons(_intStr, MMC_REFSTRUCTLIT(mmc_nil));
omc_Error_addMessage(threadData, _OMC_LIT36, tmpMeta[0]);
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_conversionOK = tmp1;
_return: OMC_LABEL_UNUSED
return _conversionOK;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertIntToEnumCheck(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _expected)
{
modelica_boolean _conversionOK;
modelica_metatype out_conversionOK;
_conversionOK = omc_Types_typeConvertIntToEnumCheck(threadData, _exp, _expected);
out_conversionOK = mmc_mk_icon(_conversionOK);
return out_conversionOK;
}
DLLExport
modelica_boolean omc_Types_isEmptyOrNoRetcall(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 4; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (!listEmpty(tmpMeta[0])) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (!listEmpty(tmpMeta[0])) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 3: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isEmptyOrNoRetcall(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isEmptyOrNoRetcall(threadData, _ty);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_setTypeVars(threadData_t *threadData, modelica_metatype __omcQ_24in_5Fty, modelica_metatype _inVars)
{
modelica_metatype _ty = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_ty = __omcQ_24in_5Fty;
{
modelica_metatype tmp3_1;
tmp3_1 = _ty;
{
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 4: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_ty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = _inVars;
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 3: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_ty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = _inVars;
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 5: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_ty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = _inVars;
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 6: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_ty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = _inVars;
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 7: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_ty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = _inVars;
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 8: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(7));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_ty), 7*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[6] = _inVars;
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 9: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_ty), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = omc_Types_setTypeVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _inVars);
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 13: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(6));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_ty), 6*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[4] = omc_Types_setTypeVars(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))), _inVars);
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_ty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _ty;
}
DLLExport
modelica_metatype omc_Types_stripTypeVars(threadData_t *threadData, modelica_metatype _inType, modelica_metatype *out_outVars)
{
modelica_metatype _outType = NULL;
modelica_metatype _outVars = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _vars = NULL;
modelica_metatype _sub_vars = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _dims = NULL;
modelica_metatype _state = NULL;
modelica_metatype _ec = NULL;
modelica_metatype _tys = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vars = tmpMeta[2];
tmpMeta[0+0] = _OMC_LIT6;
tmpMeta[0+1] = _vars;
goto tmp3_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vars = tmpMeta[2];
tmpMeta[0+0] = _OMC_LIT4;
tmpMeta[0+1] = _vars;
goto tmp3_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vars = tmpMeta[2];
tmpMeta[0+0] = _OMC_LIT7;
tmpMeta[0+1] = _vars;
goto tmp3_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vars = tmpMeta[2];
tmpMeta[0+0] = _OMC_LIT8;
tmpMeta[0+1] = _vars;
goto tmp3_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_tys = tmpMeta[2];
tmpMeta[2] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, _tys, mmc_mk_none());
tmpMeta[3] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_ty = tmpMeta[2];
_dims = tmpMeta[3];
_ty = omc_Types_stripTypeVars(threadData, _ty ,&_vars);
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, _dims);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _vars;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
_state = tmpMeta[2];
_sub_vars = tmpMeta[3];
_ty = tmpMeta[4];
_ec = tmpMeta[5];
_ty = omc_Types_stripTypeVars(threadData, _ty ,&_vars);
tmpMeta[2] = mmc_mk_box5(13, &DAE_Type_T__SUBTYPE__BASIC__desc, _state, _sub_vars, _ty, _ec);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _vars;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = _inType;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outType = tmpMeta[0+0];
_outVars = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outVars) { *out_outVars = _outVars; }
return _outType;
}
DLLExport
modelica_boolean omc_Types_isArrayWithUnknownDimension(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_boolean tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
{
modelica_boolean __omcQ_24tmpVar9;
modelica_boolean tmp7 = 0;
modelica_boolean __omcQ_24tmpVar8;
int tmp12;
modelica_metatype _d_loopVar = 0;
modelica_metatype _d;
_d_loopVar = omc_Types_getDimensions(threadData, _ty);
__omcQ_24tmpVar9 = 0;
while(1) {
tmp12 = 1;
if (!listEmpty(_d_loopVar)) {
_d = MMC_CAR(_d_loopVar);
_d_loopVar = MMC_CDR(_d_loopVar);
tmp12--;
}
if (tmp12 == 0) {
{
modelica_metatype tmp10_1;
tmp10_1 = _d;
{
volatile mmc_switch_type tmp10;
int tmp11;
tmp10 = 0;
for (; tmp10 < 2; tmp10++) {
switch (MMC_SWITCH_CAST(tmp10)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp10_1,4,0) == 0) goto tmp9_end;
tmp7 = 1;
goto tmp9_done;
}
case 1: {
tmp7 = 0;
goto tmp9_done;
}
}
goto tmp9_end;
tmp9_end: ;
}
goto goto_8;
goto_8:;
goto goto_2;
goto tmp9_done;
tmp9_done:;
}
}__omcQ_24tmpVar8 = tmp7;
__omcQ_24tmpVar9 = (__omcQ_24tmpVar8 || __omcQ_24tmpVar9);
} else if (tmp12 == 1) {
break;
} else {
goto goto_2;
}
}
tmp6 = __omcQ_24tmpVar9;
}
tmp1 = tmp6;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isArrayWithUnknownDimension(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isArrayWithUnknownDimension(threadData, _ty);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_dimNotFixed(threadData_t *threadData, modelica_metatype _dim)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _dim;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 7: {
tmp1 = 1;
goto tmp3_done;
}
case 6: {
tmp1 = 1;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_dimNotFixed(threadData_t *threadData, modelica_metatype _dim)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_dimNotFixed(threadData, _dim);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
void omc_Types_typeErrorSanityCheck(threadData_t *threadData, modelica_string _inType1, modelica_string _inType2, modelica_metatype _inInfo)
{
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_boolean tmp5;
tmp5 = (stringEqual(_inType1, _inType2));
if (0 != tmp5) goto goto_1;
goto tmp2_done;
}
case 1: {
tmpMeta[0] = mmc_mk_cons(_inType1, MMC_REFSTRUCTLIT(mmc_nil));
omc_Error_addSourceMessage(threadData, _OMC_LIT39, tmpMeta[0], _inInfo);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
;
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
modelica_boolean omc_Types_hasBinding(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inVar;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],0,0) == 0) goto tmp3_end;
tmp1 = 0;
goto tmp3_done;
}
case 1: {
tmp1 = 1;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_hasBinding(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_hasBinding(threadData, _inVar);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_allHaveBindings(threadData_t *threadData, modelica_metatype _inVars)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inVars;
{
modelica_metatype _v = NULL;
modelica_metatype _rest = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
tmp4 += 2;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
modelica_boolean tmp6;
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[0] = MMC_CAR(tmp4_1);
tmpMeta[1] = MMC_CDR(tmp4_1);
_v = tmpMeta[0];
tmp6 = omc_Types_hasBinding(threadData, _v);
if (0 != tmp6) goto goto_2;
tmp1 = 0;
goto tmp3_done;
}
case 2: {
modelica_boolean tmp7;
modelica_boolean tmp8;
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[0] = MMC_CAR(tmp4_1);
tmpMeta[1] = MMC_CDR(tmp4_1);
_v = tmpMeta[0];
_rest = tmpMeta[1];
tmp7 = omc_Types_hasBinding(threadData, _v);
if (1 != tmp7) goto goto_2;
tmp8 = omc_Types_allHaveBindings(threadData, _rest);
if (1 != tmp8) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_allHaveBindings(threadData_t *threadData, modelica_metatype _inVars)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_allHaveBindings(threadData, _inVars);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isFixedWithNoBinding(threadData_t *threadData, modelica_metatype _inTy, modelica_metatype _inVariability)
{
modelica_boolean _outFixed;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inTy;
{
modelica_metatype _vl = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmp1 = omc_Types_getFixedVarAttribute(threadData, _inTy);
goto tmp3_done;
}
case 1: {
modelica_boolean tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_vl = tmpMeta[0];
tmp6 = omc_Types_allHaveBindings(threadData, _vl);
if (1 != tmp6) goto goto_2;
tmp1 = 0;
goto tmp3_done;
}
case 2: {
tmp1 = listMember(_inVariability, _OMC_LIT43);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outFixed = tmp1;
_return: OMC_LABEL_UNUSED
return _outFixed;
}
modelica_metatype boxptr_Types_isFixedWithNoBinding(threadData_t *threadData, modelica_metatype _inTy, modelica_metatype _inVariability)
{
modelica_boolean _outFixed;
modelica_metatype out_outFixed;
_outFixed = omc_Types_isFixedWithNoBinding(threadData, _inTy, _inVariability);
out_outFixed = mmc_mk_icon(_outFixed);
return out_outFixed;
}
DLLExport
modelica_metatype omc_Types_ifExpMakeDimsUnknown(threadData_t *threadData, modelica_metatype _ty1, modelica_metatype _ty2, modelica_metatype *out_oty2)
{
modelica_metatype _oty1 = NULL;
modelica_metatype _oty2 = NULL;
modelica_metatype tmpMeta[10] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;modelica_metatype tmp4_2;
tmp4_1 = _ty1;
tmp4_2 = _ty2;
{
modelica_metatype _inner1 = NULL;
modelica_metatype _inner2 = NULL;
modelica_metatype _d1 = NULL;
modelica_metatype _d2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 4; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[8],4,0) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[9])) goto tmp3_end;
_inner2 = tmpMeta[2];
_inner1 = tmpMeta[6];
_oty1 = omc_Types_ifExpMakeDimsUnknown(threadData, _inner1, _inner2 ,&_oty2);
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _inner1, _OMC_LIT44);
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _inner2, _OMC_LIT44);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[8],4,0) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[9])) goto tmp3_end;
_inner1 = tmpMeta[2];
_inner2 = tmpMeta[6];
_oty1 = omc_Types_ifExpMakeDimsUnknown(threadData, _inner1, _inner2 ,&_oty2);
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _inner1, _OMC_LIT44);
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _inner2, _OMC_LIT44);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (!listEmpty(tmpMeta[9])) goto tmp3_end;
_inner1 = tmpMeta[2];
_d1 = tmpMeta[4];
_inner2 = tmpMeta[6];
_d2 = tmpMeta[8];
_oty1 = omc_Types_ifExpMakeDimsUnknown(threadData, _inner1, _inner2 ,&_oty2);
tmpMeta[2] = mmc_mk_cons(_d1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _inner1, tmpMeta[2]);
tmpMeta[4] = mmc_mk_cons(_d2, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[5] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _inner2, tmpMeta[4]);
tmpMeta[0+0] = tmpMeta[3];
tmpMeta[0+1] = tmpMeta[5];
goto tmp3_done;
}
case 3: {
tmpMeta[0+0] = _ty1;
tmpMeta[0+1] = _ty2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_oty1 = tmpMeta[0+0];
_oty2 = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_oty2) { *out_oty2 = _oty2; }
return _oty1;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_classTypeEqualIfRecord(threadData_t *threadData, modelica_metatype _st1, modelica_metatype _st2)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;modelica_metatype tmp4_2;
tmp4_1 = _st1;
tmp4_2 = _st2;
{
modelica_metatype _p1 = NULL;
modelica_metatype _p2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,3,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_p1 = tmpMeta[0];
_p2 = tmpMeta[1];
tmp1 = omc_AbsynUtil_pathEqual(threadData, _p1, _p2);
goto tmp3_done;
}
case 1: {
tmp1 = 1;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_classTypeEqualIfRecord(threadData_t *threadData, modelica_metatype _st1, modelica_metatype _st2)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_classTypeEqualIfRecord(threadData, _st1, _st2);
out_b = mmc_mk_icon(_b);
return out_b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_hasMetaArrayWork(threadData_t *threadData, modelica_metatype _ty, modelica_boolean _b, modelica_boolean *out_ob)
{
modelica_metatype _oty = NULL;
modelica_boolean _ob;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_oty = _ty;
_ob = _b;
if((!_b))
{
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_ob = tmp1;
}
_return: OMC_LABEL_UNUSED
if (out_ob) { *out_ob = _ob; }
return _oty;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_hasMetaArrayWork(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _b, modelica_metatype *out_ob)
{
modelica_integer tmp1;
modelica_boolean _ob;
modelica_metatype _oty = NULL;
tmp1 = mmc_unbox_integer(_b);
_oty = omc_Types_hasMetaArrayWork(threadData, _ty, tmp1, &_ob);
if (out_ob) { *out_ob = mmc_mk_icon(_ob); }
return _oty;
}
DLLExport
modelica_boolean omc_Types_hasMetaArray(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_integer tmp1;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
omc_Types_traverseType(threadData, _ty, mmc_mk_boolean(0), boxvar_Types_hasMetaArrayWork, &tmpMeta[0]);
tmp1 = mmc_unbox_integer(tmpMeta[0]);
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_hasMetaArray(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_hasMetaArray(threadData, _ty);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isOverdeterminedType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsOverdetermined;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _cct = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (optionNone(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
_cct = tmpMeta[0];
tmp1 = omc_ClassInf_isTypeOrRecord(threadData, _cct);
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (optionNone(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 1));
tmp1 = 1;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsOverdetermined = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsOverdetermined;
}
modelica_metatype boxptr_Types_isOverdeterminedType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsOverdetermined;
modelica_metatype out_outIsOverdetermined;
_outIsOverdetermined = omc_Types_isOverdeterminedType(threadData, _inType);
out_outIsOverdetermined = mmc_mk_icon(_outIsOverdetermined);
return out_outIsOverdetermined;
}
DLLExport
modelica_boolean omc_Types_isUnknownType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 11: {
tmp1 = 1;
goto tmp3_done;
}
case 19: {
tmp1 = 1;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isUnknownType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isUnknownType(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_string omc_Types_printExpTypeStr(threadData_t *threadData, modelica_metatype _iet)
{
modelica_string _str = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_str = omc_Types_printTypeStr(threadData, omc_Types_expTypetoTypesType(threadData, _iet));
_return: OMC_LABEL_UNUSED
return _str;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeDummyExpFromType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outExp = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _p = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _dim = NULL;
modelica_integer _idim;
modelica_metatype _exp = NULL;
modelica_metatype _expl = NULL;
modelica_metatype _ety = NULL;
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 3: {
tmpMeta[0] = _OMC_LIT45;
goto tmp2_done;
}
case 4: {
tmpMeta[0] = _OMC_LIT47;
goto tmp2_done;
}
case 5: {
tmpMeta[0] = _OMC_LIT48;
goto tmp2_done;
}
case 6: {
tmpMeta[0] = _OMC_LIT49;
goto tmp2_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_p = tmpMeta[1];
tmpMeta[1] = mmc_mk_box3(8, &DAE_Exp_ENUM__LITERAL__desc, _p, mmc_mk_integer(((modelica_integer) 1)));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_ty = tmpMeta[1];
_dim = tmpMeta[3];
_idim = omc_Expression_dimensionSize(threadData, _dim);
_exp = omc_Types_makeDummyExpFromType(threadData, _ty);
_ety = omc_Expression_typeof(threadData, _exp);
_ety = omc_Expression_liftArrayLeft(threadData, _ety, _dim);
_expl = omc_List_fill(threadData, _exp, _idim);
tmpMeta[1] = mmc_mk_box4(19, &DAE_Exp_ARRAY__desc, _ety, mmc_mk_boolean(1), _expl);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outExp = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_isValidFunctionVarState(threadData_t *threadData, modelica_metatype _inState)
{
modelica_boolean _outIsValid;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inState;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 5: {
tmp1 = 0;
goto tmp3_done;
}
case 7: {
tmp1 = 0;
goto tmp3_done;
}
case 8: {
tmp1 = 0;
goto tmp3_done;
}
case 4: {
tmp1 = 0;
goto tmp3_done;
}
case 10: {
tmp1 = 0;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 1;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsValid = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsValid;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_isValidFunctionVarState(threadData_t *threadData, modelica_metatype _inState)
{
modelica_boolean _outIsValid;
modelica_metatype out_outIsValid;
_outIsValid = omc_Types_isValidFunctionVarState(threadData, _inState);
out_outIsValid = mmc_mk_icon(_outIsValid);
return out_outIsValid;
}
DLLExport
modelica_boolean omc_Types_isValidFunctionVarType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsValid;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
modelica_metatype _state = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_state = tmpMeta[0];
tmp1 = omc_Types_isValidFunctionVarState(threadData, _state);
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_ty = tmpMeta[0];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 1;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsValid = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsValid;
}
modelica_metatype boxptr_Types_isValidFunctionVarType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsValid;
modelica_metatype out_outIsValid;
_outIsValid = omc_Types_isValidFunctionVarType(threadData, _inType);
out_outIsValid = mmc_mk_icon(_outIsValid);
return out_outIsValid;
}
DLLExport
modelica_metatype omc_Types_varKindToConst(threadData_t *threadData, modelica_metatype _varKind)
{
modelica_metatype _const = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _varKind;
{
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 3: {
tmpMeta[0] = _OMC_LIT20;
goto tmp2_done;
}
case 4: {
tmpMeta[0] = _OMC_LIT20;
goto tmp2_done;
}
case 5: {
tmpMeta[0] = _OMC_LIT50;
goto tmp2_done;
}
case 6: {
tmpMeta[0] = _OMC_LIT51;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_const = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _const;
}
DLLExport
modelica_metatype omc_Types_variabilityToConst(threadData_t *threadData, modelica_metatype _variability)
{
modelica_metatype _const = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _variability;
{
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 3: {
tmpMeta[0] = _OMC_LIT20;
goto tmp2_done;
}
case 4: {
tmpMeta[0] = _OMC_LIT20;
goto tmp2_done;
}
case 5: {
tmpMeta[0] = _OMC_LIT50;
goto tmp2_done;
}
case 6: {
tmpMeta[0] = _OMC_LIT51;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_const = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _const;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_isZeroDim(threadData_t *threadData, modelica_metatype _dim, modelica_boolean _acc)
{
modelica_boolean _res;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _dim;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_integer tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmp6 = mmc_unbox_integer(tmpMeta[0]);
if (0 != tmp6) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
modelica_integer tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmp7 = mmc_unbox_integer(tmpMeta[0]);
if (0 != tmp7) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
tmp1 = _acc;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_res = tmp1;
_return: OMC_LABEL_UNUSED
return _res;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_isZeroDim(threadData_t *threadData, modelica_metatype _dim, modelica_metatype _acc)
{
modelica_integer tmp1;
modelica_boolean _res;
modelica_metatype out_res;
tmp1 = mmc_unbox_integer(_acc);
_res = omc_Types_isZeroDim(threadData, _dim, tmp1);
out_res = mmc_mk_icon(_res);
return out_res;
}
DLLExport
modelica_boolean omc_Types_isZeroLengthArray(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _res;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
modelica_metatype _dims = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_dims = tmpMeta[0];
tmp1 = mmc_unbox_boolean(omc_List_fold(threadData, _dims, boxvar_Types_isZeroDim, mmc_mk_boolean(0)));
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_res = tmp1;
_return: OMC_LABEL_UNUSED
return _res;
}
modelica_metatype boxptr_Types_isZeroLengthArray(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _res;
modelica_metatype out_res;
_res = omc_Types_isZeroLengthArray(threadData, _ty);
out_res = mmc_mk_icon(_res);
return out_res;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_replaceIntegerTypeWithReal(threadData_t *threadData, modelica_metatype _ty, modelica_integer _dummy, modelica_integer *out_odummy)
{
modelica_metatype _oty = NULL;
modelica_integer _odummy;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_odummy = _dummy;
{
modelica_metatype tmp3_1;
tmp3_1 = _ty;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT4;
goto tmp2_done;
}
case 1: {
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_oty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
if (out_odummy) { *out_odummy = _odummy; }
return _oty;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_replaceIntegerTypeWithReal(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dummy, modelica_metatype *out_odummy)
{
modelica_integer tmp1;
modelica_integer _odummy;
modelica_metatype _oty = NULL;
tmp1 = mmc_unbox_integer(_dummy);
_oty = omc_Types_replaceIntegerTypeWithReal(threadData, _ty, tmp1, &_odummy);
if (out_odummy) { *out_odummy = mmc_mk_icon(_odummy); }
return _oty;
}
DLLExport
modelica_metatype omc_Types_arraySuperType(threadData_t *threadData, modelica_metatype _ity1, modelica_metatype _info, modelica_metatype _ity2)
{
modelica_metatype _ty = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _ity1;
tmp3_2 = _ity2;
{
modelica_string _str1 = NULL;
modelica_string _str2 = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 4; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_boolean tmp5;
modelica_boolean tmp6;
modelica_boolean tmp7;
_ty1 = tmp3_1;
_ty2 = tmp3_2;
tmp5 = omc_Types_isInteger(threadData, omc_Types_arrayElementType(threadData, _ty1));
if (1 != tmp5) goto goto_1;
tmp6 = omc_Types_isReal(threadData, omc_Types_arrayElementType(threadData, _ty2));
if (1 != tmp6) goto goto_1;
_ty1 = omc_Types_traverseType(threadData, _ty1, mmc_mk_integer(((modelica_integer) -1)), boxvar_Types_replaceIntegerTypeWithReal, NULL);
tmp7 = omc_Types_subtype(threadData, _ty1, _ty2, 1);
if (1 != tmp7) goto goto_1;
tmpMeta[0] = _ty1;
goto tmp2_done;
}
case 1: {
modelica_boolean tmp8;
modelica_boolean tmp9;
modelica_boolean tmp10;
_ty1 = tmp3_1;
_ty2 = tmp3_2;
tmp8 = omc_Types_isInteger(threadData, omc_Types_arrayElementType(threadData, _ty2));
if (1 != tmp8) goto goto_1;
tmp9 = omc_Types_isReal(threadData, omc_Types_arrayElementType(threadData, _ty1));
if (1 != tmp9) goto goto_1;
_ty2 = omc_Types_traverseType(threadData, _ty2, mmc_mk_integer(((modelica_integer) -1)), boxvar_Types_replaceIntegerTypeWithReal, NULL);
tmp10 = omc_Types_subtype(threadData, _ty1, _ty2, 1);
if (1 != tmp10) goto goto_1;
tmpMeta[0] = _ty1;
goto tmp2_done;
}
case 2: {
modelica_boolean tmp11;
_ty1 = tmp3_1;
_ty2 = tmp3_2;
tmp11 = omc_Types_subtype(threadData, _ty1, _ty2, 1);
if (1 != tmp11) goto goto_1;
tmpMeta[0] = _ty1;
goto tmp2_done;
}
case 3: {
_ty1 = tmp3_1;
_ty2 = tmp3_2;
_str1 = omc_Types_unparseType(threadData, _ty1);
_str2 = omc_Types_unparseType(threadData, _ty2);
omc_Types_typeErrorSanityCheck(threadData, _str1, _str2, _info);
tmpMeta[1] = mmc_mk_cons(_str1, mmc_mk_cons(_str2, MMC_REFSTRUCTLIT(mmc_nil)));
omc_Error_addSourceMessage(threadData, _OMC_LIT54, tmpMeta[1], _info);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 4) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_ty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _ty;
}
DLLExport
modelica_metatype omc_Types_makeNthDimUnknown(threadData_t *threadData, modelica_metatype _ty, modelica_integer _dim)
{
modelica_metatype _oty = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_integer tmp3_2;
tmp3_1 = _ty;
tmp3_2 = _dim;
{
modelica_metatype _ad = NULL;
modelica_metatype _ty1 = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (1 != tmp3_2) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_ty1 = tmpMeta[1];
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty1, _OMC_LIT44);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_ty1 = tmpMeta[1];
_ad = tmpMeta[3];
_ty1 = omc_Types_makeNthDimUnknown(threadData, _ty1, ((modelica_integer) -1) + _dim);
tmpMeta[1] = mmc_mk_cons(_ad, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty1, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_oty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _oty;
}
modelica_metatype boxptr_Types_makeNthDimUnknown(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dim)
{
modelica_integer tmp1;
modelica_metatype _oty = NULL;
tmp1 = mmc_unbox_integer(_dim);
_oty = omc_Types_makeNthDimUnknown(threadData, _ty, tmp1);
return _oty;
}
DLLExport
modelica_metatype omc_Types_varsToValues(threadData_t *threadData, modelica_metatype _inVarLst, modelica_metatype *out_outExpIdentLst)
{
modelica_metatype _outValuesValueLst = NULL;
modelica_metatype _outExpIdentLst = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inVarLst;
{
modelica_metatype _tp = NULL;
modelica_metatype _rest = NULL;
modelica_metatype _v = NULL;
modelica_metatype _restVals = NULL;
modelica_string _id = NULL;
modelica_metatype _restIds = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
tmp4 += 1;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[3] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 4));
_id = tmpMeta[4];
_tp = tmpMeta[5];
_rest = tmpMeta[3];
_v = omc_Types_typeToValue(threadData, _tp);
_restVals = omc_Types_varsToValues(threadData, _rest ,&_restIds);
tmpMeta[2] = mmc_mk_cons(_v, _restVals);
tmpMeta[3] = mmc_mk_cons(_id, _restIds);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 2: {
modelica_boolean tmp6;
tmp6 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp6) goto goto_2;
omc_Debug_trace(threadData, _OMC_LIT59);
goto goto_2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outValuesValueLst = tmpMeta[0+0];
_outExpIdentLst = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outExpIdentLst) { *out_outExpIdentLst = _outExpIdentLst; }
return _outValuesValueLst;
}
DLLExport
modelica_metatype omc_Types_typeToValue(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _defaultValue = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _vars = NULL;
modelica_metatype _comp = NULL;
modelica_metatype _st = NULL;
modelica_metatype _t = NULL;
modelica_metatype _tys = NULL;
modelica_string _s1 = NULL;
modelica_metatype _path = NULL;
modelica_integer _i;
modelica_metatype _iOpt = NULL;
modelica_metatype _v = NULL;
modelica_metatype _valueLst = NULL;
modelica_metatype _ordered = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 11; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmp3 += 9;
tmpMeta[0] = _OMC_LIT60;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmp3 += 8;
tmpMeta[0] = _OMC_LIT61;
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,1) == 0) goto tmp2_end;
tmp3 += 7;
tmpMeta[0] = _OMC_LIT63;
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,1) == 0) goto tmp2_end;
tmp3 += 6;
tmpMeta[0] = _OMC_LIT64;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_iOpt = tmpMeta[1];
_path = tmpMeta[2];
tmp3 += 5;
_i = omc_Types_optInteger(threadData, _iOpt);
tmpMeta[1] = mmc_mk_box3(7, &Values_Value_ENUM__LITERAL__desc, _path, mmc_mk_integer(_i));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_st = tmpMeta[1];
_vars = tmpMeta[2];
tmp3 += 4;
_ordered = omc_Types_varsToValues(threadData, _vars ,&_comp);
_path = omc_ClassInf_getStateName(threadData, _st);
tmpMeta[1] = mmc_mk_box5(13, &Values_Value_RECORD__desc, _path, _ordered, _comp, mmc_mk_integer(((modelica_integer) -1)));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_t = tmpMeta[1];
tmp3 += 3;
tmpMeta[0] = omc_Types_typeToValue(threadData, _t);
goto tmp2_done;
}
case 7: {
modelica_integer tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,1) == 0) goto tmp2_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmp5 = mmc_unbox_integer(tmpMeta[5]);
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_t = tmpMeta[1];
_i = tmp5;
tmp3 += 2;
_v = omc_Types_typeToValue(threadData, _t);
_valueLst = omc_List_fill(threadData, _v, _i);
tmpMeta[1] = mmc_mk_cons(mmc_mk_integer(_i), MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(8, &Values_Value_ARRAY__desc, _valueLst, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[1];
tmp3 += 1;
_valueLst = omc_List_map(threadData, _tys, boxvar_Types_typeToValue);
tmpMeta[1] = mmc_mk_box2(11, &Values_Value_TUPLE__desc, _valueLst);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,8,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT65;
goto tmp2_done;
}
case 10: {
modelica_boolean tmp6;
tmp6 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp6) goto goto_1;
omc_Debug_trace(threadData, _OMC_LIT66);
_s1 = omc_Types_printTypeStr(threadData, _inType);
omc_Debug_traceln(threadData, _s1);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 11) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_defaultValue = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _defaultValue;
}
PROTECTED_FUNCTION_STATIC modelica_integer omc_Types_optInteger(threadData_t *threadData, modelica_metatype _inInt)
{
modelica_integer _outInt;
modelica_integer tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inInt;
{
modelica_integer _i;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_integer tmp6;
if (optionNone(tmp4_1)) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
tmp6 = mmc_unbox_integer(tmpMeta[0]);
_i = tmp6;
tmp1 = _i;
goto tmp3_done;
}
case 1: {
tmp1 = ((modelica_integer) -1);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outInt = tmp1;
_return: OMC_LABEL_UNUSED
return _outInt;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_optInteger(threadData_t *threadData, modelica_metatype _inInt)
{
modelica_integer _outInt;
modelica_metatype out_outInt;
_outInt = omc_Types_optInteger(threadData, _inInt);
out_outInt = mmc_mk_icon(_outInt);
return out_outInt;
}
DLLExport
modelica_boolean omc_Types_varHasMetaRecordType(threadData_t *threadData, modelica_metatype _var)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _var;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 4; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],23,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],21,6) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],21,6) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],23,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],9,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],21,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 3: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_varHasMetaRecordType(threadData_t *threadData, modelica_metatype _var)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_varHasMetaRecordType(threadData, _var);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_string omc_Types_printCodeTypeStr(threadData_t *threadData, modelica_metatype _ct)
{
modelica_string _str = NULL;
modelica_string tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ct;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 3: {
tmp1 = _OMC_LIT67;
goto tmp3_done;
}
case 4: {
tmp1 = _OMC_LIT68;
goto tmp3_done;
}
case 5: {
tmp1 = _OMC_LIT69;
goto tmp3_done;
}
case 6: {
tmp1 = _OMC_LIT70;
goto tmp3_done;
}
case 7: {
tmp1 = _OMC_LIT71;
goto tmp3_done;
}
case 8: {
tmp1 = _OMC_LIT72;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = _OMC_LIT73;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_str = tmp1;
_return: OMC_LABEL_UNUSED
return _str;
}
DLLExport
modelica_metatype omc_Types_unboxedFunctionType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _args1 = NULL;
modelica_metatype _tys1 = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _functionAttributes = NULL;
modelica_metatype _path = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
_args1 = tmpMeta[1];
_ty1 = tmpMeta[2];
_functionAttributes = tmpMeta[3];
_path = tmpMeta[4];
_tys1 = omc_List_mapMap(threadData, _args1, boxvar_Types_funcArgType, boxvar_Types_unboxedType);
_ty1 = omc_Types_unboxedType(threadData, _ty1);
_args1 = omc_List_threadMap(threadData, _args1, _tys1, boxvar_Types_setFuncArgType);
tmpMeta[1] = mmc_mk_box5(14, &DAE_Type_T__FUNCTION__desc, _args1, _ty1, _functionAttributes, _path);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_boolean omc_Types_allTuple(threadData_t *threadData, modelica_metatype _itys)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _itys;
{
modelica_metatype _tys = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[0] = MMC_CAR(tmp4_1);
tmpMeta[1] = MMC_CDR(tmp4_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],14,2) == 0) goto tmp3_end;
_tys = tmpMeta[1];
_itys = _tys;
goto _tailrecursive;
goto tmp3_done;
}
case 2: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_allTuple(threadData_t *threadData, modelica_metatype _itys)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_allTuple(threadData, _itys);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_makeRegularTupleFromMetaTupleOnTrue(threadData_t *threadData, modelica_boolean _b, modelica_metatype _ty)
{
modelica_metatype _out = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_boolean tmp3_1;modelica_metatype tmp3_2;
tmp3_1 = _b;
tmp3_2 = _ty;
{
modelica_metatype _tys = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (1 != tmp3_1) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,18,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_tys = tmpMeta[1];
_tys = omc_List_mapMap(threadData, _tys, boxvar_Types_unboxedType, boxvar_Types_boxIfUnboxedType);
_tys = omc_List_map(threadData, _tys, boxvar_Types_unboxedType);
tmpMeta[1] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, _tys, mmc_mk_none());
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (0 != tmp3_1) goto tmp2_end;
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_out = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _out;
}
modelica_metatype boxptr_Types_makeRegularTupleFromMetaTupleOnTrue(threadData_t *threadData, modelica_metatype _b, modelica_metatype _ty)
{
modelica_integer tmp1;
modelica_metatype _out = NULL;
tmp1 = mmc_unbox_integer(_b);
_out = omc_Types_makeRegularTupleFromMetaTupleOnTrue(threadData, tmp1, _ty);
return _out;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_traverseFuncArg(threadData_t *threadData, modelica_metatype _iargs, modelica_metatype _ia, modelica_fnptr _fn, modelica_metatype *out_oa)
{
modelica_metatype _oargs = NULL;
modelica_metatype _oa = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;modelica_metatype tmp4_2;
tmp4_1 = _iargs;
tmp4_2 = _ia;
{
modelica_metatype _args = NULL;
modelica_metatype _a = NULL;
modelica_metatype _arg = NULL;
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
_a = tmp4_2;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
_arg = tmpMeta[2];
_args = tmpMeta[3];
_a = tmp4_2;
_ty = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_arg), 3))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(7));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_arg), 7*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[3] = _ty;
_arg = tmpMeta[2];
_args = omc_Types_traverseFuncArg(threadData, _args, _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = mmc_mk_cons(_arg, _args);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _a;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_oargs = tmpMeta[0+0];
_oa = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_oa) { *out_oa = _oa; }
return _oargs;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_traverseVarTypes(threadData_t *threadData, modelica_metatype _ivars, modelica_metatype _ia, modelica_fnptr _fn, modelica_metatype *out_oa)
{
modelica_metatype _ovars = NULL;
modelica_metatype _oa = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;modelica_metatype tmp4_2;
tmp4_1 = _ivars;
tmp4_2 = _ia;
{
modelica_metatype _var = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _vars = NULL;
modelica_metatype _a = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
_a = tmp4_2;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
_var = tmpMeta[2];
_vars = tmpMeta[3];
_a = tmp4_2;
_ty = omc_Types_getVarType(threadData, _var);
_ty = omc_Types_traverseType(threadData, _ty, _a, ((modelica_fnptr) _fn) ,&_a);
_var = omc_Types_setVarType(threadData, _var, _ty);
_vars = omc_Types_traverseVarTypes(threadData, _vars, _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = mmc_mk_cons(_var, _vars);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _a;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_ovars = tmpMeta[0+0];
_oa = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_oa) { *out_oa = _oa; }
return _ovars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_traverseTupleType(threadData_t *threadData, modelica_metatype _itys, modelica_metatype _ia, modelica_fnptr _fn, modelica_metatype *out_oa)
{
modelica_metatype _otys = NULL;
modelica_metatype _oa = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;modelica_metatype tmp4_2;
tmp4_1 = _itys;
tmp4_2 = _ia;
{
modelica_metatype _ty = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _a = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
_a = tmp4_2;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
_ty = tmpMeta[2];
_tys = tmpMeta[3];
_a = tmp4_2;
_ty = omc_Types_traverseType(threadData, _ty, _a, ((modelica_fnptr) _fn) ,&_a);
_tys = omc_Types_traverseTupleType(threadData, _tys, _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = mmc_mk_cons(_ty, _tys);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _a;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_otys = tmpMeta[0+0];
_oa = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_oa) { *out_oa = _oa; }
return _otys;
}
DLLExport
modelica_metatype omc_Types_traverseType(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _arg, modelica_fnptr _fn, modelica_metatype *out_a)
{
modelica_metatype _oty = NULL;
modelica_metatype _a = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_a = _arg;
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
modelica_metatype _tys = NULL;
modelica_metatype _tyInner = NULL;
modelica_string _str = NULL;
modelica_metatype _vars = NULL;
modelica_metatype _farg = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 26; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,1) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,0) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,0) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,5) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,24,1) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 10: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,1) == 0) goto tmp3_end;
_oty = tmp4_1;
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
_oty = tmp4_1;
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,25,1) == 0) goto tmp3_end;
_oty = tmp4_1;
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,1) == 0) goto tmp3_end;
_oty = tmp4_1;
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
_oty = tmp4_1;
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 16: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,1) == 0) goto tmp3_end;
_oty = tmp4_1;
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,1) == 0) goto tmp3_end;
_oty = tmp4_1;
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 18: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,2) == 0) goto tmp3_end;
_oty = tmp4_1;
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 3))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[3] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 19: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,1) == 0) goto tmp3_end;
_oty = tmp4_1;
_tys = omc_Types_traverseTupleType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _tys;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
_oty = tmp4_1;
_tys = omc_Types_traverseTupleType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _tys;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 21: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,6) == 0) goto tmp3_end;
_oty = tmp4_1;
_vars = omc_Types_traverseVarTypes(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 6))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[6] = _vars;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 22: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
_oty = tmp4_1;
_vars = omc_Types_traverseVarTypes(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 3))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(5));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 5*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[3] = _vars;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 23: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
_oty = tmp4_1;
_vars = omc_Types_traverseVarTypes(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 3))), _a, ((modelica_fnptr) _fn) ,&_a);
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 4))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(6));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 6*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[3] = _vars;
_oty = tmpMeta[2];
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(6));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 6*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[4] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 24: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
_oty = tmp4_1;
_farg = omc_Types_traverseFuncArg(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))), _a, ((modelica_fnptr) _fn) ,&_a);
_tyInner = omc_Types_traverseType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 3))), _a, ((modelica_fnptr) _fn) ,&_a);
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(6));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 6*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = _farg;
_oty = tmpMeta[2];
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(6));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 6*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[3] = _tyInner;
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmpMeta[0+1] = _a;
goto tmp3_done;
}
case 25: {
tmpMeta[2] = stringAppend(_OMC_LIT74,omc_Types_unparseType(threadData, _ty));
_str = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil));
omc_Error_addMessage(threadData, _OMC_LIT77, tmpMeta[2]);
goto goto_2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_oty = tmpMeta[0+0];
_a = tmpMeta[0+1];
_oty = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fn), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fn), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fn), 2))), _oty, _a ,&_a) : ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_fn), 1)))) (threadData, _oty, _a ,&_a);
_return: OMC_LABEL_UNUSED
if (out_a) { *out_a = _a; }
return _oty;
}
DLLExport
modelica_metatype omc_Types_makeKnownDimensionsInteger(threadData_t *threadData, modelica_metatype _ty, modelica_integer _dummy, modelica_integer *out_odummy)
{
modelica_metatype _oty = NULL;
modelica_integer _odummy;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_oty = _ty;
_odummy = _dummy;
{
modelica_metatype tmp3_1;
tmp3_1 = _oty;
{
modelica_integer _size;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 4; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],1,0) == 0) goto tmp2_end;
if (!listEmpty(tmpMeta[3])) goto tmp2_end;
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_oty), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[3] = _OMC_LIT79;
_oty = tmpMeta[1];
tmpMeta[0] = _oty;
goto tmp2_done;
}
case 1: {
modelica_integer tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],2,3) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 4));
tmp5 = mmc_unbox_integer(tmpMeta[4]);
if (!listEmpty(tmpMeta[3])) goto tmp2_end;
_size = tmp5;
tmpMeta[3] = mmc_mk_box2(3, &DAE_Dimension_DIM__INTEGER__desc, mmc_mk_integer(_size));
tmpMeta[2] = mmc_mk_cons(tmpMeta[3], MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_oty), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[3] = tmpMeta[2];
_oty = tmpMeta[1];
tmpMeta[0] = _oty;
goto tmp2_done;
}
case 2: {
modelica_integer tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],3,1) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],0,1) == 0) goto tmp2_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
tmp6 = mmc_unbox_integer(tmpMeta[5]);
if (!listEmpty(tmpMeta[3])) goto tmp2_end;
_size = tmp6;
tmpMeta[3] = mmc_mk_box2(3, &DAE_Dimension_DIM__INTEGER__desc, mmc_mk_integer(_size));
tmpMeta[2] = mmc_mk_cons(tmpMeta[3], MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_oty), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[3] = tmpMeta[2];
_oty = tmpMeta[1];
tmpMeta[0] = _oty;
goto tmp2_done;
}
case 3: {
tmpMeta[0] = _oty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_oty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
if (out_odummy) { *out_odummy = _odummy; }
return _oty;
}
modelica_metatype boxptr_Types_makeKnownDimensionsInteger(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dummy, modelica_metatype *out_odummy)
{
modelica_integer tmp1;
modelica_integer _odummy;
modelica_metatype _oty = NULL;
tmp1 = mmc_unbox_integer(_dummy);
_oty = omc_Types_makeKnownDimensionsInteger(threadData, _ty, tmp1, &_odummy);
if (out_odummy) { *out_odummy = mmc_mk_icon(_odummy); }
return _oty;
}
DLLExport
modelica_metatype omc_Types_makeExpDimensionsUnknown(threadData_t *threadData, modelica_metatype _ty, modelica_integer _dummy, modelica_integer *out_odummy)
{
modelica_metatype _oty = NULL;
modelica_integer _odummy;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_oty = _ty;
_odummy = _dummy;
{
modelica_metatype tmp3_1;
tmp3_1 = _oty;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],3,1) == 0) goto tmp2_end;
if (!listEmpty(tmpMeta[3])) goto tmp2_end;
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_oty), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[3] = _OMC_LIT44;
_oty = tmpMeta[1];
tmpMeta[0] = _oty;
goto tmp2_done;
}
case 1: {
tmpMeta[0] = _oty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_oty = tmpMeta[0];
_return: OMC_LABEL_UNUSED
if (out_odummy) { *out_odummy = _odummy; }
return _oty;
}
modelica_metatype boxptr_Types_makeExpDimensionsUnknown(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _dummy, modelica_metatype *out_odummy)
{
modelica_integer tmp1;
modelica_integer _odummy;
modelica_metatype _oty = NULL;
tmp1 = mmc_unbox_integer(_dummy);
_oty = omc_Types_makeExpDimensionsUnknown(threadData, _ty, tmp1, &_odummy);
if (out_odummy) { *out_odummy = mmc_mk_icon(_odummy); }
return _oty;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_prefixTraversedPolymorphicType(threadData_t *threadData, modelica_metatype _ty, modelica_string _prefix, modelica_string *out_str)
{
modelica_metatype _oty = NULL;
modelica_string _str = NULL;
modelica_string tmp1_c1 __attribute__((unused)) = 0;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_oty = _ty;
{
modelica_metatype tmp4_1;
tmp4_1 = _oty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,24,1) == 0) goto tmp3_end;
tmpMeta[3] = stringAppend(_prefix,(MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_oty), 2))));
tmpMeta[2] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[2]), MMC_UNTAGPTR(_oty), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[2]))[2] = tmpMeta[3];
_oty = tmpMeta[2];
tmpMeta[0+0] = _oty;
tmp1_c1 = _prefix;
goto tmp3_done;
}
case 1: {
tmpMeta[0+0] = _ty;
tmp1_c1 = _prefix;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_oty = tmpMeta[0+0];
_str = tmp1_c1;
_return: OMC_LABEL_UNUSED
if (out_str) { *out_str = _str; }
return _oty;
}
DLLExport
modelica_boolean omc_Types_isFunctionType(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isFunctionType(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isFunctionType(threadData, _ty);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_convertTupleToMetaTuple(threadData_t *threadData, modelica_metatype _exp, modelica_metatype _ty, modelica_metatype *out_oty)
{
modelica_metatype _oexp = NULL;
modelica_metatype _oty = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _exp;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
tmpMeta[0+0] = omc_Types_matchType(threadData, _exp, _ty, _OMC_LIT80, 0, &tmpMeta[0+1]);
goto tmp3_done;
}
case 1: {
tmpMeta[0+0] = _exp;
tmpMeta[0+1] = _ty;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_oexp = tmpMeta[0+0];
_oty = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_oty) { *out_oty = _oty; }
return _oexp;
}
DLLExport
modelica_metatype omc_Types_liftArraySubscriptList(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inSubscriptLst)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _inSubscriptLst;
{
modelica_metatype _ty = NULL;
modelica_metatype _sub = NULL;
modelica_metatype _rest = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_2)) goto tmp2_end;
_ty = tmp3_1;
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_2);
tmpMeta[2] = MMC_CDR(tmp3_2);
_sub = tmpMeta[1];
_rest = tmpMeta[2];
_ty = tmp3_1;
tmpMeta[0] = omc_Types_liftArraySubscript(threadData, omc_Types_liftArraySubscriptList(threadData, _ty, _rest), _sub);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_liftArraySubscript(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inSubscript)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _inSubscript;
{
modelica_metatype _ty = NULL;
modelica_integer _i;
modelica_metatype _e = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_integer tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,3,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmp5 = mmc_unbox_integer(tmpMeta[2]);
_i = tmp5;
_ty = tmp3_1;
tmpMeta[2] = mmc_mk_box2(3, &DAE_Dimension_DIM__INTEGER__desc, mmc_mk_integer(_i));
tmpMeta[1] = mmc_mk_cons(tmpMeta[2], MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, tmpMeta[1]);
tmpMeta[0] = tmpMeta[3];
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,3,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_e = tmpMeta[1];
_ty = tmp3_1;
tmpMeta[2] = mmc_mk_box2(6, &DAE_Dimension_DIM__EXP__desc, _e);
tmpMeta[1] = mmc_mk_cons(tmpMeta[2], MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, tmpMeta[1]);
tmpMeta[0] = tmpMeta[3];
goto tmp2_done;
}
case 2: {
_ty = tmp3_1;
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_boxVarLst(threadData_t *threadData, modelica_metatype _vars)
{
modelica_metatype _ovars = NULL;
modelica_metatype tmpMeta[9] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _vars;
{
modelica_string _name = NULL;
modelica_metatype _attributes = NULL;
modelica_metatype _type_ = NULL;
modelica_metatype _binding = NULL;
modelica_boolean _bdsrc;
modelica_metatype _constOfForIteratorRange = NULL;
modelica_metatype _rest = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
modelica_integer tmp5;
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 4));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 6));
tmp5 = mmc_unbox_integer(tmpMeta[7]);
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 7));
_name = tmpMeta[3];
_attributes = tmpMeta[4];
_type_ = tmpMeta[5];
_binding = tmpMeta[6];
_bdsrc = tmp5;
_constOfForIteratorRange = tmpMeta[8];
_rest = tmpMeta[2];
_type_ = omc_Types_boxIfUnboxedType(threadData, _type_);
_rest = omc_Types_boxVarLst(threadData, _rest);
tmpMeta[2] = mmc_mk_box7(3, &DAE_Var_TYPES__VAR__desc, _name, _attributes, _type_, _binding, mmc_mk_boolean(_bdsrc), _constOfForIteratorRange);
tmpMeta[1] = mmc_mk_cons(tmpMeta[2], _rest);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_ovars = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _ovars;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_subtypePolymorphicList(threadData_t *threadData, modelica_metatype _actual, modelica_metatype _expected, modelica_metatype _envPath, modelica_metatype _ibindings)
{
modelica_metatype _outBindings = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;modelica_metatype tmp3_3;
tmp3_1 = _actual;
tmp3_2 = _expected;
tmp3_3 = _ibindings;
{
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _tList1 = NULL;
modelica_metatype _tList2 = NULL;
modelica_metatype _bindings = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
if (!listEmpty(tmp3_2)) goto tmp2_end;
_bindings = tmp3_3;
tmpMeta[0] = _bindings;
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmp3_2);
tmpMeta[4] = MMC_CDR(tmp3_2);
_ty1 = tmpMeta[1];
_tList1 = tmpMeta[2];
_ty2 = tmpMeta[3];
_tList2 = tmpMeta[4];
_bindings = tmp3_3;
_bindings = omc_Types_subtypePolymorphic(threadData, _ty1, _ty2, _envPath, _bindings);
_actual = _tList1;
_expected = _tList2;
_ibindings = _bindings;
goto _tailrecursive;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outBindings = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outBindings;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_subtypePolymorphic(threadData_t *threadData, modelica_metatype _actual, modelica_metatype _expected, modelica_metatype _envPath, modelica_metatype _inBindings)
{
modelica_metatype _bindings = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _actual;
tmp3_2 = _expected;
{
modelica_string _id = NULL;
modelica_string _prefix = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _farg1 = NULL;
modelica_metatype _farg2 = NULL;
modelica_metatype _tList1 = NULL;
modelica_metatype _tList2 = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _path1 = NULL;
modelica_metatype _path2 = NULL;
modelica_metatype _ids = NULL;
modelica_metatype _names1 = NULL;
modelica_metatype _names2 = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 21; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,24,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_id = tmpMeta[1];
tmpMeta[1] = stringAppend(_OMC_LIT81,_id);
tmpMeta[0] = omc_Types_addPolymorphicBinding(threadData, tmpMeta[1], _actual, _inBindings);
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,24,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_id = tmpMeta[1];
tmp3 += 1;
if((stringGet(_id, ((modelica_integer) 1)) != ((modelica_integer) 36)))
{
goto goto_1;
}
tmpMeta[1] = stringAppend(_OMC_LIT82,_id);
tmpMeta[0] = omc_Types_addPolymorphicBinding(threadData, tmpMeta[1], _expected, _inBindings);
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,23,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty1 = tmpMeta[1];
_ty2 = tmp3_2;
_ty1 = omc_Types_unboxedType(threadData, _ty1);
tmpMeta[0] = omc_Types_subtypePolymorphic(threadData, _ty1, _ty2, _envPath, _inBindings);
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,23,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_ty2 = tmpMeta[1];
_ty1 = tmp3_1;
tmp3 += 15;
_ty2 = omc_Types_unboxedType(threadData, _ty2);
tmpMeta[0] = omc_Types_subtypePolymorphic(threadData, _ty1, _ty2, _envPath, _inBindings);
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,0) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,7,0) == 0) goto tmp2_end;
tmp3 += 16;
tmpMeta[0] = _inBindings;
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,1) == 0) goto tmp2_end;
tmp3 += 15;
tmpMeta[0] = _inBindings;
goto tmp2_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,1) == 0) goto tmp2_end;
tmp3 += 14;
tmpMeta[0] = _inBindings;
goto tmp2_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,1) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,2,1) == 0) goto tmp2_end;
tmp3 += 13;
tmpMeta[0] = _inBindings;
goto tmp2_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,1) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,3,1) == 0) goto tmp2_end;
tmp3 += 12;
tmpMeta[0] = _inBindings;
goto tmp2_done;
}
case 9: {
modelica_boolean tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,5,5) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 4));
_names1 = tmpMeta[1];
_names2 = tmpMeta[2];
tmp3 += 11;
tmp5 = omc_List_isEqualOnTrue(threadData, _names1, _names2, boxvar_stringEq);
if (1 != tmp5) goto goto_1;
tmpMeta[0] = _inBindings;
goto tmp2_done;
}
case 10: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,6,2) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_ty1 = tmpMeta[1];
_ty2 = tmpMeta[2];
tmp3 += 10;
tmpMeta[0] = omc_Types_subtypePolymorphic(threadData, _ty1, _ty2, _envPath, _inBindings);
goto tmp2_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,22,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_ty1 = tmpMeta[1];
_ty2 = tmpMeta[2];
tmp3 += 9;
tmpMeta[0] = omc_Types_subtypePolymorphic(threadData, _ty1, _ty2, _envPath, _inBindings);
goto tmp2_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,17,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_ty1 = tmpMeta[1];
_ty2 = tmpMeta[2];
tmp3 += 8;
tmpMeta[0] = omc_Types_subtypePolymorphic(threadData, _ty1, _ty2, _envPath, _inBindings);
goto tmp2_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,19,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,19,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_ty1 = tmpMeta[1];
_ty2 = tmpMeta[2];
tmp3 += 7;
tmpMeta[0] = omc_Types_subtypePolymorphic(threadData, _ty1, _ty2, _envPath, _inBindings);
goto tmp2_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,18,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_tList1 = tmpMeta[1];
_tList2 = tmpMeta[2];
tmp3 += 6;
tmpMeta[0] = omc_Types_subtypePolymorphicList(threadData, _tList1, _tList2, _envPath, _inBindings);
goto tmp2_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,14,2) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_tList1 = tmpMeta[1];
_tList2 = tmpMeta[2];
tmp3 += 5;
tmpMeta[0] = omc_Types_subtypePolymorphicList(threadData, _tList1, _tList2, _envPath, _inBindings);
goto tmp2_done;
}
case 16: {
modelica_boolean tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,20,5) == 0) goto tmp2_end;
tmp3 += 4;
tmp6 = omc_AbsynUtil_pathEqual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_actual), 6))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_expected), 6))));
if (1 != tmp6) goto goto_1;
tmpMeta[0] = omc_Types_subtypePolymorphicList(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_actual), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_expected), 3))), _envPath, _inBindings);
goto tmp2_done;
}
case 17: {
modelica_boolean tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],17,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,9,3) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],17,1) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
_path1 = tmpMeta[2];
_path2 = tmpMeta[4];
tmp3 += 3;
tmp7 = omc_AbsynUtil_pathEqual(threadData, _path1, _path2);
if (1 != tmp7) goto goto_1;
tmpMeta[0] = _inBindings;
goto tmp2_done;
}
case 18: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,11,4) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_farg1 = tmpMeta[1];
_ty1 = tmpMeta[2];
_path1 = tmpMeta[3];
_farg2 = tmpMeta[4];
_ty2 = tmpMeta[5];
tmp3 += 2;
if(omc_AbsynUtil_pathPrefixOf(threadData, omc_Util_getOptionOrDefault(threadData, _envPath, _OMC_LIT84), _path1))
{
_tList1 = omc_List_map(threadData, _farg1, boxvar_Types_funcArgType);
_tList2 = omc_List_map(threadData, _farg2, boxvar_Types_funcArgType);
_bindings = omc_Types_subtypePolymorphicList(threadData, _tList1, _tList2, _envPath, _inBindings);
_bindings = omc_Types_subtypePolymorphic(threadData, _ty1, _ty2, _envPath, _bindings);
}
else
{
tmpMeta[1] = stringAppend(_OMC_LIT81,omc_AbsynUtil_pathString(threadData, _path1, _OMC_LIT24, 1, 0));
tmpMeta[2] = stringAppend(tmpMeta[1],_OMC_LIT24);
_prefix = tmpMeta[2];
tmpMeta[1] = omc_Types_traverseType(threadData, _actual, _prefix, boxvar_Types_prefixTraversedPolymorphicType, NULL);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],11,4) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_farg1 = tmpMeta[2];
_ty1 = tmpMeta[3];
_tList1 = omc_List_map(threadData, _farg1, boxvar_Types_funcArgType);
_tList2 = omc_List_map(threadData, _farg2, boxvar_Types_funcArgType);
_bindings = omc_Types_subtypePolymorphicList(threadData, _tList1, _tList2, _envPath, _inBindings);
_bindings = omc_Types_subtypePolymorphic(threadData, _ty1, _ty2, _envPath, _bindings);
}
tmpMeta[0] = _bindings;
goto tmp2_done;
}
case 19: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,8,0) == 0) goto tmp2_end;
_ty2 = tmp3_2;
tmp3 += 1;
_tys = omc_Types_getAllInnerTypesOfType(threadData, _ty2, boxvar_Types_isPolymorphic);
_ids = omc_List_map(threadData, _tys, boxvar_Types_polymorphicTypeName);
tmpMeta[0] = omc_List_fold1(threadData, _ids, boxvar_Types_addPolymorphicBinding, _actual, _inBindings);
goto tmp2_done;
}
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,16,1) == 0) goto tmp2_end;
_ty2 = tmp3_2;
_tys = omc_Types_getAllInnerTypesOfType(threadData, _ty2, boxvar_Types_isPolymorphic);
_ids = omc_List_map(threadData, _tys, boxvar_Types_polymorphicTypeName);
tmpMeta[0] = omc_List_fold1(threadData, _ids, boxvar_Types_addPolymorphicBinding, _actual, _inBindings);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 21) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_bindings = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _bindings;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_replaceSolvedBinding(threadData_t *threadData, modelica_metatype _ity, modelica_metatype _isolvedBindings)
{
modelica_metatype _outTy = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;
tmp3_1 = _ity;
tmp3_2 = _isolvedBindings;
{
modelica_metatype _args = NULL;
modelica_metatype _tys = NULL;
modelica_string _id = NULL;
modelica_metatype _path = NULL;
modelica_metatype _functionAttributes = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _resType = NULL;
modelica_metatype _solvedBindings = NULL;
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
_solvedBindings = tmp3_2;
_ty = omc_Types_replaceSolvedBinding(threadData, _ty, _solvedBindings);
tmpMeta[1] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _ty);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 25: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
_solvedBindings = tmp3_2;
_ty = omc_Types_replaceSolvedBinding(threadData, _ty, _solvedBindings);
tmpMeta[1] = mmc_mk_box2(25, &DAE_Type_T__METAARRAY__desc, _ty);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 22: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,19,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
_solvedBindings = tmp3_2;
_ty = omc_Types_replaceSolvedBinding(threadData, _ty, _solvedBindings);
tmpMeta[1] = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, _ty);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 21: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[1];
_solvedBindings = tmp3_2;
_tys = omc_Types_replaceSolvedBindings(threadData, _tys, _solvedBindings, 0);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _tys);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[1];
_solvedBindings = tmp3_2;
_tys = omc_Types_replaceSolvedBindings(threadData, _tys, _solvedBindings, 0);
tmpMeta[1] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, _tys, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ity), 3))));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
_args = tmpMeta[1];
_resType = tmpMeta[2];
_functionAttributes = tmpMeta[3];
_path = tmpMeta[4];
_solvedBindings = tmp3_2;
_tys = omc_List_map(threadData, _args, boxvar_Types_funcArgType);
tmpMeta[1] = mmc_mk_cons(_resType, _tys);
_tys = omc_Types_replaceSolvedBindings(threadData, tmpMeta[1], _solvedBindings, 0);
_tys = omc_List_map(threadData, _tys, boxvar_Types_unboxedType);
tmpMeta[1] = omc_List_map(threadData, _tys, boxvar_Types_boxIfUnboxedType);
if (listEmpty(tmpMeta[1])) goto goto_1;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_ty = tmpMeta[2];
_tys = tmpMeta[3];
_args = omc_List_threadMap(threadData, _args, _tys, boxvar_Types_setFuncArgType);
_ty = omc_Types_makeRegularTupleFromMetaTupleOnTrue(threadData, omc_Types_isTuple(threadData, _resType), _ty);
tmpMeta[1] = mmc_mk_box5(14, &DAE_Type_T__FUNCTION__desc, _args, _ty, _functionAttributes, _path);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 27: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,24,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_id = tmpMeta[1];
_solvedBindings = tmp3_2;
tmpMeta[1] = omc_Types_polymorphicBindingsLookup(threadData, _id, _solvedBindings);
if (listEmpty(tmpMeta[1])) goto goto_1;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (!listEmpty(tmpMeta[3])) goto goto_1;
_ty = tmpMeta[2];
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outTy = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outTy;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_replaceSolvedBindings(threadData_t *threadData, modelica_metatype _itys, modelica_metatype _isolvedBindings, modelica_boolean _changed)
{
modelica_metatype _outTys = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;volatile modelica_boolean tmp3_3;
tmp3_1 = _itys;
tmp3_2 = _isolvedBindings;
tmp3_3 = _changed;
{
modelica_metatype _ty = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _solvedBindings = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (1 != tmp3_3) goto tmp2_end;
if (!listEmpty(tmp3_1)) goto tmp2_end;
tmp3 += 2;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
_ty = tmpMeta[1];
_tys = tmpMeta[2];
_solvedBindings = tmp3_2;
_ty = omc_Types_replaceSolvedBinding(threadData, _ty, _solvedBindings);
_tys = omc_Types_replaceSolvedBindings(threadData, _tys, _solvedBindings, 1);
tmpMeta[1] = mmc_mk_cons(_ty, _tys);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
_ty = tmpMeta[1];
_tys = tmpMeta[2];
_solvedBindings = tmp3_2;
_tys = omc_Types_replaceSolvedBindings(threadData, _tys, _solvedBindings, _changed);
tmpMeta[1] = mmc_mk_cons(_ty, _tys);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outTys = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outTys;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_replaceSolvedBindings(threadData_t *threadData, modelica_metatype _itys, modelica_metatype _isolvedBindings, modelica_metatype _changed)
{
modelica_integer tmp1;
modelica_metatype _outTys = NULL;
tmp1 = mmc_unbox_integer(_changed);
_outTys = omc_Types_replaceSolvedBindings(threadData, _itys, _isolvedBindings, tmp1);
return _outTys;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_solveBindingsThread(threadData_t *threadData, modelica_metatype _itys1, modelica_metatype _itys2, modelica_boolean _changed, modelica_metatype _isolvedBindings, modelica_metatype *out_outSolvedBindings)
{
modelica_metatype _outTys = NULL;
modelica_metatype _outSolvedBindings = NULL;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_boolean tmp4_3;volatile modelica_metatype tmp4_4;
tmp4_1 = _itys1;
tmp4_2 = _itys2;
tmp4_3 = _changed;
tmp4_4 = _isolvedBindings;
{
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _solvedBindings = NULL;
modelica_metatype _tys1 = NULL;
modelica_metatype _tys2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmp4_2);
tmpMeta[5] = MMC_CDR(tmp4_2);
_ty1 = tmpMeta[2];
_tys1 = tmpMeta[3];
_ty2 = tmpMeta[4];
_tys2 = tmpMeta[5];
_solvedBindings = tmp4_4;
tmpMeta[3] = mmc_mk_cons(_ty1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[4] = mmc_mk_cons(_ty2, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[5] = omc_Types_solveBindings(threadData, tmpMeta[3], tmpMeta[4], _solvedBindings, &tmpMeta[2]);
if (listEmpty(tmpMeta[5])) goto goto_2;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (!listEmpty(tmpMeta[7])) goto goto_2;
_ty1 = tmpMeta[6];
_solvedBindings = tmpMeta[2];
_tys2 = omc_Types_solveBindingsThread(threadData, _tys1, _tys2, 1, _solvedBindings ,&_solvedBindings);
tmpMeta[2] = mmc_mk_cons(_ty1, _tys2);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmp4_2);
tmpMeta[5] = MMC_CDR(tmp4_2);
_ty1 = tmpMeta[2];
_tys1 = tmpMeta[3];
_tys2 = tmpMeta[5];
_solvedBindings = tmp4_4;
tmp4 += 1;
_tys2 = omc_Types_solveBindingsThread(threadData, _tys1, _tys2, _changed, _solvedBindings ,&_solvedBindings);
tmpMeta[2] = mmc_mk_cons(_ty1, _tys2);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 2: {
if (1 != tmp4_3) goto tmp3_end;
if (!listEmpty(tmp4_1)) goto tmp3_end;
if (!listEmpty(tmp4_2)) goto tmp3_end;
_solvedBindings = tmp4_4;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outTys = tmpMeta[0+0];
_outSolvedBindings = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outSolvedBindings) { *out_outSolvedBindings = _outSolvedBindings; }
return _outTys;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_solveBindingsThread(threadData_t *threadData, modelica_metatype _itys1, modelica_metatype _itys2, modelica_metatype _changed, modelica_metatype _isolvedBindings, modelica_metatype *out_outSolvedBindings)
{
modelica_integer tmp1;
modelica_metatype _outTys = NULL;
tmp1 = mmc_unbox_integer(_changed);
_outTys = omc_Types_solveBindingsThread(threadData, _itys1, _itys2, tmp1, _isolvedBindings, out_outSolvedBindings);
return _outTys;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_solveBindings(threadData_t *threadData, modelica_metatype _itys1, modelica_metatype _itys2, modelica_metatype _isolvedBindings, modelica_metatype *out_outSolvedBindings)
{
modelica_metatype _outTys = NULL;
modelica_metatype _outSolvedBindings = NULL;
modelica_metatype tmpMeta[12] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
tmp4_1 = _itys1;
tmp4_2 = _itys2;
tmp4_3 = _isolvedBindings;
{
modelica_metatype _ty = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _rest = NULL;
modelica_metatype _tys1 = NULL;
modelica_metatype _tys2 = NULL;
modelica_string _id = NULL;
modelica_string _id1 = NULL;
modelica_string _id2 = NULL;
modelica_metatype _args1 = NULL;
modelica_metatype _args2 = NULL;
modelica_metatype _functionAttributes1 = NULL;
modelica_metatype _path = NULL;
modelica_boolean _fromOtherFunction;
modelica_metatype _solvedBindings = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 9; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_boolean tmp6;
modelica_boolean tmp7;
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],24,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[5] = MMC_CAR(tmp4_2);
tmpMeta[6] = MMC_CDR(tmp4_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],24,1) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
_ty1 = tmpMeta[2];
_id1 = tmpMeta[4];
_ty2 = tmpMeta[5];
_id2 = tmpMeta[7];
_tys2 = tmpMeta[6];
_solvedBindings = tmp4_3;
tmp6 = (stringEqual(_id1, _id2));
if (0 != tmp6) goto goto_2;
_fromOtherFunction = (omc_System_stringFind(threadData, _id1, _OMC_LIT81) != ((modelica_integer) -1));
_id = (_fromOtherFunction?_id1:_id2);
_ty = (_fromOtherFunction?_ty2:_ty1);
tmp7 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
omc_Types_polymorphicBindingsLookup(threadData, _id, _solvedBindings);
tmp7 = 1;
goto goto_8;
goto_8:;
MMC_CATCH_INTERNAL(mmc_jumper)
if (tmp7) {goto goto_2;}
_solvedBindings = omc_Types_addPolymorphicBinding(threadData, _id, _ty, _solvedBindings);
tmpMeta[2] = mmc_mk_cons(_ty, _tys2);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 1: {
modelica_boolean tmp9;
modelica_boolean tmp10;
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_2);
tmpMeta[3] = MMC_CDR(tmp4_2);
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmp4_1);
tmpMeta[5] = MMC_CDR(tmp4_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],24,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
_ty2 = tmpMeta[2];
_tys2 = tmpMeta[3];
_id = tmpMeta[6];
_solvedBindings = tmp4_3;
tmp9 = omc_Types_isPolymorphic(threadData, _ty2);
if (0 != tmp9) goto goto_2;
tmp10 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
omc_Types_polymorphicBindingsLookup(threadData, _id, _solvedBindings);
tmp10 = 1;
goto goto_11;
goto_11:;
MMC_CATCH_INTERNAL(mmc_jumper)
if (tmp10) {goto goto_2;}
_solvedBindings = omc_Types_addPolymorphicBinding(threadData, _id, _ty2, _solvedBindings);
tmpMeta[2] = mmc_mk_cons(_ty2, _tys2);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 2: {
modelica_boolean tmp12;
modelica_boolean tmp13;
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmp4_2);
tmpMeta[5] = MMC_CDR(tmp4_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],24,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
_ty1 = tmpMeta[2];
_id = tmpMeta[6];
_tys2 = tmpMeta[5];
_solvedBindings = tmp4_3;
tmp4 += 5;
tmp12 = omc_Types_isPolymorphic(threadData, _ty1);
if (0 != tmp12) goto goto_2;
tmp13 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
omc_Types_polymorphicBindingsLookup(threadData, _id, _solvedBindings);
tmp13 = 1;
goto goto_14;
goto_14:;
MMC_CATCH_INTERNAL(mmc_jumper)
if (tmp13) {goto goto_2;}
_solvedBindings = omc_Types_addPolymorphicBinding(threadData, _id, _ty1, _solvedBindings);
tmpMeta[2] = mmc_mk_cons(_ty1, _tys2);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 3: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],19,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[5] = MMC_CAR(tmp4_2);
tmpMeta[6] = MMC_CDR(tmp4_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],19,1) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
_ty1 = tmpMeta[4];
_ty2 = tmpMeta[7];
_tys2 = tmpMeta[6];
_solvedBindings = tmp4_3;
tmp4 += 4;
tmpMeta[3] = mmc_mk_cons(_ty1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[4] = mmc_mk_cons(_ty2, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[5] = omc_Types_solveBindings(threadData, tmpMeta[3], tmpMeta[4], _solvedBindings, &tmpMeta[2]);
if (listEmpty(tmpMeta[5])) goto goto_2;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (!listEmpty(tmpMeta[7])) goto goto_2;
_ty1 = tmpMeta[6];
_solvedBindings = tmpMeta[2];
tmpMeta[2] = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, _ty1);
_ty1 = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty1, _tys2);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 4: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],17,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[5] = MMC_CAR(tmp4_2);
tmpMeta[6] = MMC_CDR(tmp4_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],17,1) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
_ty1 = tmpMeta[4];
_ty2 = tmpMeta[7];
_tys2 = tmpMeta[6];
_solvedBindings = tmp4_3;
tmp4 += 3;
tmpMeta[3] = mmc_mk_cons(_ty1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[4] = mmc_mk_cons(_ty2, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[5] = omc_Types_solveBindings(threadData, tmpMeta[3], tmpMeta[4], _solvedBindings, &tmpMeta[2]);
if (listEmpty(tmpMeta[5])) goto goto_2;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (!listEmpty(tmpMeta[7])) goto goto_2;
_ty1 = tmpMeta[6];
_solvedBindings = tmpMeta[2];
tmpMeta[2] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _ty1);
_ty1 = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty1, _tys2);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 5: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],22,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[5] = MMC_CAR(tmp4_2);
tmpMeta[6] = MMC_CDR(tmp4_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],22,1) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
_ty1 = tmpMeta[4];
_ty2 = tmpMeta[7];
_tys2 = tmpMeta[6];
_solvedBindings = tmp4_3;
tmp4 += 2;
tmpMeta[3] = mmc_mk_cons(_ty1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[4] = mmc_mk_cons(_ty2, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[5] = omc_Types_solveBindings(threadData, tmpMeta[3], tmpMeta[4], _solvedBindings, &tmpMeta[2]);
if (listEmpty(tmpMeta[5])) goto goto_2;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (!listEmpty(tmpMeta[7])) goto goto_2;
_ty1 = tmpMeta[6];
_solvedBindings = tmpMeta[2];
tmpMeta[2] = mmc_mk_box2(25, &DAE_Type_T__METAARRAY__desc, _ty1);
_ty1 = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty1, _tys2);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 6: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],18,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[5] = MMC_CAR(tmp4_2);
tmpMeta[6] = MMC_CDR(tmp4_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],18,1) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
_tys1 = tmpMeta[4];
_tys2 = tmpMeta[7];
_rest = tmpMeta[6];
_solvedBindings = tmp4_3;
tmp4 += 1;
_tys1 = omc_Types_solveBindingsThread(threadData, _tys1, _tys2, 0, _solvedBindings ,&_solvedBindings);
tmpMeta[2] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _tys1);
_ty1 = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty1, _rest);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 7: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],11,4) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 3));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 4));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 5));
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmp4_2);
tmpMeta[9] = MMC_CDR(tmp4_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[8],11,4) == 0) goto tmp3_end;
tmpMeta[10] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[8]), 2));
tmpMeta[11] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[8]), 3));
_args1 = tmpMeta[4];
_ty1 = tmpMeta[5];
_functionAttributes1 = tmpMeta[6];
_path = tmpMeta[7];
_args2 = tmpMeta[10];
_ty2 = tmpMeta[11];
_rest = tmpMeta[9];
_solvedBindings = tmp4_3;
_tys1 = omc_List_map(threadData, _args1, boxvar_Types_funcArgType);
_tys2 = omc_List_map(threadData, _args2, boxvar_Types_funcArgType);
tmpMeta[3] = mmc_mk_cons(_ty1, _tys1);
tmpMeta[4] = mmc_mk_cons(_ty2, _tys2);
tmpMeta[5] = omc_Types_solveBindingsThread(threadData, tmpMeta[3], tmpMeta[4], 0, _solvedBindings, &tmpMeta[2]);
if (listEmpty(tmpMeta[5])) goto goto_2;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
_ty1 = tmpMeta[6];
_tys1 = tmpMeta[7];
_solvedBindings = tmpMeta[2];
_tys1 = omc_List_map(threadData, _tys1, boxvar_Types_boxIfUnboxedType);
_args1 = omc_List_threadMap(threadData, _args1, _tys1, boxvar_Types_setFuncArgType);
_args1 = omc_List_map(threadData, _args1, boxvar_Types_clearDefaultBinding);
tmpMeta[2] = mmc_mk_box5(14, &DAE_Type_T__FUNCTION__desc, _args1, _ty1, _functionAttributes1, _path);
_ty1 = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty1, _rest);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
case 8: {
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_2);
tmpMeta[3] = MMC_CDR(tmp4_2);
_ty = tmpMeta[2];
_tys2 = tmpMeta[3];
_tys1 = tmp4_1;
_solvedBindings = tmp4_3;
_tys = omc_Types_solveBindings(threadData, _tys1, _tys2, _solvedBindings ,&_solvedBindings);
tmpMeta[2] = mmc_mk_cons(_ty, _tys);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _solvedBindings;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 9) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outTys = tmpMeta[0+0];
_outSolvedBindings = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outSolvedBindings) { *out_outSolvedBindings = _outSolvedBindings; }
return _outTys;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_solvePolymorphicBindingsLoop(threadData_t *threadData, modelica_metatype _ibindings, modelica_metatype _isolvedBindings, modelica_metatype _iunsolvedBindings, modelica_metatype *out_outUnsolvedBindings)
{
modelica_metatype _outSolvedBindings = NULL;
modelica_metatype _outUnsolvedBindings = NULL;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
tmp4_1 = _ibindings;
tmp4_2 = _isolvedBindings;
tmp4_3 = _iunsolvedBindings;
{
modelica_metatype _first = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _tys = NULL;
modelica_string _id = NULL;
modelica_integer _len1;
modelica_integer _len2;
modelica_metatype _rest = NULL;
modelica_metatype _solvedBindings = NULL;
modelica_metatype _unsolvedBindings = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 6; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
_solvedBindings = tmp4_2;
_unsolvedBindings = tmp4_3;
tmp4 += 5;
tmpMeta[0+0] = _solvedBindings;
tmpMeta[0+1] = _unsolvedBindings;
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 1));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
if (listEmpty(tmpMeta[5])) goto tmp3_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (!listEmpty(tmpMeta[7])) goto tmp3_end;
_id = tmpMeta[4];
_ty = tmpMeta[6];
_rest = tmpMeta[3];
_solvedBindings = tmp4_2;
_unsolvedBindings = tmp4_3;
_ty = omc_Types_boxIfUnboxedType(threadData, _ty);
tmpMeta[3] = mmc_mk_cons(_ty, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[4] = mmc_mk_box2(0, _id, tmpMeta[3]);
tmpMeta[2] = mmc_mk_cons(tmpMeta[4], _solvedBindings);
tmpMeta[5] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = omc_Types_solvePolymorphicBindingsLoop(threadData, listAppend(_unsolvedBindings, _rest), tmpMeta[2], tmpMeta[5], &tmpMeta[0+1]);
goto tmp3_done;
}
case 2: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 1));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
_id = tmpMeta[4];
_tys = tmpMeta[5];
_rest = tmpMeta[3];
_solvedBindings = tmp4_2;
_unsolvedBindings = tmp4_3;
_tys = omc_Types_replaceSolvedBindings(threadData, _tys, _solvedBindings, 0);
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
_tys = omc_List_unionOnTrue(threadData, _tys, tmpMeta[2], boxvar_Types_equivtypes);
tmpMeta[3] = mmc_mk_box2(0, _id, _tys);
tmpMeta[2] = mmc_mk_cons(tmpMeta[3], _unsolvedBindings);
tmpMeta[4] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = omc_Types_solvePolymorphicBindingsLoop(threadData, listAppend(tmpMeta[2], _rest), _solvedBindings, tmpMeta[4], &tmpMeta[0+1]);
goto tmp3_done;
}
case 3: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 1));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
_id = tmpMeta[4];
_tys = tmpMeta[5];
_rest = tmpMeta[3];
_solvedBindings = tmp4_2;
_unsolvedBindings = tmp4_3;
_tys = omc_Types_solveBindings(threadData, _tys, _tys, _solvedBindings ,&_solvedBindings);
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
_tys = omc_List_unionOnTrue(threadData, _tys, tmpMeta[2], boxvar_Types_equivtypes);
tmpMeta[3] = mmc_mk_box2(0, _id, _tys);
tmpMeta[2] = mmc_mk_cons(tmpMeta[3], _unsolvedBindings);
tmpMeta[4] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = omc_Types_solvePolymorphicBindingsLoop(threadData, listAppend(tmpMeta[2], _rest), _solvedBindings, tmpMeta[4], &tmpMeta[0+1]);
goto tmp3_done;
}
case 4: {
modelica_boolean tmp6;
modelica_boolean tmp7;
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 1));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
_id = tmpMeta[4];
_tys = tmpMeta[5];
_rest = tmpMeta[3];
_solvedBindings = tmp4_2;
_unsolvedBindings = tmp4_3;
_len1 = listLength(_tys);
tmp6 = (_len1 > ((modelica_integer) 1));
if (1 != tmp6) goto goto_2;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
_tys = omc_List_unionOnTrue(threadData, _tys, tmpMeta[2], boxvar_Types_equivtypes);
_len2 = listLength(_tys);
tmp7 = (_len1 == _len2);
if (0 != tmp7) goto goto_2;
tmpMeta[3] = mmc_mk_box2(0, _id, _tys);
tmpMeta[2] = mmc_mk_cons(tmpMeta[3], _unsolvedBindings);
tmpMeta[4] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = omc_Types_solvePolymorphicBindingsLoop(threadData, listAppend(tmpMeta[2], _rest), _solvedBindings, tmpMeta[4], &tmpMeta[0+1]);
goto tmp3_done;
}
case 5: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
_first = tmpMeta[2];
_rest = tmpMeta[3];
_solvedBindings = tmp4_2;
_unsolvedBindings = tmp4_3;
tmpMeta[2] = mmc_mk_cons(_first, _unsolvedBindings);
tmpMeta[0+0] = omc_Types_solvePolymorphicBindingsLoop(threadData, _rest, _solvedBindings, tmpMeta[2], &tmpMeta[0+1]);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 6) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outSolvedBindings = tmpMeta[0+0];
_outUnsolvedBindings = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outUnsolvedBindings) { *out_outUnsolvedBindings = _outUnsolvedBindings; }
return _outSolvedBindings;
}
PROTECTED_FUNCTION_STATIC void omc_Types_checkValidBindings(threadData_t *threadData, modelica_metatype _bindings, modelica_metatype _solvedBindings, modelica_metatype _unsolvedBindings, modelica_metatype _info, modelica_metatype _path)
{
modelica_string _bindingsStr = NULL;
modelica_string _solvedBindingsStr = NULL;
modelica_string _unsolvedBindingsStr = NULL;
modelica_string _pathStr = NULL;
modelica_metatype _tys = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
if((!listEmpty(_unsolvedBindings)))
{
_pathStr = omc_AbsynUtil_pathString(threadData, _path, _OMC_LIT24, 1, 0);
_bindingsStr = omc_Types_polymorphicBindingsStr(threadData, _bindings);
_solvedBindingsStr = omc_Types_polymorphicBindingsStr(threadData, _solvedBindings);
_unsolvedBindingsStr = omc_Types_polymorphicBindingsStr(threadData, _unsolvedBindings);
tmpMeta[0] = mmc_mk_cons(_pathStr, mmc_mk_cons(_bindingsStr, mmc_mk_cons(_solvedBindingsStr, mmc_mk_cons(_unsolvedBindingsStr, MMC_REFSTRUCTLIT(mmc_nil)))));
omc_Error_addSourceMessage(threadData, _OMC_LIT87, tmpMeta[0], _info);
MMC_THROW_INTERNAL();
}
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
modelica_metatype omc_Types_solvePolymorphicBindings(threadData_t *threadData, modelica_metatype _bindings, modelica_metatype _info, modelica_metatype _path)
{
modelica_metatype _solvedBindings = NULL;
modelica_metatype _unsolvedBindings = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
_solvedBindings = omc_Types_solvePolymorphicBindingsLoop(threadData, _bindings, tmpMeta[0], tmpMeta[1] ,&_unsolvedBindings);
omc_Types_checkValidBindings(threadData, _bindings, _solvedBindings, _unsolvedBindings, _info, _path);
_return: OMC_LABEL_UNUSED
return _solvedBindings;
}
DLLExport
modelica_metatype omc_Types_addPolymorphicBinding(threadData_t *threadData, modelica_string _id, modelica_metatype _ity, modelica_metatype _bindings)
{
modelica_metatype _outBindings = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_string tmp3_1;volatile modelica_metatype tmp3_2;volatile modelica_metatype tmp3_3;
tmp3_1 = _id;
tmp3_2 = _ity;
tmp3_3 = _bindings;
{
modelica_string _id1 = NULL;
modelica_string _id2 = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _rest = NULL;
modelica_metatype _first = NULL;
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_3)) goto tmp2_end;
_ty = tmp3_2;
tmp3 += 2;
_ty = omc_Types_unboxedType(threadData, _ty);
_ty = omc_Types_boxIfUnboxedType(threadData, _ty);
tmpMeta[2] = mmc_mk_cons(_ty, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box2(0, _id, tmpMeta[2]);
tmpMeta[1] = mmc_mk_cons(tmpMeta[3], MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
modelica_boolean tmp5;
if (listEmpty(tmp3_3)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_3);
tmpMeta[2] = MMC_CDR(tmp3_3);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_id2 = tmpMeta[3];
_tys = tmpMeta[4];
_rest = tmpMeta[2];
_id1 = tmp3_1;
_ty = tmp3_2;
tmp5 = (stringEqual(_id1, _id2));
if (1 != tmp5) goto goto_1;
_ty = omc_Types_unboxedType(threadData, _ty);
_ty = omc_Types_boxIfUnboxedType(threadData, _ty);
tmpMeta[2] = mmc_mk_cons(_ty, _tys);
tmpMeta[3] = mmc_mk_box2(0, _id2, tmpMeta[2]);
tmpMeta[1] = mmc_mk_cons(tmpMeta[3], _rest);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
if (listEmpty(tmp3_3)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_3);
tmpMeta[2] = MMC_CDR(tmp3_3);
_first = tmpMeta[1];
_rest = tmpMeta[2];
_ty = tmp3_2;
_rest = omc_Types_addPolymorphicBinding(threadData, _id, _ty, _rest);
tmpMeta[1] = mmc_mk_cons(_first, _rest);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outBindings = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outBindings;
}
DLLExport
modelica_string omc_Types_polymorphicTypeName(threadData_t *threadData, modelica_metatype _ty)
{
modelica_string _name = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _ty;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],24,1) == 0) MMC_THROW_INTERNAL();
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
_name = tmpMeta[1];
_return: OMC_LABEL_UNUSED
return _name;
}
DLLExport
modelica_boolean omc_Types_isPolymorphic(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _outMatch;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,24,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outMatch = tmp1;
_return: OMC_LABEL_UNUSED
return _outMatch;
}
modelica_metatype boxptr_Types_isPolymorphic(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _outMatch;
modelica_metatype out_outMatch;
_outMatch = omc_Types_isPolymorphic(threadData, _ty);
out_outMatch = mmc_mk_icon(_outMatch);
return out_outMatch;
}
DLLExport
modelica_metatype omc_Types_getRealOrIntegerDimensions(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outDims = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _ty = NULL;
modelica_metatype _d = NULL;
modelica_metatype _dims = NULL;
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 4: {
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 3: {
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_ty = tmpMeta[1];
_inType = _ty;
goto _tailrecursive;
goto tmp2_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,1) == 0) goto tmp2_end;
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_ty = tmpMeta[1];
_d = tmpMeta[3];
_dims = omc_Types_getRealOrIntegerDimensions(threadData, _ty);
tmpMeta[1] = mmc_mk_cons(_d, _dims);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outDims = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outDims;
}
DLLExport
modelica_metatype omc_Types_resTypeToListTypes(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _tys = NULL;
modelica_metatype _ty = NULL;
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[1];
tmpMeta[0] = _tys;
goto tmp2_done;
}
case 10: {
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
default:
tmp2_default: OMC_LABEL_UNUSED; {
_ty = tmp3_1;
tmpMeta[1] = mmc_mk_cons(_ty, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeDummyExpAndTypeLists(threadData_t *threadData, modelica_metatype _lst, modelica_metatype *out_outTypes)
{
modelica_metatype _outExps = NULL;
modelica_metatype _outTypes = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _lst;
{
modelica_metatype _restExp = NULL;
modelica_metatype _restType = NULL;
modelica_metatype _rest = NULL;
modelica_metatype _cref_ = NULL;
modelica_metatype _crefExp = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[3] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
_rest = tmpMeta[3];
_restExp = omc_Types_makeDummyExpAndTypeLists(threadData, _rest ,&_restType);
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
_cref_ = omc_ComponentReference_makeCrefIdent(threadData, _OMC_LIT88, _OMC_LIT5, tmpMeta[2]);
_crefExp = omc_Expression_crefExp(threadData, _cref_);
tmpMeta[2] = mmc_mk_cons(_crefExp, _restExp);
tmpMeta[3] = mmc_mk_cons(_OMC_LIT80, _restType);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outExps = tmpMeta[0+0];
_outTypes = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outTypes) { *out_outTypes = _outTypes; }
return _outExps;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeFunctionPolymorphicReferenceResType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _e = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _dummyBoxedTypeList = NULL;
modelica_metatype _dummyExpList = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmp3_1;
_tys = tmpMeta[1];
tmp3 += 1;
_dummyExpList = omc_Types_makeDummyExpAndTypeLists(threadData, _tys ,&_dummyBoxedTypeList);
omc_Types_matchTypeTuple(threadData, _dummyExpList, _tys, _dummyBoxedTypeList, 0 ,&_tys);
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_ty), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = _tys;
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,0) == 0) goto tmp2_end;
_ty = tmp3_1;
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 2: {
_ty1 = tmp3_1;
tmpMeta[4] = mmc_mk_cons(_ty1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[5] = omc_Types_makeDummyExpAndTypeLists(threadData, tmpMeta[4], &tmpMeta[1]);
if (listEmpty(tmpMeta[5])) goto goto_1;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (!listEmpty(tmpMeta[7])) goto goto_1;
_e = tmpMeta[6];
if (listEmpty(tmpMeta[1])) goto goto_1;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (!listEmpty(tmpMeta[3])) goto goto_1;
_ty2 = tmpMeta[2];
omc_Types_matchType(threadData, _e, _ty1, _ty2, 0 ,&_ty);
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_makeFunctionPolymorphicReference(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _funcArgs1 = NULL;
modelica_metatype _funcArgs2 = NULL;
modelica_metatype _funcArgTypes1 = NULL;
modelica_metatype _funcArgTypes2 = NULL;
modelica_metatype _dummyBoxedTypeList = NULL;
modelica_metatype _dummyExpList = NULL;
modelica_metatype _resType1 = NULL;
modelica_metatype _resType2 = NULL;
modelica_metatype _path = NULL;
modelica_metatype _functionAttributes = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
_funcArgs1 = tmpMeta[1];
_resType1 = tmpMeta[2];
_functionAttributes = tmpMeta[3];
_path = tmpMeta[4];
_funcArgTypes1 = omc_List_map(threadData, _funcArgs1, boxvar_Types_funcArgType);
_dummyExpList = omc_Types_makeDummyExpAndTypeLists(threadData, _funcArgTypes1 ,&_dummyBoxedTypeList);
omc_Types_matchTypeTuple(threadData, _dummyExpList, _funcArgTypes1, _dummyBoxedTypeList, 0 ,&_funcArgTypes2);
_funcArgs2 = omc_List_threadMap(threadData, _funcArgs1, _funcArgTypes2, boxvar_Types_setFuncArgType);
_resType2 = omc_Types_makeFunctionPolymorphicReferenceResType(threadData, _resType1);
tmpMeta[1] = mmc_mk_box5(14, &DAE_Type_T__FUNCTION__desc, _funcArgs2, _resType2, _functionAttributes, _path);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_getUniontypePaths(threadData_t *threadData, modelica_metatype _ty)
{
modelica_metatype _outPaths = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _ty;
{
modelica_metatype _paths = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_paths = tmpMeta[1];
tmpMeta[0] = _paths;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outPaths = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outPaths;
}
DLLExport
modelica_boolean omc_Types_metarecordFilter(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _outMatch;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,6) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outMatch = tmp1;
_return: OMC_LABEL_UNUSED
return _outMatch;
}
modelica_metatype boxptr_Types_metarecordFilter(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _outMatch;
modelica_metatype out_outMatch;
_outMatch = omc_Types_metarecordFilter(threadData, _ty);
out_outMatch = mmc_mk_icon(_outMatch);
return out_outMatch;
}
DLLExport
modelica_boolean omc_Types_uniontypeFilter(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _outMatch;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,5) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outMatch = tmp1;
_return: OMC_LABEL_UNUSED
return _outMatch;
}
modelica_metatype boxptr_Types_uniontypeFilter(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _outMatch;
modelica_metatype out_outMatch;
_outMatch = omc_Types_uniontypeFilter(threadData, _ty);
out_outMatch = mmc_mk_icon(_outMatch);
return out_outMatch;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllInnerTypes(threadData_t *threadData, modelica_metatype _inTypes, modelica_metatype _inAccum, modelica_fnptr _inFunc)
{
modelica_metatype _outTypes = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _tys = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outTypes = _inAccum;
{
modelica_metatype _t;
for (tmpMeta[0] = _inTypes; !listEmpty(tmpMeta[0]); tmpMeta[0]=MMC_CDR(tmpMeta[0]))
{
_t = MMC_CAR(tmpMeta[0]);
if(mmc_unbox_boolean((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inFunc), 2))) ? ((modelica_metatype(*)(threadData_t*, modelica_metatype, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inFunc), 1)))) (threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inFunc), 2))), _t) : ((modelica_metatype(*)(threadData_t*, modelica_metatype)) (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inFunc), 1)))) (threadData, _t)))
{
tmpMeta[1] = mmc_mk_cons(_t, _outTypes);
_outTypes = tmpMeta[1];
}
{
modelica_metatype tmp3_1;
tmp3_1 = _t;
{
modelica_metatype _fields = NULL;
modelica_metatype _funcArgs = NULL;
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[1] = tmpMeta[2];
goto tmp2_done;
}
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[1] = tmpMeta[2];
goto tmp2_done;
}
case 25: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[1] = tmpMeta[2];
goto tmp2_done;
}
case 26: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,23,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[1] = tmpMeta[2];
goto tmp2_done;
}
case 22: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,19,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_ty, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[1] = tmpMeta[2];
goto tmp2_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[2];
tmpMeta[1] = _tys;
goto tmp2_done;
}
case 21: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[2];
tmpMeta[1] = _tys;
goto tmp2_done;
}
case 23: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_tys = tmpMeta[2];
tmpMeta[1] = _tys;
goto tmp2_done;
}
case 24: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,21,6) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
_tys = tmpMeta[2];
_fields = tmpMeta[3];
tmpMeta[1] = listAppend(_tys, omc_List_map(threadData, _fields, boxvar_Types_getVarType));
goto tmp2_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_fields = tmpMeta[2];
tmpMeta[1] = omc_List_map(threadData, _fields, boxvar_Types_getVarType);
goto tmp2_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_fields = tmpMeta[2];
tmpMeta[1] = omc_List_map(threadData, _fields, boxvar_Types_getVarType);
goto tmp2_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_funcArgs = tmpMeta[2];
_ty = tmpMeta[3];
tmpMeta[2] = mmc_mk_cons(_ty, omc_List_map(threadData, _funcArgs, boxvar_Types_funcArgType));
tmpMeta[1] = tmpMeta[2];
goto tmp2_done;
}
default:
tmp2_default: OMC_LABEL_UNUSED; {
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[1] = tmpMeta[2];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_tys = tmpMeta[1];
_outTypes = omc_Types_getAllInnerTypes(threadData, _tys, _outTypes, ((modelica_fnptr) _inFunc));
}
}
_return: OMC_LABEL_UNUSED
return _outTypes;
}
DLLExport
modelica_metatype omc_Types_getAllInnerTypesOfType(threadData_t *threadData, modelica_metatype _inType, modelica_fnptr _inFn)
{
modelica_metatype _outTypes = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = mmc_mk_cons(_inType, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
_outTypes = omc_Types_getAllInnerTypes(threadData, tmpMeta[0], tmpMeta[1], ((modelica_fnptr) _inFn));
_return: OMC_LABEL_UNUSED
return _outTypes;
}
DLLExport
modelica_metatype omc_Types_polymorphicBindingsLookup(threadData_t *threadData, modelica_string _id, modelica_metatype _bindings)
{
modelica_metatype _resType = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _bindings;
{
modelica_string _id2 = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _rest = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_boolean tmp5;
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_id2 = tmpMeta[3];
_tys = tmpMeta[4];
tmp5 = (stringEqual(_id, _id2));
if (1 != tmp5) goto goto_1;
tmpMeta[0] = omc_List_map(threadData, _tys, boxvar_Types_boxIfUnboxedType);
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
_rest = tmpMeta[2];
tmpMeta[0] = omc_Types_polymorphicBindingsLookup(threadData, _id, _rest);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_resType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _resType;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_fixPolymorphicRestype2(threadData_t *threadData, modelica_metatype _ty, modelica_string _prefix, modelica_metatype _bindings, modelica_metatype _info)
{
modelica_metatype _resType = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _ty;
{
modelica_string _id = NULL;
modelica_string _bstr = NULL;
modelica_string _tstr = NULL;
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _tys1 = NULL;
modelica_metatype _args1 = NULL;
modelica_metatype _functionAttributes = NULL;
modelica_metatype _path = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 12; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,24,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_id = tmpMeta[1];
tmp3 += 9;
tmpMeta[1] = stringAppend(_prefix,_id);
tmpMeta[2] = omc_Types_polymorphicBindingsLookup(threadData, tmpMeta[1], _bindings);
if (listEmpty(tmpMeta[2])) goto goto_1;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto goto_1;
_t1 = tmpMeta[3];
tmpMeta[0] = omc_Types_fixPolymorphicRestype2(threadData, _t1, _OMC_LIT29, _bindings, _info);
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_t1 = tmpMeta[1];
tmp3 += 8;
_t2 = omc_Types_fixPolymorphicRestype2(threadData, _t1, _prefix, _bindings, _info);
_t2 = omc_Types_boxIfUnboxedType(threadData, _t2);
tmpMeta[1] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _t2);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_t1 = tmpMeta[1];
tmp3 += 7;
_t2 = omc_Types_fixPolymorphicRestype2(threadData, _t1, _prefix, _bindings, _info);
_t2 = omc_Types_boxIfUnboxedType(threadData, _t2);
tmpMeta[1] = mmc_mk_box2(25, &DAE_Type_T__METAARRAY__desc, _t2);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,19,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_t1 = tmpMeta[1];
tmp3 += 6;
_t2 = omc_Types_fixPolymorphicRestype2(threadData, _t1, _prefix, _bindings, _info);
_t2 = omc_Types_boxIfUnboxedType(threadData, _t2);
tmpMeta[1] = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, _t2);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (!listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_tys = tmpMeta[1];
tmp3 += 4;
_tys = omc_List_map3(threadData, _tys, boxvar_Types_fixPolymorphicRestype2, _prefix, _bindings, _info);
_tys = omc_List_map(threadData, _tys, boxvar_Types_boxIfUnboxedType);
tmpMeta[1] = mmc_mk_box6(23, &DAE_Type_T__METAUNIONTYPE__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), _tys, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 5))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 6))));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[1];
tmp3 += 3;
_tys = omc_List_map3(threadData, _tys, boxvar_Types_fixPolymorphicRestype2, _prefix, _bindings, _info);
_tys = omc_List_map(threadData, _tys, boxvar_Types_boxIfUnboxedType);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _tys);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
_t1 = tmp3_1;
tmp3 += 2;
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_t1), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = omc_Types_fixPolymorphicRestype2(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t1), 2))), _prefix, _bindings, _info);
_t1 = tmpMeta[1];
tmpMeta[0] = _t1;
goto tmp2_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
_t1 = tmp3_1;
tmp3 += 1;
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_t1), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = omc_List_map3(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t1), 2))), boxvar_Types_fixPolymorphicRestype2, _prefix, _bindings, _info);
_t1 = tmpMeta[1];
tmpMeta[0] = _t1;
goto tmp2_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
_args1 = tmpMeta[1];
_ty1 = tmpMeta[2];
_functionAttributes = tmpMeta[3];
_path = tmpMeta[4];
_tys1 = omc_List_map(threadData, _args1, boxvar_Types_funcArgType);
_tys1 = omc_List_map3(threadData, _tys1, boxvar_Types_fixPolymorphicRestype2, _prefix, _bindings, _info);
_ty1 = omc_Types_fixPolymorphicRestype2(threadData, _ty1, _prefix, _bindings, _info);
_args1 = omc_List_threadMap(threadData, _args1, _tys1, boxvar_Types_setFuncArgType);
tmpMeta[1] = mmc_mk_box5(14, &DAE_Type_T__FUNCTION__desc, _args1, _ty1, _functionAttributes, _path);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 10: {
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 11: {
_tstr = omc_Types_unparseType(threadData, _ty);
_bstr = omc_Types_polymorphicBindingsStr(threadData, _bindings);
tmpMeta[1] = stringAppend(_OMC_LIT89,_tstr);
tmpMeta[2] = stringAppend(tmpMeta[1],_OMC_LIT90);
tmpMeta[3] = stringAppend(tmpMeta[2],_bstr);
_id = tmpMeta[3];
tmpMeta[1] = mmc_mk_cons(_id, MMC_REFSTRUCTLIT(mmc_nil));
omc_Error_addSourceMessage(threadData, _OMC_LIT77, tmpMeta[1], _info);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 12) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_resType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _resType;
}
DLLExport
modelica_metatype omc_Types_fixPolymorphicRestype(threadData_t *threadData, modelica_metatype _ty, modelica_metatype _bindings, modelica_metatype _info)
{
modelica_metatype _resType = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_resType = omc_Types_fixPolymorphicRestype2(threadData, _ty, _OMC_LIT81, _bindings, _info);
_return: OMC_LABEL_UNUSED
return _resType;
}
DLLExport
modelica_string omc_Types_polymorphicBindingsStr(threadData_t *threadData, modelica_metatype _bindings)
{
modelica_string _str = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_str = stringDelimitList(omc_List_map(threadData, _bindings, boxvar_Types_polymorphicBindingStr), _OMC_LIT91);
_return: OMC_LABEL_UNUSED
return _str;
}
PROTECTED_FUNCTION_STATIC modelica_string omc_Types_polymorphicBindingStr(threadData_t *threadData, modelica_metatype _binding)
{
modelica_string _str = NULL;
modelica_metatype _tys = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _binding;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 1));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
_str = tmpMeta[1];
_tys = tmpMeta[2];
tmpMeta[0] = stringAppend(_OMC_LIT92,_str);
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT93);
tmpMeta[2] = stringAppend(tmpMeta[1],stringDelimitList(omc_List_map1r(threadData, omc_List_map(threadData, _tys, boxvar_Types_unparseType), boxvar_stringAppend, _OMC_LIT94), _OMC_LIT91));
_str = tmpMeta[2];
_return: OMC_LABEL_UNUSED
return _str;
}
PROTECTED_FUNCTION_STATIC void omc_Types_printFailure(threadData_t *threadData, modelica_metatype _flag, modelica_string _source, modelica_metatype _e, modelica_metatype _e_type, modelica_metatype _expected_type)
{
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
if(omc_Flags_isSet(threadData, _flag))
{
tmpMeta[0] = stringAppend(_OMC_LIT95,_source);
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT96);
tmpMeta[2] = stringAppend(tmpMeta[1],omc_ExpressionDump_printExpStr(threadData, _e));
omc_Debug_traceln(threadData, tmpMeta[2]);
tmpMeta[0] = stringAppend(_OMC_LIT97,omc_Types_unparseType(threadData, _e_type));
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT98);
tmpMeta[2] = stringAppend(tmpMeta[1],omc_Types_unparseType(threadData, _expected_type));
omc_Debug_traceln(threadData, tmpMeta[2]);
}
_return: OMC_LABEL_UNUSED
return;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_matchTypes2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inType, modelica_metatype _inExpected, modelica_boolean _inPrintFailtrace, modelica_metatype *out_outType)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
modelica_metatype _ty = NULL;
modelica_metatype _expected_ty = NULL;
modelica_string _str = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
_ty = omc_Types_getUniontypeIfMetarecordReplaceAllSubtypes(threadData, _inType);
_expected_ty = omc_Types_getUniontypeIfMetarecordReplaceAllSubtypes(threadData, _inExpected);
tmpMeta[0+0] = omc_Types_matchType(threadData, _inExp, _ty, _expected_ty, _inPrintFailtrace, &tmpMeta[0+1]);
goto tmp3_done;
}
case 1: {
tmpMeta[2] = stringAppend(_OMC_LIT99,omc_ExpressionDump_printExpStr(threadData, _inExp));
tmpMeta[3] = stringAppend(tmpMeta[2],_OMC_LIT100);
tmpMeta[4] = stringAppend(tmpMeta[3],omc_Types_unparseType(threadData, _inType));
tmpMeta[5] = stringAppend(tmpMeta[4],_OMC_LIT101);
tmpMeta[6] = stringAppend(tmpMeta[5],omc_Types_unparseType(threadData, _inExpected));
tmpMeta[7] = stringAppend(tmpMeta[6],_OMC_LIT91);
_str = tmpMeta[7];
tmpMeta[2] = mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil));
omc_Error_addMessage(threadData, _OMC_LIT77, tmpMeta[2]);
goto goto_2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 2) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outExp = tmpMeta[0+0];
_outType = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outType) { *out_outType = _outType; }
return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_matchTypes2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inType, modelica_metatype _inExpected, modelica_metatype _inPrintFailtrace, modelica_metatype *out_outType)
{
modelica_integer tmp1;
modelica_metatype _outExp = NULL;
tmp1 = mmc_unbox_integer(_inPrintFailtrace);
_outExp = omc_Types_matchTypes2(threadData, _inExp, _inType, _inExpected, tmp1, out_outType);
return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_matchTypes__tail(threadData_t *threadData, modelica_metatype _iexps, modelica_metatype _itys, modelica_metatype _expected, modelica_boolean _printFailtrace, modelica_metatype _inAccumExps, modelica_metatype _inAccumTypes, modelica_metatype *out_outTys)
{
modelica_metatype _outExps = NULL;
modelica_metatype _outTys = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;modelica_metatype tmp4_2;
tmp4_1 = _iexps;
tmp4_2 = _itys;
{
modelica_metatype _e = NULL;
modelica_metatype _exps = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _tys = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmp4_2);
tmpMeta[5] = MMC_CDR(tmp4_2);
_e = tmpMeta[2];
_exps = tmpMeta[3];
_ty = tmpMeta[4];
_tys = tmpMeta[5];
_e = omc_Types_matchTypes2(threadData, _e, _ty, _expected, _printFailtrace ,&_ty);
tmpMeta[2] = mmc_mk_cons(_e, _inAccumExps);
tmpMeta[3] = mmc_mk_cons(_ty, _inAccumTypes);
_iexps = _exps;
_itys = _tys;
_inAccumExps = tmpMeta[2];
_inAccumTypes = tmpMeta[3];
goto _tailrecursive;
goto tmp3_done;
}
case 1: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
if (!listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[0+0] = listReverse(_inAccumExps);
tmpMeta[0+1] = listReverse(_inAccumTypes);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outExps = tmpMeta[0+0];
_outTys = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outTys) { *out_outTys = _outTys; }
return _outExps;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_matchTypes__tail(threadData_t *threadData, modelica_metatype _iexps, modelica_metatype _itys, modelica_metatype _expected, modelica_metatype _printFailtrace, modelica_metatype _inAccumExps, modelica_metatype _inAccumTypes, modelica_metatype *out_outTys)
{
modelica_integer tmp1;
modelica_metatype _outExps = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_outExps = omc_Types_matchTypes__tail(threadData, _iexps, _itys, _expected, tmp1, _inAccumExps, _inAccumTypes, out_outTys);
return _outExps;
}
DLLExport
modelica_metatype omc_Types_matchTypes(threadData_t *threadData, modelica_metatype _iexps, modelica_metatype _itys, modelica_metatype _expected, modelica_boolean _printFailtrace, modelica_metatype *out_outTys)
{
modelica_metatype _outExps = NULL;
modelica_metatype _outTys = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
_outExps = omc_Types_matchTypes__tail(threadData, _iexps, _itys, _expected, _printFailtrace, tmpMeta[0], tmpMeta[1] ,&_outTys);
_return: OMC_LABEL_UNUSED
if (out_outTys) { *out_outTys = _outTys; }
return _outExps;
}
modelica_metatype boxptr_Types_matchTypes(threadData_t *threadData, modelica_metatype _iexps, modelica_metatype _itys, modelica_metatype _expected, modelica_metatype _printFailtrace, modelica_metatype *out_outTys)
{
modelica_integer tmp1;
modelica_metatype _outExps = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_outExps = omc_Types_matchTypes(threadData, _iexps, _itys, _expected, tmp1, out_outTys);
return _outExps;
}
DLLExport
modelica_metatype omc_Types_matchTypeNoFail(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_metatype *out_outType, modelica_boolean *out_outMatch)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outType = NULL;
modelica_boolean _outMatch;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
if(omc_Types_subtype(threadData, _inExpectedType, _inActualType, 1))
{
_outExp = _inExp;
_outType = _inActualType;
_outMatch = 1;
}
else
{
{
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
_outExp = omc_Types_typeConvert(threadData, _inExp, _inActualType, _inExpectedType, 0 ,&_outType);
_outExp = omc_ExpressionSimplify_simplify1(threadData, _outExp, NULL);
_outMatch = 1;
goto tmp2_done;
}
case 1: {
_outExp = _inExp;
_outType = _inActualType;
_outMatch = 1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
;
}
_return: OMC_LABEL_UNUSED
if (out_outType) { *out_outType = _outType; }
if (out_outMatch) { *out_outMatch = _outMatch; }
return _outExp;
}
modelica_metatype boxptr_Types_matchTypeNoFail(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_metatype *out_outType, modelica_metatype *out_outMatch)
{
modelica_boolean _outMatch;
modelica_metatype _outExp = NULL;
_outExp = omc_Types_matchTypeNoFail(threadData, _inExp, _inActualType, _inExpectedType, out_outType, &_outMatch);
if (out_outMatch) { *out_outMatch = mmc_mk_icon(_outMatch); }
return _outExp;
}
DLLExport
modelica_metatype omc_Types_matchType(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_boolean _inPrintFailtrace, modelica_metatype *out_outType)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outType = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
if(omc_Types_subtype(threadData, _inExpectedType, _inActualType, 1))
{
_outExp = _inExp;
_outType = _inActualType;
}
else
{
{
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_boolean tmp5;
tmp5 = omc_Types_subtype(threadData, _inActualType, _inExpectedType, 1);
if (0 != tmp5) goto goto_1;
_outExp = omc_Types_typeConvert(threadData, _inExp, _inActualType, _inExpectedType, _inPrintFailtrace ,&_outType);
_outExp = omc_ExpressionSimplify_simplify1(threadData, _outExp, NULL);
goto tmp2_done;
}
case 1: {
omc_Types_printFailure(threadData, _OMC_LIT105, _OMC_LIT106, _inExp, _inActualType, _inExpectedType);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
;
}
_return: OMC_LABEL_UNUSED
if (out_outType) { *out_outType = _outType; }
return _outExp;
}
modelica_metatype boxptr_Types_matchType(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_metatype _inPrintFailtrace, modelica_metatype *out_outType)
{
modelica_integer tmp1;
modelica_metatype _outExp = NULL;
tmp1 = mmc_unbox_integer(_inPrintFailtrace);
_outExp = omc_Types_matchType(threadData, _inExp, _inActualType, _inExpectedType, tmp1, out_outType);
return _outExp;
}
DLLExport
modelica_metatype omc_Types_matchTypePolymorphicWithError(threadData_t *threadData, modelica_metatype _iexp, modelica_metatype _iactual, modelica_metatype _iexpected, modelica_metatype _envPath, modelica_metatype _ipolymorphicBindings, modelica_metatype _info, modelica_metatype *out_outType, modelica_metatype *out_outBindings)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outType = NULL;
modelica_metatype _outBindings = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;volatile modelica_metatype tmp4_4;
tmp4_1 = _iexp;
tmp4_2 = _iactual;
tmp4_3 = _iexpected;
tmp4_4 = _ipolymorphicBindings;
{
modelica_metatype _exp = NULL;
modelica_metatype _actual = NULL;
modelica_metatype _expected = NULL;
modelica_metatype _polymorphicBindings = NULL;
modelica_string _str1 = NULL;
modelica_string _str2 = NULL;
modelica_string _str3 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
_exp = tmp4_1;
_actual = tmp4_2;
_expected = tmp4_3;
_polymorphicBindings = tmp4_4;
tmpMeta[0+0] = omc_Types_matchTypePolymorphic(threadData, _exp, _actual, _expected, _envPath, _polymorphicBindings, 0, &tmpMeta[0+1], &tmpMeta[0+2]);
goto tmp3_done;
}
case 1: {
_str1 = omc_ExpressionDump_printExpStr(threadData, _iexp);
_str2 = omc_Types_unparseType(threadData, _iactual);
_str3 = omc_Types_unparseType(threadData, _iexpected);
tmpMeta[3] = mmc_mk_cons(_str1, mmc_mk_cons(_str3, mmc_mk_cons(_str2, MMC_REFSTRUCTLIT(mmc_nil))));
omc_Error_addSourceMessage(threadData, _OMC_LIT109, tmpMeta[3], _info);
goto goto_2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 2) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outExp = tmpMeta[0+0];
_outType = tmpMeta[0+1];
_outBindings = tmpMeta[0+2];
_return: OMC_LABEL_UNUSED
if (out_outType) { *out_outType = _outType; }
if (out_outBindings) { *out_outBindings = _outBindings; }
return _outExp;
}
DLLExport
modelica_metatype omc_Types_matchTypePolymorphic(threadData_t *threadData, modelica_metatype _iexp, modelica_metatype _iactual, modelica_metatype _expected, modelica_metatype _envPath, modelica_metatype _ipolymorphicBindings, modelica_boolean _printFailtrace, modelica_metatype *out_actual, modelica_metatype *out_polymorphicBindings)
{
modelica_metatype _exp = NULL;
modelica_metatype _actual = NULL;
modelica_metatype _polymorphicBindings = NULL;
modelica_boolean _debug;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_exp = _iexp;
_actual = _iactual;
_polymorphicBindings = _ipolymorphicBindings;
_debug = 0;
if(listEmpty(omc_Types_getAllInnerTypesOfType(threadData, _expected, boxvar_Types_isPolymorphic)))
{
_exp = omc_Types_matchType(threadData, _exp, _actual, _expected, _printFailtrace ,&_actual);
}
else
{
_exp = omc_Types_matchType(threadData, _exp, _actual, _OMC_LIT80, _printFailtrace ,&_actual);
_polymorphicBindings = omc_Types_subtypePolymorphic(threadData, omc_Types_getUniontypeIfMetarecordReplaceAllSubtypes(threadData, _actual), omc_Types_getUniontypeIfMetarecordReplaceAllSubtypes(threadData, _expected), _envPath, _polymorphicBindings);
}
_return: OMC_LABEL_UNUSED
if (out_actual) { *out_actual = _actual; }
if (out_polymorphicBindings) { *out_polymorphicBindings = _polymorphicBindings; }
return _exp;
}
modelica_metatype boxptr_Types_matchTypePolymorphic(threadData_t *threadData, modelica_metatype _iexp, modelica_metatype _iactual, modelica_metatype _expected, modelica_metatype _envPath, modelica_metatype _ipolymorphicBindings, modelica_metatype _printFailtrace, modelica_metatype *out_actual, modelica_metatype *out_polymorphicBindings)
{
modelica_integer tmp1;
modelica_metatype _exp = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_exp = omc_Types_matchTypePolymorphic(threadData, _iexp, _iactual, _expected, _envPath, _ipolymorphicBindings, tmp1, out_actual, out_polymorphicBindings);
return _exp;
}
DLLExport
modelica_metatype omc_Types_superType(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2)
{
modelica_metatype _out = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _inType1;
tmp3_2 = _inType2;
{
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _tp = NULL;
modelica_metatype _type_list1 = NULL;
modelica_metatype _type_list2 = NULL;
modelica_metatype _path1 = NULL;
modelica_metatype _path2 = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 18; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,16,1) == 0) goto tmp2_end;
_t2 = tmp3_2;
tmpMeta[0] = _t2;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,16,1) == 0) goto tmp2_end;
_t1 = tmp3_1;
tmpMeta[0] = _t1;
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,8,0) == 0) goto tmp2_end;
_t2 = tmp3_2;
tmpMeta[0] = _t2;
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,8,0) == 0) goto tmp2_end;
_t1 = tmp3_1;
tmp3 += 12;
tmpMeta[0] = _t1;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,24,1) == 0) goto tmp2_end;
_t2 = tmp3_2;
tmp3 += 11;
tmpMeta[0] = _t2;
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,14,2) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_type_list1 = tmpMeta[1];
_type_list2 = tmpMeta[2];
tmp3 += 10;
_type_list1 = omc_List_map(threadData, _type_list1, boxvar_Types_boxIfUnboxedType);
_type_list2 = omc_List_map(threadData, _type_list2, boxvar_Types_boxIfUnboxedType);
_type_list1 = omc_List_threadMap(threadData, _type_list1, _type_list2, boxvar_Types_superType);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _type_list1);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,18,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_type_list1 = tmpMeta[1];
_type_list2 = tmpMeta[2];
tmp3 += 9;
_type_list1 = omc_List_map(threadData, _type_list1, boxvar_Types_boxIfUnboxedType);
_type_list2 = omc_List_map(threadData, _type_list2, boxvar_Types_boxIfUnboxedType);
_type_list1 = omc_List_threadMap(threadData, _type_list1, _type_list2, boxvar_Types_superType);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _type_list1);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,14,2) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_type_list1 = tmpMeta[1];
_type_list2 = tmpMeta[2];
tmp3 += 8;
_type_list1 = omc_List_map(threadData, _type_list1, boxvar_Types_boxIfUnboxedType);
_type_list2 = omc_List_map(threadData, _type_list2, boxvar_Types_boxIfUnboxedType);
_type_list1 = omc_List_threadMap(threadData, _type_list1, _type_list2, boxvar_Types_superType);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _type_list1);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,18,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_type_list1 = tmpMeta[1];
_type_list2 = tmpMeta[2];
tmp3 += 7;
_type_list1 = omc_List_map(threadData, _type_list1, boxvar_Types_boxIfUnboxedType);
_type_list2 = omc_List_map(threadData, _type_list2, boxvar_Types_boxIfUnboxedType);
_type_list1 = omc_List_threadMap(threadData, _type_list1, _type_list2, boxvar_Types_superType);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _type_list1);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,17,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_t1 = tmpMeta[1];
_t2 = tmpMeta[2];
tmp3 += 6;
_t1 = omc_Types_boxIfUnboxedType(threadData, _t1);
_t2 = omc_Types_boxIfUnboxedType(threadData, _t2);
_tp = omc_Types_superType(threadData, _t1, _t2);
tmpMeta[1] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _tp);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 10: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,19,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,19,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_t1 = tmpMeta[1];
_t2 = tmpMeta[2];
tmp3 += 5;
_t1 = omc_Types_boxIfUnboxedType(threadData, _t1);
_t2 = omc_Types_boxIfUnboxedType(threadData, _t2);
_tp = omc_Types_superType(threadData, _t1, _t2);
tmpMeta[1] = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, _tp);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,22,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
_t1 = tmpMeta[1];
_t2 = tmpMeta[2];
tmp3 += 4;
_t1 = omc_Types_boxIfUnboxedType(threadData, _t1);
_t2 = omc_Types_boxIfUnboxedType(threadData, _t2);
_tp = omc_Types_superType(threadData, _t1, _t2);
tmpMeta[1] = mmc_mk_box2(25, &DAE_Type_T__METAARRAY__desc, _tp);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 12: {
modelica_boolean tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,21,6) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_t1 = tmp3_1;
_path1 = tmpMeta[1];
_path2 = tmpMeta[2];
tmp3 += 3;
tmp5 = omc_AbsynUtil_pathEqual(threadData, _path1, _path2);
if (1 != tmp5) goto goto_1;
tmpMeta[0] = _t1;
goto tmp2_done;
}
case 13: {
modelica_integer tmp6;
modelica_integer tmp7;
modelica_boolean tmp8;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,21,6) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 7));
tmp6 = mmc_unbox_integer(tmpMeta[2]);
if (0 != tmp6) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,21,6) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 7));
tmp7 = mmc_unbox_integer(tmpMeta[4]);
if (0 != tmp7) goto tmp2_end;
_path1 = tmpMeta[1];
_path2 = tmpMeta[3];
tmp3 += 2;
tmp8 = omc_AbsynUtil_pathEqual(threadData, _path1, _path2);
if (1 != tmp8) goto goto_1;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[2] = mmc_mk_box6(23, &DAE_Type_T__METAUNIONTYPE__desc, tmpMeta[1], (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 4))), mmc_mk_boolean(0), _OMC_LIT23, _path1);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,1,1) == 0) goto tmp2_end;
tmp3 += 1;
tmpMeta[0] = _OMC_LIT4;
goto tmp2_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,1) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT4;
goto tmp2_done;
}
case 16: {
modelica_boolean tmp9;
_t1 = tmp3_1;
_t2 = tmp3_2;
tmp9 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp9) goto goto_1;
tmpMeta[0] = _t2;
goto tmp2_done;
}
case 17: {
modelica_boolean tmp10;
_t1 = tmp3_1;
_t2 = tmp3_2;
tmp10 = omc_Types_subtype(threadData, _t2, _t1, 1);
if (1 != tmp10) goto goto_1;
tmpMeta[0] = _t1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 18) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_out = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _out;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_listMatchSuperType2(threadData_t *threadData, modelica_metatype _elist, modelica_metatype _typeList, modelica_metatype _st, modelica_boolean _printFailtrace)
{
modelica_metatype _out = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _elist;
tmp3_2 = _typeList;
{
modelica_metatype _e = NULL;
modelica_metatype _erest = NULL;
modelica_metatype _t = NULL;
modelica_metatype _trest = NULL;
modelica_string _str = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
if (!listEmpty(tmp3_2)) goto tmp2_end;
tmp3 += 2;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmp3_2);
tmpMeta[4] = MMC_CDR(tmp3_2);
_e = tmpMeta[1];
_erest = tmpMeta[2];
_t = tmpMeta[3];
_trest = tmpMeta[4];
_e = omc_Types_matchType(threadData, _e, _t, _st, _printFailtrace ,&_t);
_erest = omc_Types_listMatchSuperType2(threadData, _erest, _trest, _st, _printFailtrace);
tmpMeta[1] = mmc_mk_cons(_e, _erest);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
modelica_boolean tmp5;
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
_e = tmpMeta[1];
tmp5 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp5) goto goto_1;
_str = omc_ExpressionDump_printExpStr(threadData, _e);
tmpMeta[1] = stringAppend(_OMC_LIT110,_str);
omc_Debug_traceln(threadData, tmpMeta[1]);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_out = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _out;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_listMatchSuperType2(threadData_t *threadData, modelica_metatype _elist, modelica_metatype _typeList, modelica_metatype _st, modelica_metatype _printFailtrace)
{
modelica_integer tmp1;
modelica_metatype _out = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_out = omc_Types_listMatchSuperType2(threadData, _elist, _typeList, _st, tmp1);
return _out;
}
DLLExport
modelica_metatype omc_Types_listMatchSuperType(threadData_t *threadData, modelica_metatype _ielist, modelica_metatype _typeList, modelica_boolean _printFailtrace, modelica_metatype *out_t)
{
modelica_metatype _out = NULL;
modelica_metatype _t = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
tmp4_1 = _ielist;
tmp4_2 = _typeList;
{
modelica_metatype _st = NULL;
modelica_metatype _elist = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
if (!listEmpty(tmp4_2)) goto tmp3_end;
tmp4 += 1;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _OMC_LIT5;
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmp4_2);
tmpMeta[5] = MMC_CDR(tmp4_2);
_st = omc_List_reduce(threadData, _typeList, boxvar_Types_superType);
_st = omc_Types_superType(threadData, _st, _st);
_st = omc_Types_unboxedType(threadData, _st);
_elist = omc_Types_listMatchSuperType2(threadData, _ielist, _typeList, _st, _printFailtrace);
tmpMeta[0+0] = _elist;
tmpMeta[0+1] = _st;
goto tmp3_done;
}
case 2: {
modelica_boolean tmp6;
tmp6 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp6) goto goto_2;
omc_Debug_trace(threadData, _OMC_LIT111);
goto goto_2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_out = tmpMeta[0+0];
_t = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_t) { *out_t = _t; }
return _out;
}
modelica_metatype boxptr_Types_listMatchSuperType(threadData_t *threadData, modelica_metatype _ielist, modelica_metatype _typeList, modelica_metatype _printFailtrace, modelica_metatype *out_t)
{
modelica_integer tmp1;
modelica_metatype _out = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_out = omc_Types_listMatchSuperType(threadData, _ielist, _typeList, tmp1, out_t);
return _out;
}
DLLExport
modelica_metatype omc_Types_unboxedType(threadData_t *threadData, modelica_metatype _ity)
{
modelica_metatype _out = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _ity;
{
modelica_metatype _tys = NULL;
modelica_metatype _t = NULL;
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 7; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,23,1) == 0) goto tmp2_end;
_ity = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ity), 2)));
goto _tailrecursive;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,19,1) == 0) goto tmp2_end;
_ty = omc_Types_unboxedType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ity), 2))));
_ty = omc_Types_boxIfUnboxedType(threadData, _ty);
tmpMeta[1] = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, _ty);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,1) == 0) goto tmp2_end;
_ty = omc_Types_unboxedType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ity), 2))));
_ty = omc_Types_boxIfUnboxedType(threadData, _ty);
tmpMeta[1] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _ty);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
_tys = omc_List_mapMap(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ity), 2))), boxvar_Types_unboxedType, boxvar_Types_boxIfUnboxedType);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _tys);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
_ty = omc_Types_unboxedType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ity), 2))));
_ty = omc_Types_boxIfUnboxedType(threadData, _ty);
tmpMeta[1] = mmc_mk_box2(25, &DAE_Type_T__METAARRAY__desc, _ty);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
_t = tmp3_1;
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_t), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = omc_Types_unboxedType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t), 2))));
_t = tmpMeta[1];
tmpMeta[0] = _t;
goto tmp2_done;
}
case 6: {
tmpMeta[0] = _ity;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_out = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _out;
}
DLLExport
modelica_metatype omc_Types_boxIfUnboxedType(threadData_t *threadData, modelica_metatype _ty)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _ty;
{
modelica_metatype _tys = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
_tys = omc_List_map(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_ty), 2))), boxvar_Types_boxIfUnboxedType);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _tys);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
modelica_boolean tmp5;
tmp5 = (modelica_boolean)omc_Types_isBoxedType(threadData, _ty);
if(tmp5)
{
tmpMeta[2] = _ty;
}
else
{
tmpMeta[1] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _ty);
tmpMeta[2] = tmpMeta[1];
}
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_boolean omc_Types_isMetaBoxedType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsMetaBoxed;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsMetaBoxed = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsMetaBoxed;
}
modelica_metatype boxptr_Types_isMetaBoxedType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsMetaBoxed;
modelica_metatype out_outIsMetaBoxed;
_outIsMetaBoxed = omc_Types_isMetaBoxedType(threadData, _inType);
out_outIsMetaBoxed = mmc_mk_icon(_outIsMetaBoxed);
return out_outIsMetaBoxed;
}
DLLExport
modelica_boolean omc_Types_isBoxedType(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ty;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 17; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,5) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,6) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,24,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 10: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,25,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],17,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 16: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isBoxedType(threadData_t *threadData, modelica_metatype _ty)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isBoxedType(threadData, _ty);
out_b = mmc_mk_icon(_b);
return out_b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllExpsBinding(threadData_t *threadData, modelica_metatype _inBinding)
{
modelica_metatype _outExpExpLst = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inBinding;
{
modelica_metatype _exp = NULL;
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_exp = tmpMeta[1];
tmpMeta[1] = mmc_mk_cons(_exp, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 3: {
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 5: {
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
default:
tmp2_default: OMC_LABEL_UNUSED; {
modelica_boolean tmp4;
tmp4 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp4) goto goto_1;
omc_Debug_trace(threadData, _OMC_LIT112);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outExpExpLst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outExpExpLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllExpsVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_metatype _outExpExpLst = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inVar;
{
modelica_metatype _tyexps = NULL;
modelica_metatype _bndexp = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _bnd = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
_ty = tmpMeta[1];
_bnd = tmpMeta[2];
_tyexps = omc_Types_getAllExps(threadData, _ty);
_bndexp = omc_Types_getAllExpsBinding(threadData, _bnd);
tmpMeta[0] = listAppend(_tyexps, _bndexp);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outExpExpLst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outExpExpLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllExpsVars(threadData_t *threadData, modelica_metatype _vars)
{
modelica_metatype _exps = NULL;
modelica_metatype _explist = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_explist = omc_List_map(threadData, _vars, boxvar_Types_getAllExpsVar);
_exps = omc_List_flatten(threadData, _explist);
_return: OMC_LABEL_UNUSED
return _exps;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getAllExpsTt(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outExpExpLst = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _exps = NULL;
modelica_metatype _tyexps = NULL;
modelica_metatype _vars = NULL;
modelica_metatype _attrs = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _explists = NULL;
modelica_metatype _explist = NULL;
modelica_metatype _fargs = NULL;
modelica_metatype _tty = NULL;
modelica_string _str = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 21; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_vars = tmpMeta[1];
tmp3 += 19;
tmpMeta[0] = omc_Types_getAllExpsVars(threadData, _vars);
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_vars = tmpMeta[1];
tmp3 += 18;
tmpMeta[0] = omc_Types_getAllExpsVars(threadData, _vars);
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_vars = tmpMeta[1];
tmp3 += 17;
tmpMeta[0] = omc_Types_getAllExpsVars(threadData, _vars);
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_vars = tmpMeta[1];
tmp3 += 16;
tmpMeta[0] = omc_Types_getAllExpsVars(threadData, _vars);
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,4,1) == 0) goto tmp2_end;
tmp3 += 15;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
_vars = tmpMeta[1];
_attrs = tmpMeta[2];
tmp3 += 14;
_exps = omc_Types_getAllExpsVars(threadData, _vars);
_tyexps = omc_Types_getAllExpsVars(threadData, _attrs);
tmpMeta[0] = listAppend(_tyexps, _exps);
goto tmp2_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
tmp3 += 13;
tmpMeta[0] = omc_Types_getAllExps(threadData, _ty);
goto tmp2_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_vars = tmpMeta[1];
tmp3 += 12;
tmpMeta[0] = omc_Types_getAllExpsVars(threadData, _vars);
goto tmp2_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_vars = tmpMeta[1];
tmp3 += 11;
tmpMeta[0] = omc_Types_getAllExpsVars(threadData, _vars);
goto tmp2_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_fargs = tmpMeta[1];
_ty = tmpMeta[2];
tmp3 += 10;
_explists = omc_List_mapMap(threadData, _fargs, boxvar_Types_funcArgType, boxvar_Types_getAllExps);
_tyexps = omc_Types_getAllExps(threadData, _ty);
tmpMeta[1] = mmc_mk_cons(_tyexps, _explists);
tmpMeta[0] = omc_List_flatten(threadData, tmpMeta[1]);
goto tmp2_done;
}
case 10: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[1];
tmp3 += 9;
_explist = omc_List_map(threadData, _tys, boxvar_Types_getAllExps);
tmpMeta[0] = omc_List_flatten(threadData, _explist);
goto tmp2_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[1];
tmp3 += 8;
tmpMeta[1] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, _tys, mmc_mk_none());
tmpMeta[0] = omc_Types_getAllExpsTt(threadData, tmpMeta[1]);
goto tmp2_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmp3 += 7;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,19,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
tmp3 += 6;
tmpMeta[0] = omc_Types_getAllExps(threadData, _ty);
goto tmp2_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
tmp3 += 5;
tmpMeta[0] = omc_Types_getAllExps(threadData, _ty);
goto tmp2_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
tmp3 += 4;
tmpMeta[0] = omc_Types_getAllExps(threadData, _ty);
goto tmp2_done;
}
case 16: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,23,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
tmp3 += 3;
tmpMeta[0] = omc_Types_getAllExps(threadData, _ty);
goto tmp2_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,24,1) == 0) goto tmp2_end;
tmp3 += 2;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 18: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,8,0) == 0) goto tmp2_end;
tmp3 += 1;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 19: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,0) == 0) goto tmp2_end;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 20: {
modelica_boolean tmp5;
_tty = tmp3_1;
tmp5 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp5) goto goto_1;
_str = omc_Types_unparseType(threadData, _tty);
tmpMeta[1] = stringAppend(_OMC_LIT113,_str);
omc_Debug_traceln(threadData, tmpMeta[1]);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 21) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outExpExpLst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outExpExpLst;
}
DLLExport
modelica_metatype omc_Types_getAllExps(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outExpExpLst = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outExpExpLst = omc_Types_getAllExpsTt(threadData, _inType);
_return: OMC_LABEL_UNUSED
return _outExpExpLst;
}
DLLExport
modelica_metatype omc_Types_streamVariables(threadData_t *threadData, modelica_metatype _inVarLst, modelica_metatype _inComponentRef)
{
modelica_metatype _outExpComponentRefLst = NULL;
modelica_metatype tmpMeta[7] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _inVarLst;
tmp3_2 = _inComponentRef;
{
modelica_metatype _cr_1 = NULL;
modelica_metatype _cr = NULL;
modelica_metatype _res = NULL;
modelica_string _id = NULL;
modelica_metatype _vs = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
tmp3 += 2;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],2,1) == 0) goto tmp2_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 4));
_id = tmpMeta[3];
_ty = tmpMeta[6];
_vs = tmpMeta[2];
_cr = tmp3_2;
_ty2 = omc_Types_simplifyType(threadData, _ty);
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
_cr_1 = omc_ComponentReference_crefPrependIdent(threadData, _cr, _id, tmpMeta[1], _ty2);
_res = omc_Types_streamVariables(threadData, _vs, _cr);
tmpMeta[1] = mmc_mk_cons(_cr_1, _res);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
_vs = tmpMeta[2];
_cr = tmp3_2;
tmpMeta[0] = omc_Types_streamVariables(threadData, _vs, _cr);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outExpComponentRefLst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outExpComponentRefLst;
}
DLLExport
modelica_metatype omc_Types_flowVariables(threadData_t *threadData, modelica_metatype _inVarLst, modelica_metatype _inComponentRef)
{
modelica_metatype _outExpComponentRefLst = NULL;
modelica_metatype tmpMeta[7] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _inVarLst;
tmp3_2 = _inComponentRef;
{
modelica_metatype _cr_1 = NULL;
modelica_metatype _cr = NULL;
modelica_metatype _res = NULL;
modelica_string _id = NULL;
modelica_metatype _vs = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
tmp3 += 2;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],1,0) == 0) goto tmp2_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 4));
_id = tmpMeta[3];
_ty = tmpMeta[6];
_vs = tmpMeta[2];
_cr = tmp3_2;
_ty2 = omc_Types_simplifyType(threadData, _ty);
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
_cr_1 = omc_ComponentReference_crefPrependIdent(threadData, _cr, _id, tmpMeta[1], _ty2);
_res = omc_Types_flowVariables(threadData, _vs, _cr);
tmpMeta[1] = mmc_mk_cons(_cr_1, _res);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
_vs = tmpMeta[2];
_cr = tmp3_2;
tmpMeta[0] = omc_Types_flowVariables(threadData, _vs, _cr);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outExpComponentRefLst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outExpComponentRefLst;
}
DLLExport
void omc_Types_printProp(threadData_t *threadData, modelica_metatype _p)
{
modelica_string _str = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_str = omc_Types_printPropStr(threadData, _p);
omc_Print_printErrorBuf(threadData, _str);
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
modelica_string omc_Types_printPropStr(threadData_t *threadData, modelica_metatype _inProperties)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inProperties;
{
modelica_string _ty_str = NULL;
modelica_string _const_str = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _const = NULL;
modelica_metatype _tconst = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_ty = tmpMeta[0];
_const = tmpMeta[1];
_ty_str = omc_Types_unparseType(threadData, _ty);
_const_str = omc_Types_printConstStr(threadData, _const);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT114, mmc_mk_cons(_ty_str, mmc_mk_cons(_OMC_LIT115, mmc_mk_cons(_const_str, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_ty = tmpMeta[0];
_tconst = tmpMeta[1];
_ty_str = omc_Types_unparseType(threadData, _ty);
_const_str = omc_Types_printTupleConstStr(threadData, _tconst);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT117, mmc_mk_cons(_ty_str, mmc_mk_cons(_OMC_LIT115, mmc_mk_cons(_const_str, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_boolean omc_Types_constIsConst(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_b = omc_Types_constEqual(threadData, _c, _OMC_LIT51);
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_constIsConst(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_constIsConst(threadData, _c);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_constIsParameter(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_b = omc_Types_constEqual(threadData, _c, _OMC_LIT50);
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_constIsParameter(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_constIsParameter(threadData, _c);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_constIsVariable(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_b = omc_Types_constEqual(threadData, _c, _OMC_LIT20);
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_constIsVariable(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_constIsVariable(threadData, _c);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_constEqual(threadData_t *threadData, modelica_metatype _c1, modelica_metatype _c2)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
equality(_c1, _c2);
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 2) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_constEqual(threadData_t *threadData, modelica_metatype _c1, modelica_metatype _c2)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_constEqual(threadData, _c1, _c2);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_constEqualOrHigher(threadData_t *threadData, modelica_metatype _c1, modelica_metatype _c2)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;modelica_metatype tmp4_2;
tmp4_1 = _c1;
tmp4_2 = _c2;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 5; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,0) == 0) goto tmp3_end;
tmp1 = 0;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,0) == 0) goto tmp3_end;
tmp1 = 0;
goto tmp3_done;
}
case 4: {
tmp1 = 1;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_constEqualOrHigher(threadData_t *threadData, modelica_metatype _c1, modelica_metatype _c2)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_constEqualOrHigher(threadData, _c1, _c2);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_boolConstSize(threadData_t *threadData, modelica_boolean _inBoolean)
{
modelica_metatype _outConst = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outConst = (_inBoolean?_OMC_LIT51:_OMC_LIT50);
_return: OMC_LABEL_UNUSED
return _outConst;
}
modelica_metatype boxptr_Types_boolConstSize(threadData_t *threadData, modelica_metatype _inBoolean)
{
modelica_integer tmp1;
modelica_metatype _outConst = NULL;
tmp1 = mmc_unbox_integer(_inBoolean);
_outConst = omc_Types_boolConstSize(threadData, tmp1);
return _outConst;
}
DLLExport
modelica_metatype omc_Types_boolConst(threadData_t *threadData, modelica_boolean _inBoolean)
{
modelica_metatype _outConst = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outConst = (_inBoolean?_OMC_LIT51:_OMC_LIT20);
_return: OMC_LABEL_UNUSED
return _outConst;
}
modelica_metatype boxptr_Types_boolConst(threadData_t *threadData, modelica_metatype _inBoolean)
{
modelica_integer tmp1;
modelica_metatype _outConst = NULL;
tmp1 = mmc_unbox_integer(_inBoolean);
_outConst = omc_Types_boolConst(threadData, tmp1);
return _outConst;
}
DLLExport
modelica_metatype omc_Types_constOr(threadData_t *threadData, modelica_metatype _inConst1, modelica_metatype _inConst2)
{
modelica_metatype _outConst = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;
tmp3_1 = _inConst1;
tmp3_2 = _inConst2;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 7; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT51;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT51;
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT50;
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,1,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT50;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT118;
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,3,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT118;
goto tmp2_done;
}
case 6: {
tmpMeta[0] = _OMC_LIT20;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outConst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outConst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_constTupleAnd(threadData_t *threadData, modelica_metatype _inTupleConst1, modelica_metatype _inTupleConst2)
{
modelica_metatype _outTupleConst = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inTupleConst1;
{
modelica_metatype _c1 = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
_c1 = tmp3_1;
tmpMeta[0] = _c1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outTupleConst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outTupleConst;
}
DLLExport
modelica_metatype omc_Types_constAnd(threadData_t *threadData, modelica_metatype _inConst1, modelica_metatype _inConst2)
{
modelica_metatype _outConst = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;
tmp3_1 = _inConst1;
tmp3_2 = _inConst2;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 7; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,0) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT51;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,0) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,1,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT50;
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,0) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT50;
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,0) == 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,1,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT50;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT118;
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,3,0) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT118;
goto tmp2_done;
}
case 6: {
tmpMeta[0] = _OMC_LIT20;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outConst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outConst;
}
DLLExport
modelica_metatype omc_Types_matchWithPromote(threadData_t *threadData, modelica_metatype _inProperties1, modelica_metatype _inProperties2, modelica_boolean _inBoolean3)
{
modelica_metatype _outProperties = NULL;
modelica_metatype tmpMeta[13] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;volatile modelica_boolean tmp3_3;
tmp3_1 = _inProperties1;
tmp3_2 = _inProperties2;
tmp3_3 = _inBoolean3;
{
modelica_metatype _t = NULL;
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _c = NULL;
modelica_metatype _c1 = NULL;
modelica_metatype _c2 = NULL;
modelica_metatype _dim = NULL;
modelica_metatype _dim1 = NULL;
modelica_boolean _havereal;
modelica_metatype _v = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 16; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],10,4) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 4));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_t2 = tmpMeta[1];
_c2 = tmpMeta[2];
_t1 = tmpMeta[4];
_c1 = tmpMeta[5];
_havereal = tmp3_3;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c1);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t2, _c2);
tmpMeta[0] = omc_Types_matchWithPromote(threadData, tmpMeta[1], tmpMeta[2], _havereal);
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],10,4) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 4));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_t1 = tmpMeta[1];
_c1 = tmpMeta[2];
_t2 = tmpMeta[4];
_c2 = tmpMeta[5];
_havereal = tmp3_3;
tmp3 += 4;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c1);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t2, _c2);
tmpMeta[0] = omc_Types_matchWithPromote(threadData, tmpMeta[1], tmpMeta[2], _havereal);
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],6,2) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
if (listEmpty(tmpMeta[3])) goto tmp2_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp2_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[7],6,2) == 0) goto tmp2_end;
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[7]), 2));
tmpMeta[9] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[7]), 3));
if (listEmpty(tmpMeta[9])) goto tmp2_end;
tmpMeta[10] = MMC_CAR(tmpMeta[9]);
tmpMeta[11] = MMC_CDR(tmpMeta[9]);
if (!listEmpty(tmpMeta[11])) goto tmp2_end;
tmpMeta[12] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_t1 = tmpMeta[2];
_dim1 = tmpMeta[4];
_c1 = tmpMeta[6];
_t2 = tmpMeta[8];
_c2 = tmpMeta[12];
_havereal = tmp3_3;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c1);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t2, _c2);
tmpMeta[3] = omc_Types_matchWithPromote(threadData, tmpMeta[1], tmpMeta[2], _havereal);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,2) == 0) goto goto_1;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
_t = tmpMeta[4];
_c = tmpMeta[5];
_dim = _dim1;
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, tmpMeta[1]);
tmpMeta[3] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[2], _c);
tmpMeta[0] = tmpMeta[3];
goto tmp2_done;
}
case 3: {
modelica_integer tmp5;
modelica_boolean tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],6,2) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
if (listEmpty(tmpMeta[5])) goto tmp2_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],0,1) == 0) goto tmp2_end;
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[6]), 2));
tmp5 = mmc_unbox_integer(tmpMeta[8]);
if (1 != tmp5) goto tmp2_end;
if (!listEmpty(tmpMeta[7])) goto tmp2_end;
tmpMeta[9] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_t1 = tmpMeta[1];
_c1 = tmpMeta[2];
_t2 = tmpMeta[4];
_c2 = tmpMeta[9];
_havereal = tmp3_3;
tmp3 += 2;
tmp6 = omc_Types_isArray(threadData, _t1);
if (0 != tmp6) goto goto_1;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c1);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t2, _c2);
tmpMeta[3] = omc_Types_matchWithPromote(threadData, tmpMeta[1], tmpMeta[2], _havereal);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,2) == 0) goto goto_1;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
_t = tmpMeta[4];
_c = tmpMeta[5];
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, _OMC_LIT120);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[1], _c);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 4: {
modelica_integer tmp7;
modelica_boolean tmp8;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],6,2) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
if (listEmpty(tmpMeta[5])) goto tmp2_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],2,3) == 0) goto tmp2_end;
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[6]), 4));
tmp7 = mmc_unbox_integer(tmpMeta[8]);
if (1 != tmp7) goto tmp2_end;
if (!listEmpty(tmpMeta[7])) goto tmp2_end;
tmpMeta[9] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_t1 = tmpMeta[1];
_c1 = tmpMeta[2];
_t2 = tmpMeta[4];
_dim = tmpMeta[6];
_c2 = tmpMeta[9];
_havereal = tmp3_3;
tmp3 += 1;
tmp8 = omc_Types_isArray(threadData, _t1);
if (0 != tmp8) goto goto_1;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c1);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t2, _c2);
tmpMeta[3] = omc_Types_matchWithPromote(threadData, tmpMeta[1], tmpMeta[2], _havereal);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,2) == 0) goto goto_1;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
_t = tmpMeta[4];
_c = tmpMeta[5];
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, tmpMeta[1]);
tmpMeta[3] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[2], _c);
tmpMeta[0] = tmpMeta[3];
goto tmp2_done;
}
case 5: {
modelica_boolean tmp9;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],6,2) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
if (listEmpty(tmpMeta[5])) goto tmp2_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],1,0) == 0) goto tmp2_end;
if (!listEmpty(tmpMeta[7])) goto tmp2_end;
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_t1 = tmpMeta[1];
_c1 = tmpMeta[2];
_t2 = tmpMeta[4];
_dim = tmpMeta[6];
_c2 = tmpMeta[8];
_havereal = tmp3_3;
tmp9 = omc_Types_isArray(threadData, _t1);
if (0 != tmp9) goto goto_1;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c1);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t2, _c2);
tmpMeta[3] = omc_Types_matchWithPromote(threadData, tmpMeta[1], tmpMeta[2], _havereal);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,2) == 0) goto goto_1;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
_t = tmpMeta[4];
_c = tmpMeta[5];
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, tmpMeta[1]);
tmpMeta[3] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[2], _c);
tmpMeta[0] = tmpMeta[3];
goto tmp2_done;
}
case 6: {
modelica_integer tmp10;
modelica_boolean tmp11;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],6,2) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
if (listEmpty(tmpMeta[5])) goto tmp2_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],0,1) == 0) goto tmp2_end;
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[6]), 2));
tmp10 = mmc_unbox_integer(tmpMeta[8]);
if (1 != tmp10) goto tmp2_end;
if (!listEmpty(tmpMeta[7])) goto tmp2_end;
tmpMeta[9] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_t2 = tmpMeta[1];
_c2 = tmpMeta[2];
_t1 = tmpMeta[4];
_c1 = tmpMeta[9];
_havereal = tmp3_3;
tmp3 += 2;
tmp11 = omc_Types_isArray(threadData, _t2);
if (0 != tmp11) goto goto_1;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c1);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t2, _c2);
tmpMeta[3] = omc_Types_matchWithPromote(threadData, tmpMeta[1], tmpMeta[2], _havereal);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,2) == 0) goto goto_1;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
_t = tmpMeta[4];
_c = tmpMeta[5];
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, _OMC_LIT120);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[1], _c);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 7: {
modelica_integer tmp12;
modelica_boolean tmp13;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],6,2) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
if (listEmpty(tmpMeta[5])) goto tmp2_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],2,3) == 0) goto tmp2_end;
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[6]), 4));
tmp12 = mmc_unbox_integer(tmpMeta[8]);
if (1 != tmp12) goto tmp2_end;
if (!listEmpty(tmpMeta[7])) goto tmp2_end;
tmpMeta[9] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_t2 = tmpMeta[1];
_c2 = tmpMeta[2];
_t1 = tmpMeta[4];
_dim = tmpMeta[6];
_c1 = tmpMeta[9];
_havereal = tmp3_3;
tmp3 += 1;
tmp13 = omc_Types_isArray(threadData, _t2);
if (0 != tmp13) goto goto_1;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c1);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t2, _c2);
tmpMeta[3] = omc_Types_matchWithPromote(threadData, tmpMeta[1], tmpMeta[2], _havereal);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,2) == 0) goto goto_1;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
_t = tmpMeta[4];
_c = tmpMeta[5];
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, tmpMeta[1]);
tmpMeta[3] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[2], _c);
tmpMeta[0] = tmpMeta[3];
goto tmp2_done;
}
case 8: {
modelica_boolean tmp14;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],6,2) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
if (listEmpty(tmpMeta[5])) goto tmp2_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],1,0) == 0) goto tmp2_end;
if (!listEmpty(tmpMeta[7])) goto tmp2_end;
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_t2 = tmpMeta[1];
_c2 = tmpMeta[2];
_t1 = tmpMeta[4];
_dim = tmpMeta[6];
_c1 = tmpMeta[8];
_havereal = tmp3_3;
tmp14 = omc_Types_isArray(threadData, _t2);
if (0 != tmp14) goto goto_1;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c1);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t2, _c2);
tmpMeta[3] = omc_Types_matchWithPromote(threadData, tmpMeta[1], tmpMeta[2], _havereal);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,2) == 0) goto goto_1;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 3));
_t = tmpMeta[4];
_c = tmpMeta[5];
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, tmpMeta[1]);
tmpMeta[3] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[2], _c);
tmpMeta[0] = tmpMeta[3];
goto tmp2_done;
}
case 9: {
modelica_boolean tmp15;
modelica_boolean tmp16;
modelica_boolean tmp17;
if (0 != tmp3_3) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_t1 = tmpMeta[1];
_c1 = tmpMeta[2];
_t2 = tmpMeta[3];
_c2 = tmpMeta[4];
tmp15 = omc_Types_isArray(threadData, _t1);
if (0 != tmp15) goto goto_1;
tmp16 = omc_Types_isArray(threadData, _t2);
if (0 != tmp16) goto goto_1;
tmp17 = omc_Types_equivtypes(threadData, _t1, _t2);
if (1 != tmp17) goto goto_1;
_c = omc_Types_constAnd(threadData, _c1, _c2);
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t1, _c);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 10: {
if (0 != tmp3_3) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],5,5) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],5,5) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_t = tmpMeta[1];
_c1 = tmpMeta[2];
_c2 = tmpMeta[4];
tmp3 += 4;
_c = omc_Types_constAnd(threadData, _c1, _c2);
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t, _c);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 11: {
if (1 != tmp3_3) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],1,1) == 0) goto tmp2_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_v = tmpMeta[2];
_c1 = tmpMeta[3];
_c2 = tmpMeta[5];
tmp3 += 3;
_c = omc_Types_constAnd(threadData, _c1, _c2);
tmpMeta[1] = mmc_mk_box2(4, &DAE_Type_T__REAL__desc, _v);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[1], _c);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 12: {
if (1 != tmp3_3) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],1,1) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_c1 = tmpMeta[2];
_v = tmpMeta[4];
_c2 = tmpMeta[5];
tmp3 += 2;
_c = omc_Types_constAnd(threadData, _c1, _c2);
tmpMeta[1] = mmc_mk_box2(4, &DAE_Type_T__REAL__desc, _v);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[1], _c);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 13: {
if (1 != tmp3_3) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],0,1) == 0) goto tmp2_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_v = tmpMeta[2];
_c1 = tmpMeta[3];
_c2 = tmpMeta[5];
tmp3 += 1;
_c = omc_Types_constAnd(threadData, _c1, _c2);
tmpMeta[1] = mmc_mk_box2(4, &DAE_Type_T__REAL__desc, _v);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, tmpMeta[1], _c);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 14: {
if (1 != tmp3_3) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp3_2,0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,1) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_2), 3));
_c1 = tmpMeta[2];
_c2 = tmpMeta[4];
_c = omc_Types_constAnd(threadData, _c1, _c2);
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _OMC_LIT4, _c);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 15: {
modelica_boolean tmp18;
tmp18 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp18) goto goto_1;
tmpMeta[1] = stringAppend(_OMC_LIT121,omc_Types_printPropStr(threadData, _inProperties1));
tmpMeta[2] = stringAppend(tmpMeta[1],_OMC_LIT122);
tmpMeta[3] = stringAppend(tmpMeta[2],omc_Types_printPropStr(threadData, _inProperties2));
tmpMeta[4] = stringAppend(tmpMeta[3],_OMC_LIT123);
tmpMeta[5] = stringAppend(tmpMeta[4],(_inBoolean3?_OMC_LIT124:_OMC_LIT125));
omc_Debug_traceln(threadData, tmpMeta[5]);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 16) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outProperties = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outProperties;
}
modelica_metatype boxptr_Types_matchWithPromote(threadData_t *threadData, modelica_metatype _inProperties1, modelica_metatype _inProperties2, modelica_metatype _inBoolean3)
{
modelica_integer tmp1;
modelica_metatype _outProperties = NULL;
tmp1 = mmc_unbox_integer(_inBoolean3);
_outProperties = omc_Types_matchWithPromote(threadData, _inProperties1, _inProperties2, tmp1);
return _outProperties;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvertMatrixRowToList(threadData_t *threadData, modelica_metatype _elist, modelica_metatype _inType, modelica_metatype _outType, modelica_boolean _printFailtrace, modelica_metatype *out_t1)
{
modelica_metatype _out = NULL;
modelica_metatype _t1 = NULL;
modelica_metatype _exp = NULL;
modelica_metatype _elist_1 = NULL;
modelica_metatype _t = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[3] = omc_Types_matchTypeList(threadData, _elist, _inType, _outType, _printFailtrace, &tmpMeta[0]);
_elist_1 = tmpMeta[3];
if (listEmpty(tmpMeta[0])) MMC_THROW_INTERNAL();
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
_t1 = tmpMeta[1];
tmpMeta[0] = mmc_mk_box2(31, &DAE_Exp_LIST__desc, _elist_1);
_out = tmpMeta[0];
tmpMeta[0] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _t1);
_t1 = tmpMeta[0];
_return: OMC_LABEL_UNUSED
if (out_t1) { *out_t1 = _t1; }
return _out;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertMatrixRowToList(threadData_t *threadData, modelica_metatype _elist, modelica_metatype _inType, modelica_metatype _outType, modelica_metatype _printFailtrace, modelica_metatype *out_t1)
{
modelica_integer tmp1;
modelica_metatype _out = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_out = omc_Types_typeConvertMatrixRowToList(threadData, _elist, _inType, _outType, tmp1, out_t1);
return _out;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvertMatrixToList(threadData_t *threadData, modelica_metatype _melist, modelica_metatype _inType, modelica_metatype _outType, modelica_boolean _printFailtrace, modelica_metatype *out_actualOutType)
{
modelica_metatype _outExp = NULL;
modelica_metatype _actualOutType = NULL;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
tmp4_1 = _melist;
tmp4_2 = _inType;
tmp4_3 = _outType;
{
modelica_metatype _expl = NULL;
modelica_metatype _rest = NULL;
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _e = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
tmp4 += 1;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _OMC_LIT5;
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],6,2) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,17,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],17,1) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[6]), 2));
_expl = tmpMeta[2];
_rest = tmpMeta[3];
_t1 = tmpMeta[5];
_t2 = tmpMeta[7];
_e = omc_Types_typeConvertMatrixRowToList(threadData, _expl, _t1, _t2, _printFailtrace ,&_t1);
_expl = omc_Types_typeConvertMatrixToList(threadData, _rest, _inType, _outType, _printFailtrace, NULL);
tmpMeta[2] = mmc_mk_cons(_e, _expl);
tmpMeta[3] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _t1);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 2: {
modelica_boolean tmp6;
tmp6 = omc_Flags_isSet(threadData, _OMC_LIT105);
if (1 != tmp6) goto goto_2;
omc_Debug_trace(threadData, _OMC_LIT126);
goto goto_2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outExp = tmpMeta[0+0];
_actualOutType = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_actualOutType) { *out_actualOutType = _actualOutType; }
return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertMatrixToList(threadData_t *threadData, modelica_metatype _melist, modelica_metatype _inType, modelica_metatype _outType, modelica_metatype _printFailtrace, modelica_metatype *out_actualOutType)
{
modelica_integer tmp1;
modelica_metatype _outExp = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_outExp = omc_Types_typeConvertMatrixToList(threadData, _melist, _inType, _outType, tmp1, out_actualOutType);
return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvertList(threadData_t *threadData, modelica_metatype _inExpExpLst1, modelica_metatype _inTypeLst2, modelica_metatype _inTypeLst3, modelica_boolean _printFailtrace, modelica_metatype *out_outTypeLst)
{
modelica_metatype _outExpExpLst = NULL;
modelica_metatype _outTypeLst = NULL;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;modelica_metatype tmp4_2;modelica_metatype tmp4_3;
tmp4_1 = _inExpExpLst1;
tmp4_2 = _inTypeLst2;
tmp4_3 = _inTypeLst3;
{
modelica_metatype _rest_1 = NULL;
modelica_metatype _rest = NULL;
modelica_metatype _tyrest_1 = NULL;
modelica_metatype _ty1rest = NULL;
modelica_metatype _ty2rest = NULL;
modelica_metatype _first_1 = NULL;
modelica_metatype _first = NULL;
modelica_metatype _ty_1 = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[3] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmp4_2);
tmpMeta[5] = MMC_CDR(tmp4_2);
if (listEmpty(tmp4_3)) goto tmp3_end;
tmpMeta[6] = MMC_CAR(tmp4_3);
tmpMeta[7] = MMC_CDR(tmp4_3);
_first = tmpMeta[2];
_rest = tmpMeta[3];
_ty1 = tmpMeta[4];
_ty1rest = tmpMeta[5];
_ty2 = tmpMeta[6];
_ty2rest = tmpMeta[7];
_rest_1 = omc_Types_typeConvertList(threadData, _rest, _ty1rest, _ty2rest, _printFailtrace ,&_tyrest_1);
_first_1 = omc_Types_typeConvert(threadData, _first, _ty1, _ty2, _printFailtrace ,&_ty_1);
tmpMeta[2] = mmc_mk_cons(_first_1, _rest_1);
tmpMeta[3] = mmc_mk_cons(_ty_1, _tyrest_1);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outExpExpLst = tmpMeta[0+0];
_outTypeLst = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outTypeLst) { *out_outTypeLst = _outTypeLst; }
return _outExpExpLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertList(threadData_t *threadData, modelica_metatype _inExpExpLst1, modelica_metatype _inTypeLst2, modelica_metatype _inTypeLst3, modelica_metatype _printFailtrace, modelica_metatype *out_outTypeLst)
{
modelica_integer tmp1;
modelica_metatype _outExpExpLst = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_outExpExpLst = omc_Types_typeConvertList(threadData, _inExpExpLst1, _inTypeLst2, _inTypeLst3, tmp1, out_outTypeLst);
return _outExpExpLst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvertMatrix(threadData_t *threadData, modelica_metatype _inMatrix, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_boolean _printFailtrace)
{
modelica_metatype _outMatrix = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outMatrix = omc_List_map3(threadData, _inMatrix, boxvar_Types_typeConvertArray, _inActualType, _inExpectedType, mmc_mk_boolean(_printFailtrace));
_return: OMC_LABEL_UNUSED
return _outMatrix;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvertMatrix(threadData_t *threadData, modelica_metatype _inMatrix, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_metatype _printFailtrace)
{
modelica_integer tmp1;
modelica_metatype _outMatrix = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_outMatrix = omc_Types_typeConvertMatrix(threadData, _inMatrix, _inActualType, _inExpectedType, tmp1);
return _outMatrix;
}
DLLExport
modelica_metatype omc_Types_typeConvertArray(threadData_t *threadData, modelica_metatype _inArray, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_boolean _inPrintFailtrace)
{
modelica_metatype _outArray = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inArray;
{
modelica_metatype _e = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
_e = omc_Types_makeDummyExpFromType(threadData, _inActualType);
omc_Types_typeConvert(threadData, _e, _inActualType, _inExpectedType, _inPrintFailtrace, NULL);
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
tmpMeta[0] = omc_List_map3__2(threadData, _inArray, boxvar_Types_typeConvert, _inActualType, _inExpectedType, mmc_mk_boolean(_inPrintFailtrace), NULL);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outArray = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outArray;
}
modelica_metatype boxptr_Types_typeConvertArray(threadData_t *threadData, modelica_metatype _inArray, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_metatype _inPrintFailtrace)
{
modelica_integer tmp1;
modelica_metatype _outArray = NULL;
tmp1 = mmc_unbox_integer(_inPrintFailtrace);
_outArray = omc_Types_typeConvertArray(threadData, _inArray, _inActualType, _inExpectedType, tmp1);
return _outArray;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_liftExpType(threadData_t *threadData, modelica_metatype _ie, modelica_metatype _dim)
{
modelica_metatype _res = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _ie;
{
modelica_metatype _ty = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _e = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_ty = tmpMeta[1];
_e = tmpMeta[2];
_ty1 = omc_Expression_liftArrayR(threadData, _ty, _dim);
tmpMeta[1] = mmc_mk_box3(23, &DAE_Exp_CAST__desc, _ty1, _e);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
_e = tmp3_1;
tmpMeta[0] = _e;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_res = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _res;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_typeConvert(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _actual, modelica_metatype _expected, modelica_boolean _printFailtrace, modelica_metatype *out_outType)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[20] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;
tmp4_1 = _inExp1;
tmp4_2 = _actual;
tmp4_3 = _expected;
{
modelica_metatype _elist_1 = NULL;
modelica_metatype _elist = NULL;
modelica_metatype _inputs = NULL;
modelica_metatype _at = NULL;
modelica_metatype _t = NULL;
modelica_boolean _sc;
modelica_boolean _a;
modelica_integer _nmax;
modelica_integer _oi;
modelica_metatype _dim1 = NULL;
modelica_metatype _dim2 = NULL;
modelica_metatype _dim11 = NULL;
modelica_metatype _dim22 = NULL;
modelica_metatype _dims = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _t_1 = NULL;
modelica_metatype _t_2 = NULL;
modelica_metatype _ty0 = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _begin_1 = NULL;
modelica_metatype _step_1 = NULL;
modelica_metatype _stop_1 = NULL;
modelica_metatype _begin = NULL;
modelica_metatype _step = NULL;
modelica_metatype _stop = NULL;
modelica_metatype _e_1 = NULL;
modelica_metatype _e = NULL;
modelica_metatype _exp = NULL;
modelica_metatype _ell_1 = NULL;
modelica_metatype _ell = NULL;
modelica_metatype _elist_big = NULL;
modelica_metatype _tys_1 = NULL;
modelica_metatype _tys1 = NULL;
modelica_metatype _tys2 = NULL;
modelica_string _name = NULL;
modelica_metatype _l = NULL;
modelica_metatype _v = NULL;
modelica_metatype _path = NULL;
modelica_metatype _path1 = NULL;
modelica_metatype _path2 = NULL;
modelica_metatype _pathList = NULL;
modelica_metatype _cref = NULL;
modelica_metatype _crefList = NULL;
modelica_metatype _expTypes = NULL;
modelica_metatype _et = NULL;
modelica_metatype _ety1 = NULL;
modelica_metatype _cases = NULL;
modelica_metatype _matchTy = NULL;
modelica_metatype _localDecls = NULL;
modelica_metatype _els1 = NULL;
modelica_metatype _els2 = NULL;
modelica_metatype _p1 = NULL;
modelica_metatype _p2 = NULL;
modelica_metatype _tp = NULL;
modelica_metatype _aliases = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 45; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_boolean tmp6;
_e = tmp4_1;
_ty1 = tmp4_2;
_ty2 = tmp4_3;
tmp6 = omc_Types_subtype(threadData, _ty1, _ty2, 1);
if (1 != tmp6) goto goto_2;
tmpMeta[0+0] = _e;
tmpMeta[0+1] = _ty2;
goto tmp3_done;
}
case 1: {
modelica_boolean tmp7;
modelica_boolean tmp8;
modelica_boolean tmp9;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,14,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (listEmpty(tmpMeta[2])) goto tmp3_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
_ty1 = tmpMeta[3];
_e = tmp4_1;
_ty2 = tmp4_3;
tmp4 += 1;
tmp7 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (0 != tmp7) goto goto_2;
tmp8 = omc_Types_isTuple(threadData, _ty2);
if (0 != tmp8) goto goto_2;
tmp9 = omc_Types_subtype(threadData, _ty1, _ty2, 1);
if (1 != tmp9) goto goto_2;
tmpMeta[2] = mmc_mk_box4(25, &DAE_Exp_TSUB__desc, _e, mmc_mk_integer(((modelica_integer) 1)), _ty2);
_e = tmpMeta[2];
_ty = _ty2;
tmpMeta[0+0] = _e;
tmpMeta[0+1] = _ty;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[2])) goto tmp3_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (listEmpty(tmpMeta[4])) goto tmp3_end;
tmpMeta[5] = MMC_CAR(tmpMeta[4]);
tmpMeta[6] = MMC_CDR(tmpMeta[4]);
_e = tmp4_1;
_ty2 = tmp4_3;
_ty1 = omc_Types_unflattenArrayType(threadData, _actual);
_ty2 = omc_Types_unflattenArrayType(threadData, _ty2);
tmpMeta[0+0] = omc_Types_typeConvert(threadData, _e, _ty1, _ty2, _printFailtrace, &tmpMeta[0+1]);
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[2])) goto tmp3_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (listEmpty(tmpMeta[4])) goto tmp3_end;
tmpMeta[5] = MMC_CAR(tmpMeta[4]);
tmpMeta[6] = MMC_CDR(tmpMeta[4]);
_e = tmp4_1;
_ty1 = tmp4_2;
tmp4 += 13;
_ty1 = omc_Types_unflattenArrayType(threadData, _ty1);
_ty2 = omc_Types_unflattenArrayType(threadData, _expected);
tmpMeta[0+0] = omc_Types_typeConvert(threadData, _e, _ty1, _ty2, _printFailtrace, &tmpMeta[0+1]);
goto tmp3_done;
}
case 4: {
modelica_boolean tmp10;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[4])) goto tmp3_end;
tmpMeta[5] = MMC_CAR(tmpMeta[4]);
tmpMeta[6] = MMC_CDR(tmpMeta[4]);
if (!listEmpty(tmpMeta[6])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[8])) goto tmp3_end;
tmpMeta[9] = MMC_CAR(tmpMeta[8]);
tmpMeta[10] = MMC_CDR(tmpMeta[8]);
if (!listEmpty(tmpMeta[10])) goto tmp3_end;
_elist = tmpMeta[2];
_ty1 = tmpMeta[3];
_dim1 = tmpMeta[5];
_ty0 = tmp4_3;
_ty2 = tmpMeta[7];
_dim2 = tmpMeta[9];
tmp10 = omc_Expression_dimensionsKnownAndEqual(threadData, _dim1, _dim2);
if (1 != tmp10) goto goto_2;
_elist_1 = omc_Types_typeConvertArray(threadData, _elist, _ty1, _ty2, _printFailtrace);
_at = omc_Types_simplifyType(threadData, _ty0);
_a = omc_Types_isArray(threadData, _ty2);
_sc = (!_a);
tmpMeta[2] = mmc_mk_box4(19, &DAE_Exp_ARRAY__desc, _at, mmc_mk_boolean(_sc), _elist_1);
tmpMeta[3] = mmc_mk_cons(_dim1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[4] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty2, tmpMeta[3]);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[4];
goto tmp3_done;
}
case 5: {
modelica_boolean tmp11;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[4])) goto tmp3_end;
tmpMeta[5] = MMC_CAR(tmpMeta[4]);
tmpMeta[6] = MMC_CDR(tmpMeta[4]);
if (!listEmpty(tmpMeta[6])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[8] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[8])) goto tmp3_end;
tmpMeta[9] = MMC_CAR(tmpMeta[8]);
tmpMeta[10] = MMC_CDR(tmpMeta[8]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[9],4,0) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[10])) goto tmp3_end;
_elist = tmpMeta[2];
_ty1 = tmpMeta[3];
_dim1 = tmpMeta[5];
_ty2 = tmpMeta[7];
tmp4 += 4;
tmp11 = omc_Expression_dimensionKnown(threadData, _dim1);
if (1 != tmp11) goto goto_2;
_elist_1 = omc_Types_typeConvertArray(threadData, _elist, _ty1, _ty2, _printFailtrace);
_dims = omc_Expression_arrayDimension(threadData, omc_Types_simplifyType(threadData, _ty1));
_a = omc_Types_isArray(threadData, _ty2);
_sc = (!_a);
tmpMeta[2] = mmc_mk_cons(_dim1, _dims);
_dims = tmpMeta[2];
_ty2 = omc_Types_arrayElementType(threadData, _ty2);
_ety1 = omc_Types_simplifyType(threadData, _ty2);
_ty2 = omc_Types_liftArrayListDims(threadData, _ty2, _dims);
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ety1, _dims);
tmpMeta[3] = mmc_mk_box4(19, &DAE_Exp_ARRAY__desc, tmpMeta[2], mmc_mk_boolean(_sc), _elist_1);
tmpMeta[0+0] = tmpMeta[3];
tmpMeta[0+1] = _ty2;
goto tmp3_done;
}
case 6: {
modelica_boolean tmp12;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (optionNone(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 1));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (!listEmpty(tmpMeta[9])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[10] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[11] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[11])) goto tmp3_end;
tmpMeta[12] = MMC_CAR(tmpMeta[11]);
tmpMeta[13] = MMC_CDR(tmpMeta[11]);
if (!listEmpty(tmpMeta[13])) goto tmp3_end;
_begin = tmpMeta[2];
_step = tmpMeta[4];
_stop = tmpMeta[5];
_ty1 = tmpMeta[6];
_dim1 = tmpMeta[8];
_ty2 = tmpMeta[10];
_dim2 = tmpMeta[12];
tmp4 += 3;
tmp12 = omc_Expression_dimensionsKnownAndEqual(threadData, _dim1, _dim2);
if (1 != tmp12) goto goto_2;
_begin_1 = omc_Types_typeConvert(threadData, _begin, _ty1, _ty2, _printFailtrace, NULL);
_step_1 = omc_Types_typeConvert(threadData, _step, _ty1, _ty2, _printFailtrace, NULL);
_stop_1 = omc_Types_typeConvert(threadData, _stop, _ty1, _ty2, _printFailtrace, NULL);
tmpMeta[2] = mmc_mk_cons(_dim1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty2, tmpMeta[2]);
_at = omc_Types_simplifyType(threadData, tmpMeta[3]);
tmpMeta[2] = mmc_mk_box5(21, &DAE_Exp_RANGE__desc, _at, _begin_1, mmc_mk_some(_step_1), _stop_1);
tmpMeta[3] = mmc_mk_cons(_dim1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[4] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty2, tmpMeta[3]);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[4];
goto tmp3_done;
}
case 7: {
modelica_boolean tmp13;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (!optionNone(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[6])) goto tmp3_end;
tmpMeta[7] = MMC_CAR(tmpMeta[6]);
tmpMeta[8] = MMC_CDR(tmpMeta[6]);
if (!listEmpty(tmpMeta[8])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[9] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[10] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[10])) goto tmp3_end;
tmpMeta[11] = MMC_CAR(tmpMeta[10]);
tmpMeta[12] = MMC_CDR(tmpMeta[10]);
if (!listEmpty(tmpMeta[12])) goto tmp3_end;
_begin = tmpMeta[2];
_stop = tmpMeta[4];
_ty1 = tmpMeta[5];
_dim1 = tmpMeta[7];
_ty2 = tmpMeta[9];
_dim2 = tmpMeta[11];
tmp4 += 2;
tmp13 = omc_Expression_dimensionsKnownAndEqual(threadData, _dim1, _dim2);
if (1 != tmp13) goto goto_2;
_begin_1 = omc_Types_typeConvert(threadData, _begin, _ty1, _ty2, _printFailtrace, NULL);
_stop_1 = omc_Types_typeConvert(threadData, _stop, _ty1, _ty2, _printFailtrace, NULL);
tmpMeta[2] = mmc_mk_cons(_dim1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty2, tmpMeta[2]);
_at = omc_Types_simplifyType(threadData, tmpMeta[3]);
tmpMeta[2] = mmc_mk_box5(21, &DAE_Exp_RANGE__desc, _at, _begin_1, mmc_mk_none(), _stop_1);
tmpMeta[3] = mmc_mk_cons(_dim1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[4] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty2, tmpMeta[3]);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[4];
goto tmp3_done;
}
case 8: {
modelica_integer tmp14;
modelica_boolean tmp15;
modelica_boolean tmp16;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmp14 = mmc_unbox_integer(tmpMeta[2]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],6,2) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 3));
if (listEmpty(tmpMeta[6])) goto tmp3_end;
tmpMeta[7] = MMC_CAR(tmpMeta[6]);
tmpMeta[8] = MMC_CDR(tmpMeta[6]);
if (!listEmpty(tmpMeta[8])) goto tmp3_end;
tmpMeta[9] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[9])) goto tmp3_end;
tmpMeta[10] = MMC_CAR(tmpMeta[9]);
tmpMeta[11] = MMC_CDR(tmpMeta[9]);
if (!listEmpty(tmpMeta[11])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[12] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[12],6,2) == 0) goto tmp3_end;
tmpMeta[13] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[12]), 2));
tmpMeta[14] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[12]), 3));
if (listEmpty(tmpMeta[14])) goto tmp3_end;
tmpMeta[15] = MMC_CAR(tmpMeta[14]);
tmpMeta[16] = MMC_CDR(tmpMeta[14]);
if (!listEmpty(tmpMeta[16])) goto tmp3_end;
tmpMeta[17] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[17])) goto tmp3_end;
tmpMeta[18] = MMC_CAR(tmpMeta[17]);
tmpMeta[19] = MMC_CDR(tmpMeta[17]);
if (!listEmpty(tmpMeta[19])) goto tmp3_end;
_nmax = tmp14;
_ell = tmpMeta[3];
_t1 = tmpMeta[5];
_dim11 = tmpMeta[7];
_dim1 = tmpMeta[10];
_ty0 = tmp4_3;
_t2 = tmpMeta[13];
_dim22 = tmpMeta[15];
_dim2 = tmpMeta[18];
tmp15 = omc_Expression_dimensionsKnownAndEqual(threadData, _dim1, _dim2);
if (1 != tmp15) goto goto_2;
tmp16 = omc_Expression_dimensionsKnownAndEqual(threadData, _dim11, _dim22);
if (1 != tmp16) goto goto_2;
_ell_1 = omc_Types_typeConvertMatrix(threadData, _ell, _t1, _t2, _printFailtrace);
_at = omc_Types_simplifyType(threadData, _ty0);
tmpMeta[2] = mmc_mk_box4(20, &DAE_Exp_MATRIX__desc, _at, mmc_mk_integer(_nmax), _ell_1);
tmpMeta[3] = mmc_mk_cons(_dim11, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[4] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t2, tmpMeta[3]);
tmpMeta[5] = mmc_mk_cons(_dim1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[6] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, tmpMeta[4], tmpMeta[5]);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[6];
goto tmp3_done;
}
case 9: {
modelica_integer tmp17;
modelica_boolean tmp18;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmp17 = mmc_unbox_integer(tmpMeta[2]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],6,2) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 3));
if (listEmpty(tmpMeta[6])) goto tmp3_end;
tmpMeta[7] = MMC_CAR(tmpMeta[6]);
tmpMeta[8] = MMC_CDR(tmpMeta[6]);
if (!listEmpty(tmpMeta[8])) goto tmp3_end;
tmpMeta[9] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[9])) goto tmp3_end;
tmpMeta[10] = MMC_CAR(tmpMeta[9]);
tmpMeta[11] = MMC_CDR(tmpMeta[9]);
if (!listEmpty(tmpMeta[11])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[12] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[12],6,2) == 0) goto tmp3_end;
tmpMeta[13] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[12]), 2));
tmpMeta[14] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[12]), 3));
if (listEmpty(tmpMeta[14])) goto tmp3_end;
tmpMeta[15] = MMC_CAR(tmpMeta[14]);
tmpMeta[16] = MMC_CDR(tmpMeta[14]);
if (!listEmpty(tmpMeta[16])) goto tmp3_end;
tmpMeta[17] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[17])) goto tmp3_end;
tmpMeta[18] = MMC_CAR(tmpMeta[17]);
tmpMeta[19] = MMC_CDR(tmpMeta[17]);
if (!listEmpty(tmpMeta[19])) goto tmp3_end;
_nmax = tmp17;
_ell = tmpMeta[3];
_t1 = tmpMeta[5];
_dim11 = tmpMeta[7];
_dim1 = tmpMeta[10];
_t2 = tmpMeta[13];
_dim22 = tmpMeta[15];
_dim2 = tmpMeta[18];
if (!(!omc_Expression_dimensionKnown(threadData, _dim2))) goto tmp3_end;
tmp18 = omc_Expression_dimensionsKnownAndEqual(threadData, _dim11, _dim22);
if (1 != tmp18) goto goto_2;
_ell_1 = omc_Types_typeConvertMatrix(threadData, _ell, _t1, _t2, _printFailtrace);
tmpMeta[2] = mmc_mk_cons(_dim11, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t2, tmpMeta[2]);
tmpMeta[4] = mmc_mk_cons(_dim1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[5] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, tmpMeta[3], tmpMeta[4]);
_ty = tmpMeta[5];
_at = omc_Types_simplifyType(threadData, _ty);
tmpMeta[2] = mmc_mk_box4(20, &DAE_Exp_MATRIX__desc, _at, mmc_mk_integer(_nmax), _ell_1);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _ty;
goto tmp3_done;
}
case 10: {
modelica_boolean tmp19;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (!listEmpty(tmpMeta[9])) goto tmp3_end;
_ty1 = tmpMeta[2];
_dim1 = tmpMeta[4];
_ty2 = tmpMeta[6];
_dim2 = tmpMeta[8];
_e = tmp4_1;
tmp19 = omc_Expression_dimensionsKnownAndEqual(threadData, _dim1, _dim2);
if (1 != tmp19) goto goto_2;
_e_1 = omc_Types_typeConvert(threadData, _e, _ty1, _ty2, _printFailtrace ,&_t_1);
_e_1 = omc_Types_liftExpType(threadData, _e_1, _dim1);
tmpMeta[2] = mmc_mk_cons(_dim2, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t_1, tmpMeta[2]);
_t_2 = tmpMeta[3];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _t_2;
goto tmp3_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[8],4,0) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[9])) goto tmp3_end;
_ty2 = tmpMeta[2];
_ty1 = tmpMeta[6];
_e = tmp4_1;
_e_1 = omc_Types_typeConvert(threadData, _e, _ty1, _ty2, _printFailtrace ,&_t_1);
_e_1 = omc_Types_liftExpType(threadData, _e_1, _OMC_LIT10);
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t_1, _OMC_LIT44);
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[8],4,0) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[9])) goto tmp3_end;
_ty1 = tmpMeta[2];
_dim1 = tmpMeta[4];
_ty2 = tmpMeta[6];
_e = tmp4_1;
_e_1 = omc_Types_typeConvert(threadData, _e, _ty1, _ty2, _printFailtrace ,&_t_1);
_e_1 = omc_Types_liftExpType(threadData, _e_1, _dim1);
tmpMeta[2] = mmc_mk_cons(_dim1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t_1, tmpMeta[2]);
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 13: {
modelica_boolean tmp20;
modelica_boolean tmp21;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (!listEmpty(tmpMeta[9])) goto tmp3_end;
_ty1 = tmpMeta[2];
_dim1 = tmpMeta[4];
_ty2 = tmpMeta[6];
_dim2 = tmpMeta[8];
_e = tmp4_1;
tmp4 += 9;
tmp20 = omc_Expression_dimensionKnown(threadData, _dim1);
if (0 != tmp20) goto goto_2;
tmp21 = omc_Expression_dimensionKnown(threadData, _dim2);
if (0 != tmp21) goto goto_2;
_e_1 = omc_Types_typeConvert(threadData, _e, _ty1, _ty2, _printFailtrace ,&_t_1);
_e_1 = omc_Types_liftExpType(threadData, _e_1, _OMC_LIT10);
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t_1, _OMC_LIT44);
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,14,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,14,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
_elist = tmpMeta[2];
_tys1 = tmpMeta[3];
_tys2 = tmpMeta[4];
tmp4 += 30;
_elist_1 = omc_Types_typeConvertList(threadData, _elist, _tys1, _tys2, _printFailtrace ,&_tys_1);
tmpMeta[2] = mmc_mk_box2(22, &DAE_Exp_TUPLE__desc, _elist_1);
tmpMeta[3] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, _tys_1, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_expected), 3))));
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 15: {
modelica_integer tmp22;
modelica_boolean tmp23;
modelica_boolean tmp24;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmp22 = mmc_unbox_integer(tmpMeta[2]);
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,5,5) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 4));
_exp = tmp4_1;
_oi = tmp22;
_t2 = tmp4_3;
_tp = tmpMeta[3];
_l = tmpMeta[4];
tmp4 += 29;
tmp23 = omc_Config_intEnumConversion(threadData);
if (1 != tmp23) goto goto_2;
tmp24 = omc_Types_typeConvertIntToEnumCheck(threadData, _exp, _t2);
if (1 != tmp24) goto goto_2;
_name = listGet(_l, _oi);
tmpMeta[2] = mmc_mk_box2(4, &Absyn_Path_IDENT__desc, _name);
_tp = omc_AbsynUtil_joinPaths(threadData, _tp, tmpMeta[2]);
tmpMeta[2] = mmc_mk_box3(8, &DAE_Exp_ENUM__LITERAL__desc, _tp, mmc_mk_integer(_oi));
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _expected;
goto tmp3_done;
}
case 16: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,1,1) == 0) goto tmp3_end;
_e = tmp4_1;
tmp4 += 6;
tmpMeta[2] = mmc_mk_box3(23, &DAE_Exp_CAST__desc, _OMC_LIT4, _e);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _expected;
goto tmp3_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,10,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
_t1 = tmpMeta[2];
_e = tmp4_1;
_t2 = tmp4_3;
tmpMeta[0+0] = omc_Types_typeConvert(threadData, _e, _t1, _t2, _printFailtrace, &tmpMeta[0+1]);
goto tmp3_done;
}
case 18: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,10,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 4));
_t2 = tmpMeta[2];
_e = tmp4_1;
_t1 = tmp4_2;
tmp4 += 4;
tmpMeta[0+0] = omc_Types_typeConvert(threadData, _e, _t1, _t2, _printFailtrace, &tmpMeta[0+1]);
goto tmp3_done;
}
case 19: {
modelica_boolean tmp25;
modelica_boolean tmp26;
modelica_boolean tmp27;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,9,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],3,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,9,3) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],3,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
_p1 = tmpMeta[3];
_els1 = tmpMeta[4];
_t2 = tmp4_3;
_p2 = tmpMeta[6];
_els2 = tmpMeta[7];
_e = tmp4_1;
tmp4 += 3;
tmp25 = omc_AbsynUtil_pathEqual(threadData, _p1, _p2);
if (0 != tmp25) goto goto_2;
tmp26 = (omc_Flags_isSet(threadData, _OMC_LIT130) || (listLength(_els1) == listLength(_els2)));
if (1 != tmp26) goto goto_2;
tmp27 = omc_Types_subtypeVarlist(threadData, _els1, _els2);
if (1 != tmp27) goto goto_2;
tmpMeta[2] = mmc_mk_box3(23, &DAE_Exp_CAST__desc, _t2, _e);
_e = tmpMeta[2];
tmpMeta[0+0] = _e;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,19,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,19,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,31,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (optionNone(tmpMeta[4])) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 1));
_t1 = tmpMeta[2];
_t2 = tmpMeta[3];
_e = tmpMeta[5];
tmp4 += 24;
if (!omc_Config_acceptMetaModelicaGrammar(threadData)) goto tmp3_end;
_e_1 = omc_Types_matchType(threadData, _e, _t1, _t2, _printFailtrace ,&_t_1);
tmpMeta[2] = mmc_mk_box2(34, &DAE_Exp_META__OPTION__desc, mmc_mk_some(_e_1));
tmpMeta[3] = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, _t_1);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 21: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,19,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,31,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (!optionNone(tmpMeta[3])) goto tmp3_end;
_t2 = tmpMeta[2];
tmp4 += 23;
if (!omc_Config_acceptMetaModelicaGrammar(threadData)) goto tmp3_end;
tmpMeta[2] = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, _t2);
tmpMeta[0+0] = _OMC_LIT131;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
case 22: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,14,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,18,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
_elist = tmpMeta[2];
_tys1 = tmpMeta[3];
_tys2 = tmpMeta[4];
tmp4 += 22;
if (!omc_Config_acceptMetaModelicaGrammar(threadData)) goto tmp3_end;
_tys2 = omc_List_map(threadData, _tys2, boxvar_Types_boxIfUnboxedType);
_elist_1 = omc_Types_matchTypeTuple(threadData, _elist, _tys1, _tys2, _printFailtrace ,&_tys_1);
tmpMeta[2] = mmc_mk_box2(33, &DAE_Exp_META__TUPLE__desc, _elist_1);
tmpMeta[3] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _tys_1);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 23: {
modelica_boolean tmp28;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,33,6) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
_matchTy = tmpMeta[2];
_inputs = tmpMeta[3];
_aliases = tmpMeta[4];
_localDecls = tmpMeta[5];
_cases = tmpMeta[6];
_et = tmpMeta[7];
tmp4 += 6;
tmp28 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (1 != tmp28) goto goto_2;
_elist = omc_Patternm_resultExps(threadData, _cases);
_elist_1 = omc_Types_matchTypeList(threadData, _elist, _actual, _expected, _printFailtrace, NULL);
_cases = omc_Patternm_fixCaseReturnTypes2(threadData, _cases, _elist_1, _OMC_LIT132);
_et = omc_Types_simplifyType(threadData, _expected);
tmpMeta[2] = mmc_mk_box7(36, &DAE_Exp_MATCHEXPRESSION__desc, _matchTy, _inputs, _aliases, _localDecls, _cases, _et);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _expected;
goto tmp3_done;
}
case 24: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,30,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,18,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,18,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
_elist = tmpMeta[2];
_tys1 = tmpMeta[3];
_tys2 = tmpMeta[4];
tmp4 += 20;
_tys2 = omc_List_map(threadData, _tys2, boxvar_Types_boxIfUnboxedType);
_elist_1 = omc_Types_matchTypeTuple(threadData, _elist, _tys1, _tys2, _printFailtrace ,&_tys_1);
tmpMeta[2] = mmc_mk_box2(33, &DAE_Exp_META__TUPLE__desc, _elist_1);
tmpMeta[3] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _tys_1);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 25: {
modelica_boolean tmp29;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,14,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],8,0) == 0) goto tmp3_end;
_elist = tmpMeta[2];
_tys1 = tmpMeta[3];
_ty2 = tmp4_3;
tmp4 += 19;
tmp29 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (1 != tmp29) goto goto_2;
_tys2 = omc_List_fill(threadData, _ty2, listLength(_tys1));
_elist_1 = omc_Types_matchTypeTuple(threadData, _elist, _tys1, _tys2, _printFailtrace ,&_tys_1);
tmpMeta[2] = mmc_mk_box2(33, &DAE_Exp_META__TUPLE__desc, _elist_1);
tmpMeta[3] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _tys_1);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 26: {
modelica_boolean tmp30;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,17,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],6,2) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_t1 = tmpMeta[2];
_t2 = tmpMeta[3];
_elist = tmpMeta[5];
tmp4 += 18;
tmp30 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (1 != tmp30) goto goto_2;
_t2 = omc_Types_boxIfUnboxedType(threadData, _t2);
_elist_1 = omc_Types_matchTypeList(threadData, _elist, _t1, _t2, _printFailtrace, NULL);
tmpMeta[2] = mmc_mk_box2(31, &DAE_Exp_LIST__desc, _elist_1);
_e_1 = tmpMeta[2];
tmpMeta[2] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _t2);
_t2 = tmpMeta[2];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 27: {
modelica_boolean tmp31;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,3) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],6,2) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_t1 = tmpMeta[2];
_t2 = tmpMeta[3];
_elist = tmpMeta[5];
tmp4 += 6;
tmp31 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (1 != tmp31) goto goto_2;
_elist_1 = omc_Types_matchTypeList(threadData, _elist, _t1, _t2, _printFailtrace ,&_tys1);
_elist_1 = omc_Types_listMatchSuperType(threadData, _elist_1, _tys1, _printFailtrace ,&_t2);
_t2 = omc_Types_boxIfUnboxedType(threadData, _t2);
_elist_1 = omc_Types_matchTypeList(threadData, _elist_1, _t1, _t2, _printFailtrace, NULL);
tmpMeta[2] = mmc_mk_box2(31, &DAE_Exp_LIST__desc, _elist_1);
_e_1 = tmpMeta[2];
tmpMeta[2] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _t2);
_t2 = tmpMeta[2];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 28: {
modelica_boolean tmp32;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],6,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_elist_big = tmpMeta[3];
_t1 = tmp4_2;
_t2 = tmp4_3;
tmp4 += 1;
tmp32 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (1 != tmp32) goto goto_2;
_elist = omc_Types_typeConvertMatrixToList(threadData, _elist_big, _t1, _t2, _printFailtrace ,&_ty2);
tmpMeta[2] = mmc_mk_box2(31, &DAE_Exp_LIST__desc, _elist);
_e_1 = tmpMeta[2];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _ty2;
goto tmp3_done;
}
case 29: {
modelica_boolean tmp33;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,28,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,17,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,17,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
_elist = tmpMeta[2];
_t1 = tmpMeta[3];
_t2 = tmpMeta[4];
tmp4 += 15;
tmp33 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (1 != tmp33) goto goto_2;
_elist_1 = omc_Types_matchTypeList(threadData, _elist, _t1, _t2, _printFailtrace ,&_tys1);
_elist_1 = omc_Types_listMatchSuperType(threadData, _elist_1, _tys1, _printFailtrace ,&_t2);
tmpMeta[2] = mmc_mk_box2(31, &DAE_Exp_LIST__desc, _elist_1);
_e_1 = tmpMeta[2];
tmpMeta[2] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _t2);
_t2 = tmpMeta[2];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 30: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
_t1 = tmp4_2;
_t2 = tmpMeta[2];
_e = tmp4_1;
tmp4 += 14;
_e = omc_Types_matchType(threadData, _e, _t1, omc_Types_unboxedType(threadData, _t2), _printFailtrace ,&_t1);
tmpMeta[2] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _t1);
_t2 = tmpMeta[2];
_e = omc_Expression_boxExp(threadData, _e);
tmpMeta[0+0] = _e;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 31: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,3,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
_t1 = tmp4_2;
_t2 = tmpMeta[2];
_e = tmp4_1;
tmp4 += 13;
_e = omc_Types_matchType(threadData, _e, _t1, omc_Types_unboxedType(threadData, _t2), _printFailtrace ,&_t1);
tmpMeta[2] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _t1);
_t2 = tmpMeta[2];
_e = omc_Expression_boxExp(threadData, _e);
tmpMeta[0+0] = _e;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 32: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
_t1 = tmp4_2;
_t2 = tmpMeta[2];
_e = tmp4_1;
tmp4 += 12;
_e = omc_Types_matchType(threadData, _e, _t1, omc_Types_unboxedType(threadData, _t2), _printFailtrace ,&_t1);
tmpMeta[2] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _t1);
_t2 = tmpMeta[2];
_e = omc_Expression_boxExp(threadData, _e);
tmpMeta[0+0] = _e;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 33: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,5) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
_t1 = tmp4_2;
_t2 = tmpMeta[2];
_e = tmp4_1;
tmp4 += 11;
_e = omc_Types_matchType(threadData, _e, _t1, omc_Types_unboxedType(threadData, _t2), _printFailtrace ,&_t1);
tmpMeta[2] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _t1);
_t2 = tmpMeta[2];
_e = omc_Expression_boxExp(threadData, _e);
tmpMeta[0+0] = _e;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 34: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
_t1 = tmp4_2;
_t2 = tmpMeta[2];
_e = tmp4_1;
tmp4 += 10;
_e = omc_Types_matchType(threadData, _e, _t1, omc_Types_unboxedType(threadData, _t2), _printFailtrace ,&_t1);
tmpMeta[2] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _t1);
_t2 = tmpMeta[2];
_e = omc_Expression_boxExp(threadData, _e);
tmpMeta[0+0] = _e;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 35: {
modelica_boolean tmp34;
modelica_boolean tmp35;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,9,3) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],3,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
_path1 = tmpMeta[2];
_elist = tmpMeta[3];
_t2 = tmpMeta[4];
_t1 = tmp4_2;
_path2 = tmpMeta[6];
_v = tmpMeta[7];
tmp4 += 2;
tmp34 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp34) goto goto_2;
tmp35 = omc_AbsynUtil_pathEqual(threadData, _path1, _path2);
if (1 != tmp35) goto goto_2;
tmpMeta[2] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _t1);
_t2 = tmpMeta[2];
_l = omc_List_map(threadData, _v, boxvar_Types_getVarName);
_tys1 = omc_List_map(threadData, _v, boxvar_Types_getVarType);
_tys2 = omc_List_map(threadData, _tys1, boxvar_Types_boxIfUnboxedType);
_elist = omc_Types_matchTypeTuple(threadData, _elist, _tys1, _tys2, _printFailtrace, NULL);
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[3] = mmc_mk_box6(35, &DAE_Exp_METARECORDCALL__desc, _path1, _elist, _l, mmc_mk_integer(((modelica_integer) -1)), tmpMeta[2]);
_e_1 = tmpMeta[3];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 36: {
modelica_boolean tmp36;
modelica_boolean tmp37;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,9,3) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],3,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
_path1 = tmpMeta[2];
_elist = tmpMeta[3];
_t2 = tmpMeta[4];
_t1 = tmp4_2;
_path2 = tmpMeta[6];
_v = tmpMeta[7];
tmp4 += 1;
tmp36 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp36) goto goto_2;
tmp37 = omc_AbsynUtil_pathEqual(threadData, _path1, _path2);
if (1 != tmp37) goto goto_2;
tmpMeta[2] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _t1);
_t2 = tmpMeta[2];
_l = omc_List_map(threadData, _v, boxvar_Types_getVarName);
_tys1 = omc_List_map(threadData, _v, boxvar_Types_getVarType);
_tys2 = omc_List_map(threadData, _tys1, boxvar_Types_boxIfUnboxedType);
_elist = omc_Types_matchTypeTuple(threadData, _elist, _tys1, _tys2, _printFailtrace, NULL);
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[3] = mmc_mk_box6(35, &DAE_Exp_METARECORDCALL__desc, _path1, _elist, _l, mmc_mk_integer(((modelica_integer) -1)), tmpMeta[2]);
_e_1 = tmpMeta[3];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 37: {
modelica_boolean tmp38;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,9,3) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],3,1) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
_cref = tmpMeta[2];
_t2 = tmpMeta[3];
_t1 = tmp4_2;
_path = tmpMeta[5];
_v = tmpMeta[6];
tmp38 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp38) goto goto_2;
tmpMeta[2] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _t1);
_t2 = tmpMeta[2];
_l = omc_List_map(threadData, _v, boxvar_Types_getVarName);
_tys1 = omc_List_map(threadData, _v, boxvar_Types_getVarType);
_tys2 = omc_List_map(threadData, _tys1, boxvar_Types_boxIfUnboxedType);
_expTypes = omc_List_map(threadData, _tys1, boxvar_Types_simplifyType);
_pathList = omc_List_map(threadData, _l, boxvar_AbsynUtil_makeIdentPathFromString);
_crefList = omc_List_map(threadData, _pathList, boxvar_ComponentReference_pathToCref);
_crefList = omc_List_map1r(threadData, _crefList, boxvar_ComponentReference_joinCrefs, _cref);
_elist = omc_List_threadMap(threadData, _crefList, _expTypes, boxvar_Expression_makeCrefExp);
_elist = omc_Types_matchTypeTuple(threadData, _elist, _tys1, _tys2, _printFailtrace, NULL);
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[3] = mmc_mk_box6(35, &DAE_Exp_METARECORDCALL__desc, _path, _elist, _l, mmc_mk_integer(((modelica_integer) -1)), tmpMeta[2]);
_e_1 = tmpMeta[3];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 38: {
modelica_boolean tmp39;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,23,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,9,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],3,1) == 0) goto tmp3_end;
_e = tmp4_1;
tmp4 += 6;
tmp39 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp39) goto goto_2;
tmpMeta[2] = stringAppend(_OMC_LIT133,omc_ExpressionDump_printExpStr(threadData, _e));
tmpMeta[3] = stringAppend(tmpMeta[2],_OMC_LIT91);
omc_Debug_trace(threadData, tmpMeta[3]);
goto goto_2;
goto tmp3_done;
}
case 39: {
modelica_boolean tmp40;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,34,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,23,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_e = tmpMeta[2];
_t1 = tmpMeta[3];
_t2 = tmp4_3;
tmp40 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp40) goto goto_2;
tmpMeta[0+0] = omc_Types_matchType(threadData, _e, _t1, _t2, _printFailtrace, &tmpMeta[0+1]);
goto tmp3_done;
}
case 40: {
modelica_boolean tmp41;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,0,1) == 0) goto tmp3_end;
_t1 = tmpMeta[2];
_t2 = tmp4_3;
_e = tmp4_1;
tmp4 += 4;
tmp41 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp41) goto goto_2;
omc_Types_matchType(threadData, _e, _t1, _t2, _printFailtrace, NULL);
_t = omc_Types_simplifyType(threadData, _t2);
tmpMeta[2] = mmc_mk_box3(38, &DAE_Exp_UNBOX__desc, _e, _t);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 41: {
modelica_boolean tmp42;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,1,1) == 0) goto tmp3_end;
_t1 = tmpMeta[2];
_t2 = tmp4_3;
_e = tmp4_1;
tmp4 += 3;
tmp42 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp42) goto goto_2;
omc_Types_matchType(threadData, _e, _t1, _t2, _printFailtrace, NULL);
_t = omc_Types_simplifyType(threadData, _t2);
tmpMeta[2] = mmc_mk_box3(38, &DAE_Exp_UNBOX__desc, _e, _t);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 42: {
modelica_boolean tmp43;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,3,1) == 0) goto tmp3_end;
_t1 = tmpMeta[2];
_t2 = tmp4_3;
_e = tmp4_1;
tmp4 += 2;
tmp43 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp43) goto goto_2;
omc_Types_matchType(threadData, _e, _t1, _t2, _printFailtrace, NULL);
_t = omc_Types_simplifyType(threadData, _t2);
tmpMeta[2] = mmc_mk_box3(38, &DAE_Exp_UNBOX__desc, _e, _t);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 43: {
modelica_boolean tmp44;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,5,5) == 0) goto tmp3_end;
_t1 = tmpMeta[2];
_t2 = tmp4_3;
_e = tmp4_1;
tmp4 += 1;
tmp44 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp44) goto goto_2;
omc_Types_matchType(threadData, _e, _t1, _t2, _printFailtrace, NULL);
_t = omc_Types_simplifyType(threadData, _t2);
tmpMeta[2] = mmc_mk_box3(38, &DAE_Exp_UNBOX__desc, _e, _t);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
case 44: {
modelica_boolean tmp45;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,23,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,9,3) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],3,1) == 0) goto tmp3_end;
_t1 = tmpMeta[2];
_t2 = tmp4_3;
_e = tmp4_1;
tmp45 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp45) goto goto_2;
_e_1 = omc_Types_matchType(threadData, _e, _t1, _t2, _printFailtrace, NULL);
_t = omc_Types_simplifyType(threadData, _t2);
tmpMeta[2] = mmc_mk_cons(_e_1, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box8(3, &DAE_CallAttributes_CALL__ATTR__desc, _t, mmc_mk_boolean(0), mmc_mk_boolean(1), mmc_mk_boolean(0), mmc_mk_boolean(0), _OMC_LIT136, _OMC_LIT22);
tmpMeta[4] = mmc_mk_box4(16, &DAE_Exp_CALL__desc, _OMC_LIT135, tmpMeta[2], tmpMeta[3]);
tmpMeta[0+0] = tmpMeta[4];
tmpMeta[0+1] = _t2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 45) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outExp = tmpMeta[0+0];
_outType = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outType) { *out_outType = _outType; }
return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeConvert(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _actual, modelica_metatype _expected, modelica_metatype _printFailtrace, modelica_metatype *out_outType)
{
modelica_integer tmp1;
modelica_metatype _outExp = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_outExp = omc_Types_typeConvert(threadData, _inExp1, _actual, _expected, tmp1, out_outType);
return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_unflattenArrayType2(threadData_t *threadData, modelica_metatype _inTy, modelica_boolean _last)
{
modelica_metatype _outTy = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_boolean tmp3_2;
tmp3_1 = _inTy;
tmp3_2 = _last;
{
modelica_metatype _ty = NULL;
modelica_metatype _t = NULL;
modelica_metatype _dims = NULL;
modelica_metatype _dim = NULL;
modelica_metatype _ci = NULL;
modelica_metatype _vl = NULL;
modelica_metatype _eqc = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 5; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
_ci = tmpMeta[1];
_vl = tmpMeta[2];
_ty = tmpMeta[3];
_eqc = tmpMeta[4];
tmp3 += 3;
_ty = omc_Types_unflattenArrayType(threadData, _ty);
tmpMeta[1] = mmc_mk_box5(13, &DAE_Type_T__SUBTYPE__BASIC__desc, _ci, _vl, _ty, _eqc);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_t = tmpMeta[1];
_dim = tmpMeta[3];
tmp3 += 1;
_t = omc_Types_unflattenArrayType(threadData, _t);
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 2: {
if (1 != tmp3_2) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (!listEmpty(tmpMeta[2])) goto tmp2_end;
_t = tmpMeta[1];
tmp3 += 2;
tmpMeta[0] = omc_Types_unflattenArrayType(threadData, _t);
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
_t = tmpMeta[1];
_dim = tmpMeta[3];
_dims = tmpMeta[4];
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, _dims);
_ty = omc_Types_unflattenArrayType2(threadData, tmpMeta[1], 1);
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 4: {
if (0 != tmp3_2) goto tmp2_end;
_ty = tmp3_1;
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 5) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outTy = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outTy;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_unflattenArrayType2(threadData_t *threadData, modelica_metatype _inTy, modelica_metatype _last)
{
modelica_integer tmp1;
modelica_metatype _outTy = NULL;
tmp1 = mmc_unbox_integer(_last);
_outTy = omc_Types_unflattenArrayType2(threadData, _inTy, tmp1);
return _outTy;
}
DLLExport
modelica_metatype omc_Types_unflattenArrayType(threadData_t *threadData, modelica_metatype _inTy)
{
modelica_metatype _outTy = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outTy = omc_Types_unflattenArrayType2(threadData, _inTy, 0);
_return: OMC_LABEL_UNUSED
return _outTy;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_vectorizableType2(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inExpType, modelica_metatype _inCurrentType, modelica_metatype _inDims, modelica_metatype _inExpectedType, modelica_metatype _fnPath, modelica_metatype *out_outType, modelica_metatype *out_outDims, modelica_metatype *out_outBindings)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outType = NULL;
modelica_metatype _outDims = NULL;
modelica_metatype _outBindings = NULL;
modelica_metatype _vec_type = NULL;
modelica_metatype _cur_type = NULL;
modelica_metatype _dim = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
_vec_type = omc_Types_liftArrayListDimsReverse(threadData, _inExpectedType, _inDims);
tmpMeta[0] = MMC_REFSTRUCTLIT(mmc_nil);
_outExp = omc_Types_matchTypePolymorphic(threadData, _inExp, _inExpType, _vec_type, _fnPath, tmpMeta[0], 1 ,&_outType ,&_outBindings);
_outDims = listReverse(_inDims);
goto tmp2_done;
}
case 1: {
tmpMeta[0] = _inCurrentType;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],6,2) == 0) goto goto_1;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
if (listEmpty(tmpMeta[2])) goto goto_1;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto goto_1;
_cur_type = tmpMeta[1];
_dim = tmpMeta[3];
tmpMeta[0] = mmc_mk_cons(_dim, _inDims);
_outExp = omc_Types_vectorizableType2(threadData, _inExp, _inExpType, _cur_type, tmpMeta[0], _inExpectedType, _fnPath ,&_outType ,&_outDims ,&_outBindings);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
;
_return: OMC_LABEL_UNUSED
if (out_outType) { *out_outType = _outType; }
if (out_outDims) { *out_outDims = _outDims; }
if (out_outBindings) { *out_outBindings = _outBindings; }
return _outExp;
}
DLLExport
modelica_metatype omc_Types_vectorizableType(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inExpType, modelica_metatype _inExpectedType, modelica_metatype _fnPath, modelica_metatype *out_outType, modelica_metatype *out_outArrayDimLst, modelica_metatype *out_outBindings)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outType = NULL;
modelica_metatype _outArrayDimLst = NULL;
modelica_metatype _outBindings = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = MMC_REFSTRUCTLIT(mmc_nil);
_outExp = omc_Types_vectorizableType2(threadData, _inExp, _inExpType, _inExpType, tmpMeta[0], _inExpectedType, _fnPath ,&_outType ,&_outArrayDimLst ,&_outBindings);
_return: OMC_LABEL_UNUSED
if (out_outType) { *out_outType = _outType; }
if (out_outArrayDimLst) { *out_outArrayDimLst = _outArrayDimLst; }
if (out_outBindings) { *out_outBindings = _outBindings; }
return _outExp;
}
DLLExport
void omc_Types_matchTypeTupleCall(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inTypeLst2, modelica_metatype _inTypeLst3)
{
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;volatile modelica_metatype tmp3_3;
tmp3_1 = _inExp1;
tmp3_2 = _inTypeLst2;
tmp3_3 = _inTypeLst3;
{
modelica_metatype _e = NULL;
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _ts1 = NULL;
modelica_metatype _ts2 = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_3)) goto tmp2_end;
tmp3 += 2;
goto tmp2_done;
}
case 1: {
modelica_boolean tmp5;
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[0] = MMC_CAR(tmp3_2);
tmpMeta[1] = MMC_CDR(tmp3_2);
if (listEmpty(tmp3_3)) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmp3_3);
tmpMeta[3] = MMC_CDR(tmp3_3);
_t1 = tmpMeta[0];
_ts1 = tmpMeta[1];
_t2 = tmpMeta[2];
_ts2 = tmpMeta[3];
_e = tmp3_1;
tmp5 = omc_Types_subtype(threadData, _t1, _t2, 1);
if (1 != tmp5) goto goto_1;
omc_Types_matchTypeTupleCall(threadData, _e, _ts1, _ts2);
goto tmp2_done;
}
case 2: {
modelica_boolean tmp6;
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[0] = MMC_CAR(tmp3_2);
tmpMeta[1] = MMC_CDR(tmp3_2);
if (listEmpty(tmp3_3)) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmp3_3);
tmpMeta[3] = MMC_CDR(tmp3_3);
tmp6 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp6) goto goto_1;
omc_Debug_trace(threadData, _OMC_LIT137);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
;
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
modelica_metatype omc_Types_matchTypeTuple(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inTypeLst2, modelica_metatype _inTypeLst3, modelica_boolean _printFailtrace, modelica_metatype *out_outTypeLst)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outTypeLst = NULL;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;volatile modelica_boolean tmp4_4;
tmp4_1 = _inExp1;
tmp4_2 = _inTypeLst2;
tmp4_3 = _inTypeLst3;
tmp4_4 = _printFailtrace;
{
modelica_metatype _e = NULL;
modelica_metatype _e_1 = NULL;
modelica_metatype _rest = NULL;
modelica_metatype _e_2 = NULL;
modelica_metatype _tp = NULL;
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _res = NULL;
modelica_metatype _ts1 = NULL;
modelica_metatype _ts2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
if (!listEmpty(tmp4_2)) goto tmp3_end;
if (!listEmpty(tmp4_3)) goto tmp3_end;
tmp4 += 2;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[3] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_1);
tmpMeta[3] = MMC_CDR(tmp4_1);
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmp4_2);
tmpMeta[5] = MMC_CDR(tmp4_2);
if (listEmpty(tmp4_3)) goto tmp3_end;
tmpMeta[6] = MMC_CAR(tmp4_3);
tmpMeta[7] = MMC_CDR(tmp4_3);
_e = tmpMeta[2];
_rest = tmpMeta[3];
_t1 = tmpMeta[4];
_ts1 = tmpMeta[5];
_t2 = tmpMeta[6];
_ts2 = tmpMeta[7];
_e_1 = omc_Types_matchType(threadData, _e, _t1, _t2, _printFailtrace ,&_tp);
_e_2 = omc_Types_matchTypeTuple(threadData, _rest, _ts1, _ts2, _printFailtrace ,&_res);
tmpMeta[2] = mmc_mk_cons(_e_1, _e_2);
tmpMeta[3] = mmc_mk_cons(_tp, _res);
tmpMeta[0+0] = tmpMeta[2];
tmpMeta[0+1] = tmpMeta[3];
goto tmp3_done;
}
case 2: {
modelica_boolean tmp6;
if (1 != tmp4_4) goto tmp3_end;
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_2);
tmpMeta[3] = MMC_CDR(tmp4_2);
if (listEmpty(tmp4_3)) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmp4_3);
tmpMeta[5] = MMC_CDR(tmp4_3);
_t1 = tmpMeta[2];
_t2 = tmpMeta[4];
tmp6 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp6) goto goto_2;
tmpMeta[2] = stringAppend(_OMC_LIT138,omc_Types_unparseType(threadData, _t1));
tmpMeta[3] = stringAppend(tmpMeta[2],_OMC_LIT139);
tmpMeta[4] = stringAppend(tmpMeta[3],omc_Types_unparseType(threadData, _t2));
tmpMeta[5] = stringAppend(tmpMeta[4],_OMC_LIT91);
omc_Debug_trace(threadData, tmpMeta[5]);
goto goto_2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outExp = tmpMeta[0+0];
_outTypeLst = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outTypeLst) { *out_outTypeLst = _outTypeLst; }
return _outExp;
}
modelica_metatype boxptr_Types_matchTypeTuple(threadData_t *threadData, modelica_metatype _inExp1, modelica_metatype _inTypeLst2, modelica_metatype _inTypeLst3, modelica_metatype _printFailtrace, modelica_metatype *out_outTypeLst)
{
modelica_integer tmp1;
modelica_metatype _outExp = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_outExp = omc_Types_matchTypeTuple(threadData, _inExp1, _inTypeLst2, _inTypeLst3, tmp1, out_outTypeLst);
return _outExp;
}
DLLExport
modelica_metatype omc_Types_matchTypeList(threadData_t *threadData, modelica_metatype _exps, modelica_metatype _expType, modelica_metatype _expectedType, modelica_boolean _printFailtrace, modelica_metatype *out_outTypeLst)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outTypeLst = NULL;
modelica_metatype _expLstNew = NULL;
modelica_metatype _exp = NULL;
modelica_metatype _e_1 = NULL;
modelica_metatype _tp = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = MMC_REFSTRUCTLIT(mmc_nil);
_outExp = tmpMeta[0];
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
_outTypeLst = tmpMeta[1];
_expLstNew = _exps;
while(1)
{
if(!(!listEmpty(_expLstNew))) break;
tmpMeta[2] = _expLstNew;
if (listEmpty(tmpMeta[2])) MMC_THROW_INTERNAL();
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
_exp = tmpMeta[3];
_expLstNew = tmpMeta[4];
_e_1 = omc_Types_matchType(threadData, _exp, _expType, _expectedType, _printFailtrace ,&_tp);
tmpMeta[2] = mmc_mk_cons(_e_1, _outExp);
_outExp = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(_tp, _outTypeLst);
_outTypeLst = tmpMeta[2];
}
_outExp = listReverseInPlace(_outExp);
_outTypeLst = listReverseInPlace(_outTypeLst);
_return: OMC_LABEL_UNUSED
if (out_outTypeLst) { *out_outTypeLst = _outTypeLst; }
return _outExp;
}
modelica_metatype boxptr_Types_matchTypeList(threadData_t *threadData, modelica_metatype _exps, modelica_metatype _expType, modelica_metatype _expectedType, modelica_metatype _printFailtrace, modelica_metatype *out_outTypeLst)
{
modelica_integer tmp1;
modelica_metatype _outExp = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
tmp1 = mmc_unbox_integer(_printFailtrace);
_outExp = omc_Types_matchTypeList(threadData, _exps, _expType, _expectedType, tmp1, out_outTypeLst);
return _outExp;
}
DLLExport
modelica_metatype omc_Types_matchProp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_boolean _printFailtrace, modelica_metatype *out_outProperties)
{
modelica_metatype _outExp = NULL;
modelica_metatype _outProperties = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;volatile modelica_metatype tmp4_3;volatile modelica_boolean tmp4_4;
tmp4_1 = _inExp;
tmp4_2 = _inActualType;
tmp4_3 = _inExpectedType;
tmp4_4 = _printFailtrace;
{
modelica_metatype _e_1 = NULL;
modelica_metatype _e = NULL;
modelica_metatype _t_1 = NULL;
modelica_metatype _gt = NULL;
modelica_metatype _et = NULL;
modelica_metatype _c = NULL;
modelica_metatype _c1 = NULL;
modelica_metatype _c2 = NULL;
modelica_metatype _c_1 = NULL;
modelica_metatype _tc = NULL;
modelica_metatype _tc1 = NULL;
modelica_metatype _tc2 = NULL;
modelica_metatype _prop = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 7; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,0,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
_gt = tmpMeta[2];
_c1 = tmpMeta[3];
_et = tmpMeta[4];
_c2 = tmpMeta[5];
_e = tmp4_1;
tmp4 += 5;
_e_1 = omc_Types_matchType(threadData, _e, _gt, _et, _printFailtrace ,&_t_1);
_c = omc_Types_constAnd(threadData, _c1, _c2);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t_1, _c);
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,1,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
_gt = tmpMeta[2];
_tc1 = tmpMeta[3];
_et = tmpMeta[4];
_tc2 = tmpMeta[5];
_e = tmp4_1;
tmp4 += 4;
_e_1 = omc_Types_matchType(threadData, _e, _gt, _et, _printFailtrace ,&_t_1);
_tc = omc_Types_constTupleAnd(threadData, _tc1, _tc2);
tmpMeta[2] = mmc_mk_box3(4, &DAE_Properties_PROP__TUPLE__desc, _t_1, _tc);
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
case 2: {
modelica_boolean tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],14,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,0,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],18,1) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
_gt = tmpMeta[2];
_tc1 = tmpMeta[3];
_et = tmpMeta[4];
_c2 = tmpMeta[5];
_e = tmp4_1;
tmp4 += 2;
tmp6 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (1 != tmp6) goto goto_2;
_e_1 = omc_Types_matchType(threadData, _e, _gt, _et, _printFailtrace ,&_t_1);
_c_1 = omc_Types_propTupleAllConst(threadData, _tc1);
_c = omc_Types_constAnd(threadData, _c_1, _c2);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t_1, _c);
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
case 3: {
modelica_boolean tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],14,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,0,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],23,1) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_3), 3));
_gt = tmpMeta[2];
_tc1 = tmpMeta[3];
_et = tmpMeta[4];
_c2 = tmpMeta[5];
_e = tmp4_1;
tmp4 += 1;
tmp7 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (1 != tmp7) goto goto_2;
_e_1 = omc_Types_matchType(threadData, _e, _gt, _et, _printFailtrace ,&_t_1);
_c_1 = omc_Types_propTupleAllConst(threadData, _tc1);
_c = omc_Types_constAnd(threadData, _c_1, _c2);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t_1, _c);
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,1,2) == 0) goto tmp3_end;
_gt = tmpMeta[2];
_e = tmp4_1;
tmp4 += 1;
_prop = omc_Types_propTupleFirstProp(threadData, _inExpectedType);
_e_1 = omc_Types_matchProp(threadData, _e, _inActualType, _prop, _printFailtrace ,&_prop);
_gt = omc_Types_simplifyType(threadData, _gt);
tmpMeta[2] = mmc_mk_box4(25, &DAE_Exp_TSUB__desc, _e_1, mmc_mk_integer(((modelica_integer) 1)), _gt);
_e_1 = tmpMeta[2];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _prop;
goto tmp3_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,2) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_3,0,2) == 0) goto tmp3_end;
_e = tmp4_1;
tmpMeta[2] = omc_Types_propTupleFirstProp(threadData, _inActualType);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],0,2) == 0) goto goto_2;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
_prop = tmpMeta[2];
_gt = tmpMeta[3];
_e_1 = omc_Types_matchProp(threadData, _e, _prop, _inExpectedType, _printFailtrace ,&_prop);
_gt = omc_Types_simplifyType(threadData, _gt);
tmpMeta[2] = mmc_mk_box4(25, &DAE_Exp_TSUB__desc, _e_1, mmc_mk_integer(((modelica_integer) 1)), _gt);
_e_1 = tmpMeta[2];
tmpMeta[0+0] = _e_1;
tmpMeta[0+1] = _prop;
goto tmp3_done;
}
case 6: {
modelica_boolean tmp8;
if (1 != tmp4_4) goto tmp3_end;
_e = tmp4_1;
tmp8 = omc_Flags_isSet(threadData, _OMC_LIT105);
if (1 != tmp8) goto goto_2;
tmpMeta[2] = stringAppend(_OMC_LIT140,omc_ExpressionDump_printExpStr(threadData, _e));
omc_Debug_traceln(threadData, tmpMeta[2]);
tmpMeta[2] = stringAppend(omc_Types_printPropStr(threadData, _inActualType),_OMC_LIT141);
omc_Debug_traceln(threadData, tmpMeta[2]);
omc_Debug_traceln(threadData, omc_Types_printPropStr(threadData, _inExpectedType));
goto goto_2;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 7) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outExp = tmpMeta[0+0];
_outProperties = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outProperties) { *out_outProperties = _outProperties; }
return _outExp;
}
modelica_metatype boxptr_Types_matchProp(threadData_t *threadData, modelica_metatype _inExp, modelica_metatype _inActualType, modelica_metatype _inExpectedType, modelica_metatype _printFailtrace, modelica_metatype *out_outProperties)
{
modelica_integer tmp1;
modelica_metatype _outExp = NULL;
tmp1 = mmc_unbox_integer(_printFailtrace);
_outExp = omc_Types_matchProp(threadData, _inExp, _inActualType, _inExpectedType, tmp1, out_outProperties);
return _outExp;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_varsElabEquivalent(threadData_t *threadData, modelica_metatype _inVar1, modelica_metatype _inVar2)
{
modelica_boolean _isEqual;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
tmp4_1 = _inVar1;
tmp4_2 = _inVar2;
{
modelica_string _id1 = NULL;
modelica_string _id2 = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_boolean tmp6;
modelica_boolean tmp7;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
_id1 = tmpMeta[0];
_ty1 = tmpMeta[1];
_id2 = tmpMeta[2];
_ty2 = tmpMeta[3];
tmp6 = (stringEqual(_id1, _id2));
if (1 != tmp6) goto goto_2;
tmp7 = omc_Types_typesElabEquivalent(threadData, _ty1, _ty2);
if (1 != tmp7) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 2) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_isEqual = tmp1;
_return: OMC_LABEL_UNUSED
return _isEqual;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_varsElabEquivalent(threadData_t *threadData, modelica_metatype _inVar1, modelica_metatype _inVar2)
{
modelica_boolean _isEqual;
modelica_metatype out_isEqual;
_isEqual = omc_Types_varsElabEquivalent(threadData, _inVar1, _inVar2);
out_isEqual = mmc_mk_icon(_isEqual);
return out_isEqual;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_ttypesElabEquivalent(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2)
{
modelica_boolean _isEqual;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;modelica_metatype tmp4_2;
tmp4_1 = _inType1;
tmp4_2 = _inType2;
{
modelica_metatype _cty1 = NULL;
modelica_metatype _cty2 = NULL;
modelica_metatype _vars1 = NULL;
modelica_metatype _vars2 = NULL;
modelica_metatype _ad1 = NULL;
modelica_metatype _ad2 = NULL;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _p1 = NULL;
modelica_metatype _p2 = NULL;
modelica_metatype _names1 = NULL;
modelica_metatype _names2 = NULL;
modelica_metatype _types1 = NULL;
modelica_metatype _types2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 6; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_boolean tmp6;
modelica_boolean tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,9,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
_cty1 = tmpMeta[0];
_vars1 = tmpMeta[1];
_cty2 = tmpMeta[2];
_vars2 = tmpMeta[3];
tmp6 = omc_AbsynUtil_pathEqual(threadData, omc_ClassInf_getStateName(threadData, _cty1), omc_ClassInf_getStateName(threadData, _cty2));
if (1 != tmp6) goto goto_2;
tmp7 = omc_List_isEqualOnTrue(threadData, _vars1, _vars2, boxvar_Types_varsElabEquivalent);
if (1 != tmp7) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
modelica_boolean tmp8;
modelica_boolean tmp9;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (!listEmpty(tmpMeta[3])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[5])) goto tmp3_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (!listEmpty(tmpMeta[7])) goto tmp3_end;
_ty1 = tmpMeta[0];
_ad1 = tmpMeta[2];
_ty2 = tmpMeta[4];
_ad2 = tmpMeta[6];
tmp8 = valueEq(_ad1, _ad2);
if (1 != tmp8) goto goto_2;
tmp9 = omc_Types_typesElabEquivalent(threadData, _ty1, _ty2);
if (1 != tmp9) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
modelica_boolean tmp10;
modelica_boolean tmp11;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,5) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
_p1 = tmpMeta[0];
_names1 = tmpMeta[1];
_p2 = tmpMeta[2];
_names2 = tmpMeta[3];
tmp10 = omc_AbsynUtil_pathEqual(threadData, _p1, _p2);
if (1 != tmp10) goto goto_2;
tmp11 = omc_List_isEqualOnTrue(threadData, _names1, _names2, boxvar_stringEqual);
if (1 != tmp11) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,14,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_types1 = tmpMeta[0];
_types2 = tmpMeta[1];
tmp1 = omc_List_isEqualOnTrue(threadData, _types1, _types2, boxvar_Types_typesElabEquivalent);
goto tmp3_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,23,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_ty1 = tmpMeta[0];
_ty2 = tmpMeta[1];
tmp1 = omc_Types_typesElabEquivalent(threadData, _ty1, _ty2);
goto tmp3_done;
}
case 5: {
tmp1 = valueEq(_inType1, _inType2);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_isEqual = tmp1;
_return: OMC_LABEL_UNUSED
return _isEqual;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_ttypesElabEquivalent(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2)
{
modelica_boolean _isEqual;
modelica_metatype out_isEqual;
_isEqual = omc_Types_ttypesElabEquivalent(threadData, _inType1, _inType2);
out_isEqual = mmc_mk_icon(_isEqual);
return out_isEqual;
}
DLLExport
modelica_boolean omc_Types_typesElabEquivalent(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2)
{
modelica_boolean _isEqual;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
_isEqual = omc_Types_ttypesElabEquivalent(threadData, _inType1, _inType2);
goto tmp2_done;
}
case 1: {
_isEqual = 0;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
;
_return: OMC_LABEL_UNUSED
return _isEqual;
}
modelica_metatype boxptr_Types_typesElabEquivalent(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2)
{
modelica_boolean _isEqual;
modelica_metatype out_isEqual;
_isEqual = omc_Types_typesElabEquivalent(threadData, _inType1, _inType2);
out_isEqual = mmc_mk_icon(_isEqual);
return out_isEqual;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_typeMemoryEntryEq(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2)
{
modelica_boolean _outEq;
modelica_metatype _ty2 = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _inType2;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 1));
_ty2 = tmpMeta[1];
_outEq = omc_Types_typesElabEquivalent(threadData, _inType1, _ty2);
_return: OMC_LABEL_UNUSED
return _outEq;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_typeMemoryEntryEq(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2)
{
modelica_boolean _outEq;
modelica_metatype out_outEq;
_outEq = omc_Types_typeMemoryEntryEq(threadData, _inType1, _inType2);
out_outEq = mmc_mk_icon(_outEq);
return out_outEq;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_complicateVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_metatype _outVar = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outVar = _inVar;
{
modelica_metatype tmp3_1;
tmp3_1 = _outVar;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_outVar), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[4] = omc_Types_complicateType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outVar), 4))));
_outVar = tmpMeta[1];
tmpMeta[0] = _outVar;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outVar = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outVar;
}
DLLExport
modelica_metatype omc_Types_complicateType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outType = _inType;
{
modelica_metatype tmp3_1;
tmp3_1 = _outType;
{
modelica_metatype _ty = NULL;
modelica_metatype _dims = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 7; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_ty = omc_Types_flattenArrayType(threadData, _outType ,&_dims);
tmpMeta[0] = omc_Types_liftArrayListDims(threadData, _ty, _dims);
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,12,1) == 0) goto tmp2_end;
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outType), 2)));
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,25,1) == 0) goto tmp2_end;
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outType), 2)));
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
{
modelica_metatype __omcQ_24tmpVar23;
modelica_metatype* tmp5;
modelica_metatype __omcQ_24tmpVar22;
int tmp6;
modelica_metatype _t_loopVar = 0;
modelica_metatype _t;
_t_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outType), 2)));
tmpMeta[3] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar23 = tmpMeta[3];
tmp5 = &__omcQ_24tmpVar23;
while(1) {
tmp6 = 1;
if (!listEmpty(_t_loopVar)) {
_t = MMC_CAR(_t_loopVar);
_t_loopVar = MMC_CDR(_t_loopVar);
tmp6--;
}
if (tmp6 == 0) {
__omcQ_24tmpVar22 = omc_Types_complicateType(threadData, _t);
*tmp5 = mmc_mk_cons(__omcQ_24tmpVar22,0);
tmp5 = &MMC_CDR(*tmp5);
} else if (tmp6 == 1) {
break;
} else {
goto goto_1;
}
}
*tmp5 = mmc_mk_nil();
tmpMeta[2] = __omcQ_24tmpVar23;
}
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(4));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_outType), 4*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = tmpMeta[2];
_outType = tmpMeta[1];
tmpMeta[0] = _outType;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
if((omc_Types_isRecord(threadData, _inType) || omc_Config_acceptMetaModelicaGrammar(threadData)))
{
{
modelica_metatype __omcQ_24tmpVar25;
modelica_metatype* tmp7;
modelica_metatype __omcQ_24tmpVar24;
int tmp8;
modelica_metatype _v_loopVar = 0;
modelica_metatype _v;
_v_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outType), 3)));
tmpMeta[3] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar25 = tmpMeta[3];
tmp7 = &__omcQ_24tmpVar25;
while(1) {
tmp8 = 1;
if (!listEmpty(_v_loopVar)) {
_v = MMC_CAR(_v_loopVar);
_v_loopVar = MMC_CDR(_v_loopVar);
tmp8--;
}
if (tmp8 == 0) {
__omcQ_24tmpVar24 = omc_Types_complicateVar(threadData, _v);
*tmp7 = mmc_mk_cons(__omcQ_24tmpVar24,0);
tmp7 = &MMC_CDR(*tmp7);
} else if (tmp8 == 1) {
break;
} else {
goto goto_1;
}
}
*tmp7 = mmc_mk_nil();
tmpMeta[2] = __omcQ_24tmpVar25;
}
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(5));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_outType), 5*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[3] = tmpMeta[2];
_outType = tmpMeta[1];
}
tmpMeta[0] = _outType;
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,23,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(3));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_outType), 3*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[2] = omc_Types_complicateType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outType), 2))));
_outType = tmpMeta[1];
tmpMeta[0] = _outType;
goto tmp2_done;
}
case 6: {
tmpMeta[0] = _outType;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_simplifyVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_metatype _outVar = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outVar = _inVar;
{
modelica_metatype tmp3_1;
tmp3_1 = _outVar;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_outVar), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[4] = omc_Types_simplifyType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outVar), 4))));
_outVar = tmpMeta[1];
tmpMeta[0] = _outVar;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outVar = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outVar;
}
DLLExport
modelica_metatype omc_Types_simplifyType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outExpType = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_string _str = NULL;
modelica_metatype _t = NULL;
modelica_metatype _t_1 = NULL;
modelica_metatype _dims = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _varLst = NULL;
modelica_metatype _CIS = NULL;
modelica_metatype _ec = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 27; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmp3 += 24;
tmpMeta[1] = mmc_mk_box2(15, &DAE_Type_T__FUNCTION__REFERENCE__VAR__desc, _inType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,20,5) == 0) goto tmp2_end;
tmp3 += 23;
tmpMeta[1] = mmc_mk_box2(28, &DAE_Type_T__METATYPE__desc, _inType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,21,6) == 0) goto tmp2_end;
tmp3 += 22;
tmpMeta[1] = mmc_mk_box2(28, &DAE_Type_T__METATYPE__desc, _inType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,24,1) == 0) goto tmp2_end;
tmp3 += 21;
tmpMeta[1] = mmc_mk_box2(28, &DAE_Type_T__METATYPE__desc, _inType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,17,1) == 0) goto tmp2_end;
tmp3 += 20;
tmpMeta[1] = mmc_mk_box2(28, &DAE_Type_T__METATYPE__desc, _inType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,22,1) == 0) goto tmp2_end;
tmp3 += 19;
tmpMeta[1] = mmc_mk_box2(28, &DAE_Type_T__METATYPE__desc, _inType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,19,1) == 0) goto tmp2_end;
tmp3 += 18;
tmpMeta[1] = mmc_mk_box2(28, &DAE_Type_T__METATYPE__desc, _inType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,18,1) == 0) goto tmp2_end;
tmp3 += 17;
tmpMeta[1] = mmc_mk_box2(28, &DAE_Type_T__METATYPE__desc, _inType);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,8,0) == 0) goto tmp2_end;
tmp3 += 16;
tmpMeta[0] = _OMC_LIT5;
goto tmp2_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,16,1) == 0) goto tmp2_end;
tmp3 += 15;
tmpMeta[0] = _OMC_LIT5;
goto tmp2_done;
}
case 10: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
_t = tmp3_1;
tmp3 += 14;
_t = omc_Types_flattenArrayType(threadData, _t ,&_dims);
_t_1 = omc_Types_simplifyType(threadData, _t);
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t_1, _dims);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
if (optionNone(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[0] = _inType;
goto tmp2_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_t = tmpMeta[1];
tmp3 += 12;
tmpMeta[0] = omc_Types_simplifyType(threadData, _t);
goto tmp2_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmp3 += 11;
tmpMeta[0] = _OMC_LIT6;
goto tmp2_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmp3 += 10;
tmpMeta[0] = _OMC_LIT4;
goto tmp2_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,1) == 0) goto tmp2_end;
tmp3 += 9;
tmpMeta[0] = _OMC_LIT8;
goto tmp2_done;
}
case 16: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,4,1) == 0) goto tmp2_end;
tmp3 += 8;
tmpMeta[0] = _OMC_LIT9;
goto tmp2_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,1) == 0) goto tmp2_end;
tmp3 += 7;
tmpMeta[0] = _OMC_LIT7;
goto tmp2_done;
}
case 18: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,0) == 0) goto tmp2_end;
tmp3 += 6;
tmpMeta[0] = _OMC_LIT142;
goto tmp2_done;
}
case 19: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_tys = tmpMeta[1];
tmp3 += 5;
_tys = omc_List_map(threadData, _tys, boxvar_Types_simplifyType);
tmpMeta[1] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, _tys, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 3))));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmp3 += 4;
tmpMeta[0] = _inType;
goto tmp2_done;
}
case 21: {
modelica_boolean tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_CIS = tmpMeta[1];
_varLst = tmpMeta[2];
_ec = tmpMeta[3];
tmp5 = omc_Config_acceptMetaModelicaGrammar(threadData);
if (1 != tmp5) goto goto_1;
{
modelica_metatype __omcQ_24tmpVar19;
modelica_metatype* tmp6;
modelica_metatype __omcQ_24tmpVar18;
int tmp7;
modelica_metatype _v_loopVar = 0;
modelica_metatype _v;
_v_loopVar = _varLst;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar19 = tmpMeta[2];
tmp6 = &__omcQ_24tmpVar19;
while(1) {
tmp7 = 1;
if (!listEmpty(_v_loopVar)) {
_v = MMC_CAR(_v_loopVar);
_v_loopVar = MMC_CDR(_v_loopVar);
tmp7--;
}
if (tmp7 == 0) {
__omcQ_24tmpVar18 = omc_Types_simplifyVar(threadData, _v);
*tmp6 = mmc_mk_cons(__omcQ_24tmpVar18,0);
tmp6 = &MMC_CDR(*tmp6);
} else if (tmp7 == 1) {
break;
} else {
goto goto_1;
}
}
*tmp6 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar19;
}
_varLst = tmpMeta[1];
tmpMeta[1] = mmc_mk_box4(12, &DAE_Type_T__COMPLEX__desc, _CIS, _varLst, _ec);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 22: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],3,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_CIS = tmpMeta[1];
_varLst = tmpMeta[2];
_ec = tmpMeta[3];
{
modelica_metatype __omcQ_24tmpVar21;
modelica_metatype* tmp8;
modelica_metatype __omcQ_24tmpVar20;
int tmp9;
modelica_metatype _v_loopVar = 0;
modelica_metatype _v;
_v_loopVar = _varLst;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar21 = tmpMeta[2];
tmp8 = &__omcQ_24tmpVar21;
while(1) {
tmp9 = 1;
if (!listEmpty(_v_loopVar)) {
_v = MMC_CAR(_v_loopVar);
_v_loopVar = MMC_CDR(_v_loopVar);
tmp9--;
}
if (tmp9 == 0) {
__omcQ_24tmpVar20 = omc_Types_simplifyVar(threadData, _v);
*tmp8 = mmc_mk_cons(__omcQ_24tmpVar20,0);
tmp8 = &MMC_CDR(*tmp8);
} else if (tmp9 == 1) {
break;
} else {
goto goto_1;
}
}
*tmp8 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar21;
}
_varLst = tmpMeta[1];
tmpMeta[1] = mmc_mk_box4(12, &DAE_Type_T__COMPLEX__desc, _CIS, _varLst, _ec);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 23: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmp3 += 1;
tmpMeta[0] = _inType;
goto tmp2_done;
}
case 24: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,23,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_t = tmpMeta[1];
_t_1 = omc_Types_simplifyType(threadData, _t);
tmpMeta[1] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _t_1);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 25: {
tmpMeta[0] = _OMC_LIT5;
goto tmp2_done;
}
case 26: {
tmpMeta[1] = stringAppend(_OMC_LIT143,omc_Types_unparseType(threadData, _inType));
_str = tmpMeta[1];
tmpMeta[1] = mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil));
omc_Error_addMessage(threadData, _OMC_LIT77, tmpMeta[1]);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 27) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outExpType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outExpType;
}
DLLExport
modelica_metatype omc_Types_createEmptyTypeMemory(threadData_t *threadData)
{
modelica_metatype _tyMemory = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = MMC_REFSTRUCTLIT(mmc_nil);
_tyMemory = arrayCreate(((modelica_integer) 30), tmpMeta[0]);
_return: OMC_LABEL_UNUSED
return _tyMemory;
}
DLLExport
modelica_metatype omc_Types_setPropType(threadData_t *threadData, modelica_metatype _inProperties, modelica_metatype _ty)
{
modelica_metatype _outProperties = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inProperties;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _ty, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inProperties), 3))));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,2) == 0) goto tmp2_end;
tmpMeta[1] = mmc_mk_box3(4, &DAE_Properties_PROP__TUPLE__desc, _ty, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inProperties), 3))));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outProperties = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outProperties;
}
DLLExport
modelica_metatype omc_Types_getPropType(threadData_t *threadData, modelica_metatype _inProperties)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inProperties;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inProperties), 2)));
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,2) == 0) goto tmp2_end;
tmpMeta[0] = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inProperties), 2)));
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_getPropConst(threadData_t *threadData, modelica_metatype _inProperties)
{
modelica_metatype _outConst = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _inProperties;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],0,2) == 0) MMC_THROW_INTERNAL();
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
_outConst = tmpMeta[1];
_return: OMC_LABEL_UNUSED
return _outConst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_propTuplePropList2(threadData_t *threadData, modelica_metatype _tl, modelica_metatype _cl)
{
modelica_metatype _pl = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;
tmp3_1 = _tl;
tmp3_2 = _cl;
{
modelica_metatype _t = NULL;
modelica_metatype _t_rest = NULL;
modelica_metatype _c = NULL;
modelica_metatype _c_rest = NULL;
modelica_metatype _p_rest = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
if (!listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmp3_2);
tmpMeta[4] = MMC_CDR(tmp3_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,1) == 0) goto tmp2_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
_t = tmpMeta[1];
_t_rest = tmpMeta[2];
_c = tmpMeta[5];
_c_rest = tmpMeta[4];
_p_rest = omc_Types_propTuplePropList2(threadData, _t_rest, _c_rest);
tmpMeta[2] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t, _c);
tmpMeta[1] = mmc_mk_cons(tmpMeta[2], _p_rest);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_pl = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _pl;
}
DLLExport
modelica_metatype omc_Types_propTuplePropList(threadData_t *threadData, modelica_metatype _prop_tuple)
{
modelica_metatype _prop_list = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _prop_tuple;
{
modelica_metatype _tl = NULL;
modelica_metatype _cl = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],14,2) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],1,1) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
_tl = tmpMeta[2];
_cl = tmpMeta[4];
tmpMeta[0] = omc_Types_propTuplePropList2(threadData, _tl, _cl);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_prop_list = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _prop_list;
}
DLLExport
modelica_metatype omc_Types_propTupleFirstProp(threadData_t *threadData, modelica_metatype _inTupleProp)
{
modelica_metatype _outFirstProp = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _c = NULL;
modelica_metatype tmpMeta[10] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _inTupleProp;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],1,2) == 0) MMC_THROW_INTERNAL();
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],14,2) == 0) MMC_THROW_INTERNAL();
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (listEmpty(tmpMeta[2])) MMC_THROW_INTERNAL();
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],1,1) == 0) MMC_THROW_INTERNAL();
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
if (listEmpty(tmpMeta[6])) MMC_THROW_INTERNAL();
tmpMeta[7] = MMC_CAR(tmpMeta[6]);
tmpMeta[8] = MMC_CDR(tmpMeta[6]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[7],0,1) == 0) MMC_THROW_INTERNAL();
tmpMeta[9] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[7]), 2));
_ty = tmpMeta[3];
_c = tmpMeta[9];
tmpMeta[0] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _ty, _c);
_outFirstProp = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outFirstProp;
}
DLLExport
modelica_boolean omc_Types_isPropArray(threadData_t *threadData, modelica_metatype _p)
{
modelica_boolean _b;
modelica_metatype _t = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_t = omc_Types_getPropType(threadData, _p);
_b = omc_Types_isArray(threadData, _t);
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isPropArray(threadData_t *threadData, modelica_metatype _p)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isPropArray(threadData, _p);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isPropTuple(threadData_t *threadData, modelica_metatype _p)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = omc_Types_getPropType(threadData, _p);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],14,2) == 0) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 2) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isPropTuple(threadData_t *threadData, modelica_metatype _p)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isPropTuple(threadData, _p);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isPropTupleArray(threadData_t *threadData, modelica_metatype _p)
{
modelica_boolean _ob;
modelica_boolean _b1;
modelica_boolean _b2;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_b1 = omc_Types_isPropTuple(threadData, _p);
_b2 = omc_Types_isPropArray(threadData, _p);
_ob = (_b1 || _b2);
_return: OMC_LABEL_UNUSED
return _ob;
}
modelica_metatype boxptr_Types_isPropTupleArray(threadData_t *threadData, modelica_metatype _p)
{
modelica_boolean _ob;
modelica_metatype out_ob;
_ob = omc_Types_isPropTupleArray(threadData, _p);
out_ob = mmc_mk_icon(_ob);
return out_ob;
}
DLLExport
modelica_metatype omc_Types_propTupleAllConst(threadData_t *threadData, modelica_metatype _inTupleConst)
{
modelica_metatype _outConst = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inTupleConst;
{
modelica_metatype _c = NULL;
modelica_metatype _first = NULL;
modelica_metatype _const = NULL;
modelica_metatype _rest = NULL;
modelica_string _str = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 6; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_c = tmpMeta[1];
tmp3 += 4;
tmpMeta[0] = _c;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_first = tmpMeta[2];
tmpMeta[1] = omc_Types_propTupleAllConst(threadData, _first);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,0) == 0) goto goto_1;
tmpMeta[0] = _OMC_LIT50;
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_first = tmpMeta[2];
tmpMeta[1] = omc_Types_propTupleAllConst(threadData, _first);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],2,0) == 0) goto goto_1;
tmpMeta[0] = _OMC_LIT20;
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (!listEmpty(tmpMeta[3])) goto tmp2_end;
_first = tmpMeta[2];
tmpMeta[1] = omc_Types_propTupleAllConst(threadData, _first);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,0) == 0) goto goto_1;
tmpMeta[0] = _OMC_LIT51;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_first = tmpMeta[2];
_rest = tmpMeta[3];
tmpMeta[1] = omc_Types_propTupleAllConst(threadData, _first);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,0) == 0) goto goto_1;
tmpMeta[1] = mmc_mk_box2(4, &DAE_TupleConst_TUPLE__CONST__desc, _rest);
tmpMeta[0] = omc_Types_propTupleAllConst(threadData, tmpMeta[1]);
goto tmp2_done;
}
case 5: {
modelica_boolean tmp5;
_const = tmp3_1;
tmp5 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp5) goto goto_1;
omc_Debug_trace(threadData, _OMC_LIT144);
_str = omc_Types_printTupleConstStr(threadData, _const);
omc_Debug_traceln(threadData, _str);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 6) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outConst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outConst;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_propTupleAnyConst(threadData_t *threadData, modelica_metatype _inTupleConst)
{
modelica_metatype _outConst = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inTupleConst;
{
modelica_metatype _c = NULL;
modelica_metatype _first = NULL;
modelica_metatype _const = NULL;
modelica_metatype _rest = NULL;
modelica_string _str = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 7; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_c = tmpMeta[1];
tmp3 += 5;
tmpMeta[0] = _c;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_first = tmpMeta[2];
tmpMeta[1] = omc_Types_propTupleAnyConst(threadData, _first);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,0) == 0) goto goto_1;
tmpMeta[0] = _OMC_LIT51;
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (!listEmpty(tmpMeta[3])) goto tmp2_end;
_first = tmpMeta[2];
tmpMeta[1] = omc_Types_propTupleAnyConst(threadData, _first);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,0) == 0) goto goto_1;
tmpMeta[0] = _OMC_LIT50;
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (!listEmpty(tmpMeta[3])) goto tmp2_end;
_first = tmpMeta[2];
tmpMeta[1] = omc_Types_propTupleAnyConst(threadData, _first);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],2,0) == 0) goto goto_1;
tmpMeta[0] = _OMC_LIT20;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_first = tmpMeta[2];
_rest = tmpMeta[3];
tmpMeta[1] = omc_Types_propTupleAnyConst(threadData, _first);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,0) == 0) goto goto_1;
tmpMeta[1] = mmc_mk_box2(4, &DAE_TupleConst_TUPLE__CONST__desc, _rest);
tmpMeta[0] = omc_Types_propTupleAnyConst(threadData, tmpMeta[1]);
goto tmp2_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_first = tmpMeta[2];
_rest = tmpMeta[3];
tmpMeta[1] = omc_Types_propTupleAnyConst(threadData, _first);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],2,0) == 0) goto goto_1;
tmpMeta[1] = mmc_mk_box2(4, &DAE_TupleConst_TUPLE__CONST__desc, _rest);
tmpMeta[0] = omc_Types_propTupleAnyConst(threadData, tmpMeta[1]);
goto tmp2_done;
}
case 6: {
modelica_boolean tmp5;
_const = tmp3_1;
tmp5 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp5) goto goto_1;
omc_Debug_trace(threadData, _OMC_LIT145);
_str = omc_Types_printTupleConstStr(threadData, _const);
omc_Debug_traceln(threadData, _str);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 7) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outConst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outConst;
}
DLLExport
modelica_metatype omc_Types_propAnyConst(threadData_t *threadData, modelica_metatype _inProperties)
{
modelica_metatype _outConst = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inProperties;
{
modelica_metatype _constant_ = NULL;
modelica_string _str = NULL;
modelica_metatype _prop = NULL;
modelica_metatype _tconstant_ = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_constant_ = tmpMeta[1];
tmp3 += 1;
tmpMeta[0] = _constant_;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_tconstant_ = tmpMeta[1];
tmpMeta[0] = omc_Types_propTupleAnyConst(threadData, _tconstant_);
goto tmp2_done;
}
case 2: {
modelica_boolean tmp5;
_prop = tmp3_1;
tmp5 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp5) goto goto_1;
omc_Debug_trace(threadData, _OMC_LIT146);
_str = omc_Types_printPropStr(threadData, _prop);
omc_Debug_traceln(threadData, _str);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outConst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outConst;
}
DLLExport
modelica_metatype omc_Types_propAllConst(threadData_t *threadData, modelica_metatype _inProperties)
{
modelica_metatype _outConst = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inProperties;
{
modelica_metatype _c = NULL;
modelica_metatype _constant_ = NULL;
modelica_string _str = NULL;
modelica_metatype _prop = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_c = tmpMeta[1];
tmp3 += 1;
tmpMeta[0] = _c;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_constant_ = tmpMeta[1];
tmpMeta[0] = omc_Types_propTupleAllConst(threadData, _constant_);
goto tmp2_done;
}
case 2: {
modelica_boolean tmp5;
_prop = tmp3_1;
tmp5 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp5) goto goto_1;
omc_Debug_trace(threadData, _OMC_LIT147);
_str = omc_Types_printPropStr(threadData, _prop);
omc_Debug_traceln(threadData, _str);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outConst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outConst;
}
DLLExport
modelica_string omc_Types_getTypeName(threadData_t *threadData, modelica_metatype _inType)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_string _dimstr = NULL;
modelica_string _tystr = NULL;
modelica_metatype _st = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _arrayty = NULL;
modelica_metatype _dims = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 10; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmp4 += 8;
tmp1 = _OMC_LIT148;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmp4 += 7;
tmp1 = _OMC_LIT149;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
tmp4 += 6;
tmp1 = _OMC_LIT150;
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmp4 += 5;
tmp1 = _OMC_LIT151;
goto tmp3_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,1) == 0) goto tmp3_end;
tmp4 += 4;
tmp1 = _OMC_LIT152;
goto tmp3_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_st = tmpMeta[0];
tmp4 += 3;
tmp1 = omc_AbsynUtil_pathString(threadData, omc_ClassInf_getStateName(threadData, _st), _OMC_LIT24, 1, 0);
goto tmp3_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_st = tmpMeta[0];
tmp4 += 2;
tmp1 = omc_AbsynUtil_pathString(threadData, omc_ClassInf_getStateName(threadData, _st), _OMC_LIT24, 1, 0);
goto tmp3_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
_arrayty = tmp4_1;
tmp4 += 1;
_ty = omc_Types_flattenArrayType(threadData, _arrayty ,&_dims);
_dimstr = omc_ExpressionDump_dimensionsString(threadData, _dims);
_tystr = omc_Types_getTypeName(threadData, _ty);
tmpMeta[0] = mmc_mk_cons(_tystr, mmc_mk_cons(_OMC_LIT153, mmc_mk_cons(_dimstr, mmc_mk_cons(_OMC_LIT154, MMC_REFSTRUCTLIT(mmc_nil)))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmp1 = omc_Types_getTypeName(threadData, _ty);
goto tmp3_done;
}
case 9: {
tmp1 = _OMC_LIT155;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 10) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_metatype omc_Types_flattenArrayType(threadData_t *threadData, modelica_metatype _inType, modelica_metatype *out_outDimensions)
{
modelica_metatype _outType = NULL;
modelica_metatype _outDimensions = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
modelica_metatype _dims = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 4; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
_ty = omc_Types_flattenArrayType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2))) ,&_dims);
_dims = listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 3))), _dims);
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _dims;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (optionNone(tmpMeta[2])) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 1));
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = _inType;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4)));
goto _tailrecursive;
goto tmp3_done;
}
case 3: {
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0+0] = _inType;
tmpMeta[0+1] = tmpMeta[2];
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outType = tmpMeta[0+0];
_outDimensions = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_outDimensions) { *out_outDimensions = _outDimensions; }
return _outType;
}
DLLExport
modelica_boolean omc_Types_containReal(threadData_t *threadData, modelica_metatype _inTypes)
{
modelica_boolean _outHasReal;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype _ty;
for (tmpMeta[0] = _inTypes; !listEmpty(tmpMeta[0]); tmpMeta[0]=MMC_CDR(tmpMeta[0]))
{
_ty = MMC_CAR(tmpMeta[0]);
if(omc_Types_isReal(threadData, _ty))
{
_outHasReal = 1;
goto _return;
}
}
}
_outHasReal = 0;
_return: OMC_LABEL_UNUSED
return _outHasReal;
}
modelica_metatype boxptr_Types_containReal(threadData_t *threadData, modelica_metatype _inTypes)
{
modelica_boolean _outHasReal;
modelica_metatype out_outHasReal;
_outHasReal = omc_Types_containReal(threadData, _inTypes);
out_outHasReal = mmc_mk_icon(_outHasReal);
return out_outHasReal;
}
DLLExport
modelica_boolean omc_Types_propsContainReal(threadData_t *threadData, modelica_metatype _inProperties)
{
modelica_boolean _outHasReal;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outHasReal = 0;
{
modelica_metatype _prop;
for (tmpMeta[0] = _inProperties; !listEmpty(tmpMeta[0]); tmpMeta[0]=MMC_CDR(tmpMeta[0]))
{
_prop = MMC_CAR(tmpMeta[0]);
if(omc_Types_isReal(threadData, omc_Types_getPropType(threadData, _prop)))
{
_outHasReal = 1;
break;
}
}
}
_return: OMC_LABEL_UNUSED
return _outHasReal;
}
modelica_metatype boxptr_Types_propsContainReal(threadData_t *threadData, modelica_metatype _inProperties)
{
modelica_boolean _outHasReal;
modelica_metatype out_outHasReal;
_outHasReal = omc_Types_propsContainReal(threadData, _inProperties);
out_outHasReal = mmc_mk_icon(_outHasReal);
return out_outHasReal;
}
DLLExport
modelica_boolean omc_Types_isVar(threadData_t *threadData, modelica_metatype _inConst)
{
modelica_boolean _outIsVar;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inConst;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsVar = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsVar;
}
modelica_metatype boxptr_Types_isVar(threadData_t *threadData, modelica_metatype _inConst)
{
modelica_boolean _outIsVar;
modelica_metatype out_outIsVar;
_outIsVar = omc_Types_isVar(threadData, _inConst);
out_outIsVar = mmc_mk_icon(_outIsVar);
return out_outIsVar;
}
DLLExport
modelica_boolean omc_Types_isParameterOrConstant(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _c;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 3: {
tmp1 = 1;
goto tmp3_done;
}
case 4: {
tmp1 = 1;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isParameterOrConstant(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isParameterOrConstant(threadData, _c);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isParameter(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _c;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isParameter(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isParameter(threadData, _c);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isConstant(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _c;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isConstant(threadData_t *threadData, modelica_metatype _c)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isConstant(threadData, _c);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
void omc_Types_isParameterVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _inVar;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],2,0) == 0) MMC_THROW_INTERNAL();
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 7));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,0) == 0) MMC_THROW_INTERNAL();
_return: OMC_LABEL_UNUSED
return;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeReturnTypeSingle(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inVar;
{
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeReturnType(threadData_t *threadData, modelica_metatype _inVarLst)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inVarLst;
{
modelica_metatype _var = NULL;
modelica_metatype _vl = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
tmp3 += 1;
tmpMeta[0] = _OMC_LIT142;
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (!listEmpty(tmpMeta[2])) goto tmp2_end;
_var = tmpMeta[1];
tmpMeta[0] = omc_Types_makeReturnTypeSingle(threadData, _var);
goto tmp2_done;
}
case 2: {
_vl = tmp3_1;
{
modelica_metatype __omcQ_24tmpVar27;
modelica_metatype* tmp5;
modelica_metatype __omcQ_24tmpVar26;
int tmp6;
modelica_metatype _v_loopVar = 0;
modelica_metatype _v;
_v_loopVar = _vl;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar27 = tmpMeta[2];
tmp5 = &__omcQ_24tmpVar27;
while(1) {
tmp6 = 1;
if (!listEmpty(_v_loopVar)) {
_v = MMC_CAR(_v_loopVar);
_v_loopVar = MMC_CDR(_v_loopVar);
tmp6--;
}
if (tmp6 == 0) {
__omcQ_24tmpVar26 = omc_Types_makeReturnTypeSingle(threadData, _v);
*tmp5 = mmc_mk_cons(__omcQ_24tmpVar26,0);
tmp5 = &MMC_CDR(*tmp5);
} else if (tmp6 == 1) {
break;
} else {
goto goto_1;
}
}
*tmp5 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar27;
}
{
modelica_metatype __omcQ_24tmpVar29;
modelica_metatype* tmp7;
modelica_string __omcQ_24tmpVar28;
int tmp8;
modelica_metatype _v_loopVar = 0;
modelica_metatype _v;
_v_loopVar = _vl;
tmpMeta[4] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar29 = tmpMeta[4];
tmp7 = &__omcQ_24tmpVar29;
while(1) {
tmp8 = 1;
if (!listEmpty(_v_loopVar)) {
_v = MMC_CAR(_v_loopVar);
_v_loopVar = MMC_CDR(_v_loopVar);
tmp8--;
}
if (tmp8 == 0) {
__omcQ_24tmpVar28 = omc_Types_getVarName(threadData, _v);
*tmp7 = mmc_mk_cons(__omcQ_24tmpVar28,0);
tmp7 = &MMC_CDR(*tmp7);
} else if (tmp8 == 1) {
break;
} else {
goto goto_1;
}
}
*tmp7 = mmc_mk_nil();
tmpMeta[3] = __omcQ_24tmpVar29;
}
tmpMeta[5] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, tmpMeta[1], mmc_mk_some(tmpMeta[3]));
tmpMeta[0] = tmpMeta[5];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeElementFarg(threadData_t *threadData, modelica_metatype _inElement, modelica_metatype _inFarg)
{
modelica_metatype _farg = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inElement;
{
modelica_string _name = NULL;
modelica_metatype _cref = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,13) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_cref = tmpMeta[1];
_name = omc_ComponentReference_crefLastIdent(threadData, _cref);
tmpMeta[0] = omc_Types_setFuncArgName(threadData, _inFarg, _name);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_farg = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _farg;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeFarg(threadData_t *threadData, modelica_metatype _variable)
{
modelica_metatype _farg = NULL;
modelica_metatype tmpMeta[7] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _variable;
{
modelica_string _n = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _bnd = NULL;
modelica_metatype _c = NULL;
modelica_metatype _p = NULL;
modelica_metatype _var = NULL;
modelica_metatype _par = NULL;
modelica_metatype _oexp = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 3));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 4));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
_n = tmpMeta[1];
_par = tmpMeta[3];
_var = tmpMeta[4];
_ty = tmpMeta[5];
_bnd = tmpMeta[6];
_c = omc_Types_variabilityToConst(threadData, _var);
_p = omc_DAEUtil_scodePrlToDaePrl(threadData, _par);
_oexp = omc_DAEUtil_bindingExp(threadData, _bnd);
tmpMeta[1] = mmc_mk_box6(3, &DAE_FuncArg_FUNCARG__desc, _n, _ty, _c, _p, _oexp);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_farg = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _farg;
}
DLLExport
modelica_metatype omc_Types_makeFargsList(threadData_t *threadData, modelica_metatype _vars)
{
modelica_metatype _fargs = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_fargs = omc_List_map(threadData, _vars, boxvar_Types_makeFarg);
_return: OMC_LABEL_UNUSED
return _fargs;
}
DLLExport
modelica_metatype omc_Types_getBindingExp(threadData_t *threadData, modelica_metatype _inVar, modelica_metatype _inPath)
{
modelica_metatype _outExp = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inVar;
{
modelica_metatype _exp = NULL;
modelica_string _str = NULL;
modelica_string _name = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,4) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_exp = tmpMeta[2];
tmpMeta[0] = _exp;
goto tmp2_done;
}
case 1: {
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],0,0) == 0) goto tmp2_end;
_name = tmpMeta[1];
tmpMeta[1] = stringAppend(_OMC_LIT156,omc_AbsynUtil_pathString(threadData, _inPath, _OMC_LIT24, 1, 0));
tmpMeta[2] = stringAppend(tmpMeta[1],_OMC_LIT157);
tmpMeta[3] = stringAppend(tmpMeta[2],_name);
tmpMeta[4] = stringAppend(tmpMeta[3],_OMC_LIT158);
_str = tmpMeta[4];
omc_Error_addCompilerWarning(threadData, _str);
tmpMeta[0] = _OMC_LIT45;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outExp = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outExp;
}
DLLExport
modelica_metatype omc_Types_getBindingExpOptional(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_metatype _outExp = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inVar;
{
modelica_metatype _exp = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,4) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_exp = tmpMeta[2];
tmpMeta[0] = mmc_mk_some(_exp);
goto tmp2_done;
}
case 1: {
tmpMeta[0] = mmc_mk_none();
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outExp = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outExp;
}
DLLExport
modelica_boolean omc_Types_isModifiableTypesVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
if((!omc_Types_isPublicVar(threadData, _inVar)))
{
if(isNone(omc_Types_getBindingExpOptional(threadData, _inVar)))
{
tmpMeta[0] = mmc_mk_cons(omc_Types_getVarName(threadData, _inVar), MMC_REFSTRUCTLIT(mmc_nil));
omc_Error_addSourceMessage(threadData, _OMC_LIT161, tmpMeta[0], _OMC_LIT132);
}
_b = 0;
goto _return;
}
if((omc_Types_isConstVar(threadData, _inVar) && isSome(omc_Types_getBindingExpOptional(threadData, _inVar))))
{
_b = 0;
goto _return;
}
_b = 1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isModifiableTypesVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isModifiableTypesVar(threadData, _inVar);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isConstVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inVar;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 1; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmp1 = omc_Types_isConstAttr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inVar), 3))));
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isConstVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isConstVar(threadData, _inVar);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isPublicVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inVar;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 1; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmp1 = omc_Types_isPublicAttr(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inVar), 3))));
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isPublicVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isPublicVar(threadData, _inVar);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isConstAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outIsPublic;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inAttributes;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],3,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsPublic = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsPublic;
}
modelica_metatype boxptr_Types_isConstAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outIsPublic;
modelica_metatype out_outIsPublic;
_outIsPublic = omc_Types_isConstAttr(threadData, _inAttributes);
out_outIsPublic = mmc_mk_icon(_outIsPublic);
return out_outIsPublic;
}
DLLExport
modelica_boolean omc_Types_isPublicAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outIsPublic;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inAttributes;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],0,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsPublic = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsPublic;
}
modelica_metatype boxptr_Types_isPublicAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outIsPublic;
modelica_metatype out_outIsPublic;
_outIsPublic = omc_Types_isPublicAttr(threadData, _inAttributes);
out_outIsPublic = mmc_mk_icon(_outIsPublic);
return out_outIsPublic;
}
DLLExport
modelica_boolean omc_Types_isBidirAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inAttributes;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],2,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_isBidirAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_isBidirAttr(threadData, _inAttributes);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_isOutputAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inAttributes;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],1,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_isOutputAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_isOutputAttr(threadData, _inAttributes);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_isInputAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inAttributes;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],0,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_isInputAttr(threadData_t *threadData, modelica_metatype _inAttributes)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_isInputAttr(threadData, _inAttributes);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_isOutputVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inVar;
{
modelica_metatype _attr = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 1; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_attr = tmpMeta[0];
tmp1 = (omc_Types_isOutputAttr(threadData, _attr) && omc_Types_isPublicAttr(threadData, _attr));
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isOutputVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isOutputVar(threadData, _inVar);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isInputVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inVar;
{
modelica_metatype _attr = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 1; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_attr = tmpMeta[0];
tmp1 = (omc_Types_isInputAttr(threadData, _attr) && omc_Types_isPublicAttr(threadData, _attr));
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isInputVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isInputVar(threadData, _inVar);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_getConnectorVars(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outVars = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _vars = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],5,2) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_vars = tmpMeta[2];
tmpMeta[0] = _vars;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outVars = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outVars;
}
DLLExport
modelica_boolean omc_Types_getFixedVarAttribute(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _fixed;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _tp;
{
modelica_metatype _ty = NULL;
modelica_metatype _vars = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 13; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_integer tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (5 != MMC_STRLEN(tmpMeta[3]) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmpMeta[3])) != 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],2,2) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],3,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
tmp6 = mmc_unbox_integer(tmpMeta[6]);
_fixed = tmp6;
tmp4 += 2;
tmp1 = _fixed;
goto tmp3_done;
}
case 1: {
modelica_integer tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (5 != MMC_STRLEN(tmpMeta[3]) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmpMeta[3])) != 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],1,4) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 3));
if (optionNone(tmpMeta[5])) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 1));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],3,1) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[6]), 2));
tmp7 = mmc_unbox_integer(tmpMeta[7]);
_fixed = tmp7;
tmp1 = _fixed;
goto tmp3_done;
}
case 2: {
modelica_integer tmp8;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (5 != MMC_STRLEN(tmpMeta[3]) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmpMeta[3])) != 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],1,4) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],3,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
tmp8 = mmc_unbox_integer(tmpMeta[6]);
_fixed = tmp8;
tmp1 = _fixed;
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
_vars = tmpMeta[2];
tmp4 += 9;
tmpMeta[0] = mmc_mk_box2(4, &DAE_Type_T__REAL__desc, _vars);
tmp1 = omc_Types_getFixedVarAttribute(threadData, tmpMeta[0]);
goto tmp3_done;
}
case 4: {
modelica_integer tmp9;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (5 != MMC_STRLEN(tmpMeta[3]) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmpMeta[3])) != 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],2,2) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],3,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
tmp9 = mmc_unbox_integer(tmpMeta[6]);
_fixed = tmp9;
tmp4 += 2;
tmp1 = _fixed;
goto tmp3_done;
}
case 5: {
modelica_integer tmp10;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (5 != MMC_STRLEN(tmpMeta[3]) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmpMeta[3])) != 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],1,4) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 3));
if (optionNone(tmpMeta[5])) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 1));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],3,1) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[6]), 2));
tmp10 = mmc_unbox_integer(tmpMeta[7]);
_fixed = tmp10;
tmp1 = _fixed;
goto tmp3_done;
}
case 6: {
modelica_integer tmp11;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (5 != MMC_STRLEN(tmpMeta[3]) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmpMeta[3])) != 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],1,4) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],3,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
tmp11 = mmc_unbox_integer(tmpMeta[6]);
_fixed = tmp11;
tmp1 = _fixed;
goto tmp3_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
_vars = tmpMeta[2];
tmp4 += 5;
tmpMeta[0] = mmc_mk_box2(3, &DAE_Type_T__INTEGER__desc, _vars);
tmp1 = omc_Types_getFixedVarAttribute(threadData, tmpMeta[0]);
goto tmp3_done;
}
case 8: {
modelica_integer tmp12;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (5 != MMC_STRLEN(tmpMeta[3]) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmpMeta[3])) != 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],2,2) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],3,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
tmp12 = mmc_unbox_integer(tmpMeta[6]);
_fixed = tmp12;
tmp4 += 2;
tmp1 = _fixed;
goto tmp3_done;
}
case 9: {
modelica_integer tmp13;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (5 != MMC_STRLEN(tmpMeta[3]) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmpMeta[3])) != 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],1,4) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 3));
if (optionNone(tmpMeta[5])) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 1));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],3,1) == 0) goto tmp3_end;
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[6]), 2));
tmp13 = mmc_unbox_integer(tmpMeta[7]);
_fixed = tmp13;
tmp1 = _fixed;
goto tmp3_done;
}
case 10: {
modelica_integer tmp14;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (5 != MMC_STRLEN(tmpMeta[3]) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmpMeta[3])) != 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[4],1,4) == 0) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[5],3,1) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[5]), 2));
tmp14 = mmc_unbox_integer(tmpMeta[6]);
_fixed = tmp14;
tmp1 = _fixed;
goto tmp3_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
_vars = tmpMeta[2];
tmp4 += 1;
tmpMeta[0] = mmc_mk_box2(6, &DAE_Type_T__BOOL__desc, _vars);
tmp1 = omc_Types_getFixedVarAttribute(threadData, tmpMeta[0]);
goto tmp3_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmp1 = omc_Types_getFixedVarAttribute(threadData, _ty);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 13) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_fixed = tmp1;
_return: OMC_LABEL_UNUSED
return _fixed;
}
modelica_metatype boxptr_Types_getFixedVarAttribute(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _fixed;
modelica_metatype out_fixed;
_fixed = omc_Types_getFixedVarAttribute(threadData, _tp);
out_fixed = mmc_mk_icon(_fixed);
return out_fixed;
}
DLLExport
modelica_boolean omc_Types_getFixedVarAttributeParameterOrConstant(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _fix;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
_fix = omc_Types_getFixedVarAttribute(threadData, _tp);
goto tmp2_done;
}
case 1: {
_fix = 1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
;
_return: OMC_LABEL_UNUSED
return _fix;
}
modelica_metatype boxptr_Types_getFixedVarAttributeParameterOrConstant(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _fix;
modelica_metatype out_fix;
_fix = omc_Types_getFixedVarAttributeParameterOrConstant(threadData, _tp);
out_fix = mmc_mk_icon(_fix);
return out_fix;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getOutputVars(threadData_t *threadData, modelica_metatype _vl)
{
modelica_metatype _vl_1 = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_vl_1 = omc_List_select(threadData, _vl, boxvar_Types_isOutputVar);
_return: OMC_LABEL_UNUSED
return _vl_1;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_getInputVars(threadData_t *threadData, modelica_metatype _vl)
{
modelica_metatype _vl_1 = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_vl_1 = omc_List_select(threadData, _vl, boxvar_Types_isInputVar);
_return: OMC_LABEL_UNUSED
return _vl_1;
}
DLLExport
modelica_string omc_Types_printFargStr(threadData_t *threadData, modelica_metatype _inFuncArg)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inFuncArg;
{
modelica_string _s = NULL;
modelica_string _n = NULL;
modelica_string _cs = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _c = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 1; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_n = tmpMeta[0];
_ty = tmpMeta[1];
_c = tmpMeta[2];
_s = omc_Types_unparseType(threadData, _ty);
_cs = omc_DAEUtil_constStrFriendly(threadData, _c);
tmpMeta[0] = mmc_mk_cons(_cs, mmc_mk_cons(_s, mmc_mk_cons(_OMC_LIT139, mmc_mk_cons(_n, MMC_REFSTRUCTLIT(mmc_nil)))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
void omc_Types_printFarg(threadData_t *threadData, modelica_metatype _inFuncArg)
{
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inFuncArg;
{
modelica_string _n = NULL;
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_n = tmpMeta[0];
_ty = tmpMeta[1];
omc_Print_printErrorBuf(threadData, omc_Types_printTypeStr(threadData, _ty));
omc_Print_printErrorBuf(threadData, _OMC_LIT139);
omc_Print_printErrorBuf(threadData, _n);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
;
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
modelica_metatype omc_Types_makeEnumerationType1(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inVarLst, modelica_metatype _inNames, modelica_integer _inIdx)
{
modelica_metatype _outVarLst = NULL;
modelica_metatype tmpMeta[8] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;modelica_metatype tmp3_3;modelica_integer tmp3_4;
tmp3_1 = _inPath;
tmp3_2 = _inVarLst;
tmp3_3 = _inNames;
tmp3_4 = _inIdx;
{
modelica_metatype _names = NULL;
modelica_metatype _p = NULL;
modelica_string _name = NULL;
modelica_metatype _xs = NULL;
modelica_metatype _vars = NULL;
modelica_metatype _t = NULL;
modelica_integer _idx;
modelica_metatype _attributes = NULL;
modelica_metatype _binding = NULL;
modelica_boolean _bsrc;
modelica_metatype _var = NULL;
modelica_metatype _cnstForRange = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_integer tmp5;
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_2);
tmpMeta[2] = MMC_CDR(tmp3_2);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 5));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 6));
tmp5 = mmc_unbox_integer(tmpMeta[6]);
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 7));
_name = tmpMeta[3];
_attributes = tmpMeta[4];
_binding = tmpMeta[5];
_bsrc = tmp5;
_cnstForRange = tmpMeta[7];
_xs = tmpMeta[2];
_p = tmp3_1;
_names = tmp3_3;
_idx = tmp3_4;
_vars = omc_Types_makeEnumerationType1(threadData, _p, _xs, _names, ((modelica_integer) 1) + _idx);
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[3] = mmc_mk_box6(8, &DAE_Type_T__ENUMERATION__desc, mmc_mk_some(mmc_mk_integer(_idx)), _p, _names, tmpMeta[1], tmpMeta[2]);
_t = tmpMeta[3];
tmpMeta[1] = mmc_mk_box7(3, &DAE_Var_TYPES__VAR__desc, _name, _attributes, _t, _binding, mmc_mk_boolean(_bsrc), _cnstForRange);
_var = tmpMeta[1];
tmpMeta[1] = mmc_mk_cons(_var, _vars);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (!listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outVarLst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outVarLst;
}
modelica_metatype boxptr_Types_makeEnumerationType1(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inVarLst, modelica_metatype _inNames, modelica_metatype _inIdx)
{
modelica_integer tmp1;
modelica_metatype _outVarLst = NULL;
tmp1 = mmc_unbox_integer(_inIdx);
_outVarLst = omc_Types_makeEnumerationType1(threadData, _inPath, _inVarLst, _inNames, tmp1);
return _outVarLst;
}
DLLExport
modelica_metatype omc_Types_makeEnumerationType(threadData_t *threadData, modelica_metatype _inPath, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _p = NULL;
modelica_metatype _names = NULL;
modelica_metatype _attr_names = NULL;
modelica_metatype _vars = NULL;
modelica_metatype _attrs = NULL;
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (!optionNone(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 6));
_p = tmpMeta[2];
_names = tmpMeta[3];
_vars = tmpMeta[4];
_attrs = tmpMeta[5];
tmp3 += 1;
_vars = omc_Types_makeEnumerationType1(threadData, _p, _vars, _names, ((modelica_integer) 1));
_attr_names = omc_List_map(threadData, _vars, boxvar_Types_getVarName);
_attrs = omc_Types_makeEnumerationType1(threadData, _p, _attrs, _attr_names, ((modelica_integer) 1));
tmpMeta[1] = mmc_mk_box6(8, &DAE_Type_T__ENUMERATION__desc, mmc_mk_none(), _p, _names, _vars, _attrs);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
tmpMeta[0] = omc_Types_makeEnumerationType(threadData, _inPath, _ty);
goto tmp2_done;
}
case 2: {
modelica_boolean tmp5;
tmp5 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp5) goto goto_1;
tmpMeta[1] = stringAppend(_OMC_LIT163,omc_Types_printTypeStr(threadData, _inType));
omc_Debug_traceln(threadData, tmpMeta[1]);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeElementReturnTypeSingle(threadData_t *threadData, modelica_metatype _inElement)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inElement;
{
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,13) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 7));
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_makeElementReturnType(threadData_t *threadData, modelica_metatype _inElementLst)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inElementLst;
{
modelica_metatype _element = NULL;
modelica_metatype _elements = NULL;
modelica_metatype _types = NULL;
modelica_metatype _names = NULL;
modelica_metatype _namesOpt = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[0] = _OMC_LIT142;
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (!listEmpty(tmpMeta[2])) goto tmp2_end;
_element = tmpMeta[1];
tmpMeta[0] = omc_Types_makeElementReturnTypeSingle(threadData, _element);
goto tmp2_done;
}
case 2: {
_elements = tmp3_1;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
_types = tmpMeta[1];
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
_names = tmpMeta[1];
{
modelica_metatype _element;
for (tmpMeta[1] = _elements; !listEmpty(tmpMeta[1]); tmpMeta[1]=MMC_CDR(tmpMeta[1]))
{
_element = MMC_CAR(tmpMeta[1]);
tmpMeta[2] = mmc_mk_cons(omc_Types_makeElementReturnTypeSingle(threadData, _element), _types);
_types = tmpMeta[2];
tmpMeta[2] = mmc_mk_cons(omc_DAEUtil_varName(threadData, _element), _names);
_names = tmpMeta[2];
}
}
if(listEmpty(_names))
{
_namesOpt = mmc_mk_none();
}
else
{
_namesOpt = mmc_mk_some(listReverse(_names));
}
tmpMeta[1] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, listReverse(_types), _namesOpt);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_extendsFunctionTypeArgs(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inElementLst, modelica_metatype _inOutputElementLst, modelica_metatype _inBooltLst)
{
modelica_metatype _outType = NULL;
modelica_metatype _tysrc = NULL;
modelica_metatype _fargs = NULL;
modelica_metatype _fargs1 = NULL;
modelica_metatype _newfargs = NULL;
modelica_metatype _rettype = NULL;
modelica_metatype _functionAttributes = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _inType;
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],11,4) == 0) MMC_THROW_INTERNAL();
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 5));
_fargs = tmpMeta[1];
_rettype = tmpMeta[2];
_functionAttributes = tmpMeta[3];
_tysrc = tmpMeta[4];
_fargs1 = omc_List_splitOnBoolList(threadData, _fargs, _inBooltLst, NULL);
_newfargs = omc_List_threadMap(threadData, _inElementLst, _fargs1, boxvar_Types_makeElementFarg);
_newfargs = listAppend(_fargs, _newfargs);
tmpMeta[0] = mmc_mk_box5(14, &DAE_Type_T__FUNCTION__desc, _newfargs, _rettype, _functionAttributes, _tysrc);
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_makeFunctionType(threadData_t *threadData, modelica_metatype _p, modelica_metatype _vl, modelica_metatype _functionAttributes)
{
modelica_metatype _outType = NULL;
modelica_metatype _invl = NULL;
modelica_metatype _outvl = NULL;
modelica_metatype _fargs = NULL;
modelica_metatype _rettype = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_invl = omc_Types_getInputVars(threadData, _vl);
_outvl = omc_Types_getOutputVars(threadData, _vl);
_fargs = omc_List_map(threadData, _invl, boxvar_Types_makeFarg);
_rettype = omc_Types_makeReturnType(threadData, _outvl);
tmpMeta[0] = mmc_mk_box5(14, &DAE_Type_T__FUNCTION__desc, _fargs, _rettype, _functionAttributes, _p);
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_string omc_Types_printBindingStr(threadData_t *threadData, modelica_metatype _inBinding)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inBinding;
{
modelica_string _str = NULL;
modelica_string _str2 = NULL;
modelica_string _v_str = NULL;
modelica_string _s = NULL;
modelica_string _str3 = NULL;
modelica_metatype _exp = NULL;
modelica_metatype _f = NULL;
modelica_metatype _v = NULL;
modelica_metatype _source = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 5; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
tmp4 += 3;
tmp1 = _OMC_LIT164;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (!optionNone(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
_exp = tmpMeta[0];
_f = tmpMeta[2];
_source = tmpMeta[3];
tmp4 += 2;
_str = omc_ExpressionDump_printExpStr(threadData, _exp);
_str2 = omc_Types_printConstStr(threadData, _f);
_str3 = omc_DAEUtil_printBindingSourceStr(threadData, _source);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT165, mmc_mk_cons(_str, mmc_mk_cons(_OMC_LIT166, mmc_mk_cons(_str2, mmc_mk_cons(_OMC_LIT115, mmc_mk_cons(_str3, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (optionNone(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
_exp = tmpMeta[0];
_v = tmpMeta[2];
_f = tmpMeta[3];
_source = tmpMeta[4];
tmp4 += 1;
_str = omc_ExpressionDump_printExpStr(threadData, _exp);
_str2 = omc_Types_printConstStr(threadData, _f);
_v_str = omc_ValuesUtil_valString(threadData, _v);
_str3 = omc_DAEUtil_printBindingSourceStr(threadData, _source);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT165, mmc_mk_cons(_str, mmc_mk_cons(_OMC_LIT167, mmc_mk_cons(_v_str, mmc_mk_cons(_OMC_LIT168, mmc_mk_cons(_str2, mmc_mk_cons(_OMC_LIT115, mmc_mk_cons(_str3, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))))))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_v = tmpMeta[0];
_source = tmpMeta[1];
tmpMeta[0] = mmc_mk_cons(_v, MMC_REFSTRUCTLIT(mmc_nil));
_s = omc_ValuesUtil_unparseValues(threadData, tmpMeta[0]);
_str3 = omc_DAEUtil_printBindingSourceStr(threadData, _source);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT169, mmc_mk_cons(_s, mmc_mk_cons(_OMC_LIT115, mmc_mk_cons(_str3, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 4: {
tmp1 = _OMC_LIT29;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 5) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_printVarStr(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_string _str = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inVar;
{
modelica_string _vs = NULL;
modelica_string _n = NULL;
modelica_metatype _var = NULL;
modelica_metatype _typ = NULL;
modelica_metatype _bind = NULL;
modelica_string _s1 = NULL;
modelica_string _s2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 4));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
_n = tmpMeta[0];
_var = tmpMeta[2];
_typ = tmpMeta[3];
_bind = tmpMeta[4];
_s1 = omc_Types_printTypeStr(threadData, _typ);
_vs = omc_SCodeDump_variabilityString(threadData, _var);
_s2 = omc_Types_printBindingStr(threadData, _bind);
tmpMeta[0] = mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT139, mmc_mk_cons(_n, mmc_mk_cons(_OMC_LIT139, mmc_mk_cons(_vs, mmc_mk_cons(_OMC_LIT139, mmc_mk_cons(_s2, MMC_REFSTRUCTLIT(mmc_nil))))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 1: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_n = tmpMeta[0];
tmp1 = _n;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 2) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_str = tmp1;
_return: OMC_LABEL_UNUSED
return _str;
}
PROTECTED_FUNCTION_STATIC modelica_string omc_Types_unparseParam(threadData_t *threadData, modelica_metatype _inFuncArg)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inFuncArg;
{
modelica_string _tstr = NULL;
modelica_string _id = NULL;
modelica_string _cstr = NULL;
modelica_string _estr = NULL;
modelica_string _pstr = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _c = NULL;
modelica_metatype _p = NULL;
modelica_metatype _exp = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
if (!optionNone(tmpMeta[4])) goto tmp3_end;
_id = tmpMeta[0];
_ty = tmpMeta[1];
_c = tmpMeta[2];
_p = tmpMeta[3];
_tstr = omc_Types_unparseType(threadData, _ty);
_cstr = omc_DAEUtil_constStrFriendly(threadData, _c);
_pstr = omc_DAEUtil_dumpVarParallelismStr(threadData, _p);
tmpMeta[0] = mmc_mk_cons(_tstr, mmc_mk_cons(_OMC_LIT139, mmc_mk_cons(_cstr, mmc_mk_cons(_pstr, mmc_mk_cons(_id, MMC_REFSTRUCTLIT(mmc_nil))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 1: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
if (optionNone(tmpMeta[4])) goto tmp3_end;
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[4]), 1));
_id = tmpMeta[0];
_ty = tmpMeta[1];
_c = tmpMeta[2];
_p = tmpMeta[3];
_exp = tmpMeta[5];
_tstr = omc_Types_unparseType(threadData, _ty);
_cstr = omc_DAEUtil_constStrFriendly(threadData, _c);
_estr = omc_ExpressionDump_printExpStr(threadData, _exp);
_pstr = omc_DAEUtil_dumpVarParallelismStr(threadData, _p);
tmpMeta[0] = mmc_mk_cons(_tstr, mmc_mk_cons(_OMC_LIT139, mmc_mk_cons(_cstr, mmc_mk_cons(_pstr, mmc_mk_cons(_id, mmc_mk_cons(_OMC_LIT170, mmc_mk_cons(_estr, MMC_REFSTRUCTLIT(mmc_nil))))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_connectorTypeStr(threadData_t *threadData, modelica_metatype _ct)
{
modelica_string _str = NULL;
modelica_string tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _ct;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 4; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,0) == 0) goto tmp3_end;
tmp4 += 2;
tmp1 = _OMC_LIT29;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,0) == 0) goto tmp3_end;
tmp4 += 1;
tmp1 = _OMC_LIT171;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
tmp1 = _OMC_LIT172;
goto tmp3_done;
}
case 3: {
tmp1 = _OMC_LIT29;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 4) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_str = tmp1;
_return: OMC_LABEL_UNUSED
return _str;
}
DLLExport
modelica_string omc_Types_unparseVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inVar;
{
modelica_string _t = NULL;
modelica_string _n = NULL;
modelica_string _s = NULL;
modelica_metatype _typ = NULL;
modelica_metatype _ct = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 1; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_n = tmpMeta[0];
_ct = tmpMeta[2];
_typ = tmpMeta[3];
_s = omc_Types_connectorTypeStr(threadData, _ct);
_t = omc_Types_unparseType(threadData, _typ);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT173, mmc_mk_cons(_s, mmc_mk_cons(_t, mmc_mk_cons(_OMC_LIT139, mmc_mk_cons(_n, mmc_mk_cons(_OMC_LIT174, MMC_REFSTRUCTLIT(mmc_nil)))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_unparseVarAttr(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inVar;
{
modelica_string _n = NULL;
modelica_string _bindStr = NULL;
modelica_string _valStr = NULL;
modelica_metatype _value = NULL;
modelica_metatype _e = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_n = tmpMeta[0];
_e = tmpMeta[2];
tmp4 += 1;
_bindStr = omc_ExpressionDump_printExpStr(threadData, _e);
tmpMeta[0] = mmc_mk_cons(_n, mmc_mk_cons(_OMC_LIT175, mmc_mk_cons(_bindStr, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 1: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],2,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_n = tmpMeta[0];
_value = tmpMeta[2];
_valStr = omc_ValuesUtil_valString(threadData, _value);
tmpMeta[0] = mmc_mk_cons(_n, mmc_mk_cons(_OMC_LIT175, mmc_mk_cons(_valStr, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 2: {
tmp1 = _OMC_LIT29;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_printParamsStr(threadData_t *threadData, modelica_metatype _inFuncArgLst)
{
modelica_string _str = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inFuncArgLst;
{
modelica_string _n = NULL;
modelica_metatype _t = NULL;
modelica_metatype _params = NULL;
modelica_string _s1 = NULL;
modelica_string _s2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
tmp4 += 2;
tmp1 = _OMC_LIT29;
goto tmp3_done;
}
case 1: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[0] = MMC_CAR(tmp4_1);
tmpMeta[1] = MMC_CDR(tmp4_1);
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
if (!listEmpty(tmpMeta[1])) goto tmp3_end;
_n = tmpMeta[2];
_t = tmpMeta[3];
_s1 = omc_Types_printTypeStr(threadData, _t);
tmpMeta[0] = mmc_mk_cons(_n, mmc_mk_cons(_OMC_LIT176, mmc_mk_cons(_s1, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 2: {
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[0] = MMC_CAR(tmp4_1);
tmpMeta[1] = MMC_CDR(tmp4_1);
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
_n = tmpMeta[2];
_t = tmpMeta[3];
_params = tmpMeta[1];
_s1 = omc_Types_printTypeStr(threadData, _t);
_s2 = omc_Types_printParamsStr(threadData, _params);
tmpMeta[0] = mmc_mk_cons(_n, mmc_mk_cons(_OMC_LIT176, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT177, mmc_mk_cons(_s2, MMC_REFSTRUCTLIT(mmc_nil))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_str = tmp1;
_return: OMC_LABEL_UNUSED
return _str;
}
DLLExport
modelica_string omc_Types_printConnectorTypeStr(threadData_t *threadData, modelica_metatype _it, modelica_string *out_s2)
{
modelica_string _s = NULL;
modelica_string _s2 = NULL;
modelica_string tmp1_c0 __attribute__((unused)) = 0;
modelica_string tmp1_c1 __attribute__((unused)) = 0;
modelica_metatype tmpMeta[7] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _it;
{
modelica_metatype _connectorName = NULL;
modelica_metatype _vars = NULL;
modelica_metatype _varNames = NULL;
modelica_boolean _isExpandable;
modelica_string _isExpandableStr = NULL;
modelica_metatype _t = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_integer tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],5,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 3));
tmp6 = mmc_unbox_integer(tmpMeta[4]);
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_connectorName = tmpMeta[3];
_isExpandable = tmp6;
_vars = tmpMeta[5];
tmp4 += 1;
_varNames = omc_List_map(threadData, _vars, boxvar_Types_getVarName);
_isExpandableStr = (_isExpandable?_OMC_LIT178:_OMC_LIT29);
tmpMeta[2] = stringAppend(_isExpandableStr,omc_AbsynUtil_pathString(threadData, _connectorName, _OMC_LIT24, 1, 0));
_s = tmpMeta[2];
tmpMeta[2] = stringAppend(_OMC_LIT179,stringDelimitList(_varNames, _OMC_LIT115));
tmpMeta[3] = stringAppend(tmpMeta[2],_OMC_LIT180);
_s2 = tmpMeta[3];
tmp1_c0 = _s;
tmp1_c1 = _s2;
goto tmp3_done;
}
case 1: {
modelica_integer tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],5,2) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 3));
tmp7 = mmc_unbox_integer(tmpMeta[4]);
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_connectorName = tmpMeta[3];
_isExpandable = tmp7;
_vars = tmpMeta[5];
_t = tmpMeta[6];
_varNames = omc_List_map(threadData, _vars, boxvar_Types_getVarName);
_isExpandableStr = (_isExpandable?_OMC_LIT178:_OMC_LIT29);
tmpMeta[2] = stringAppend(_isExpandableStr,omc_AbsynUtil_pathString(threadData, _connectorName, _OMC_LIT24, 1, 0));
_s = tmpMeta[2];
tmpMeta[2] = stringAppend(_OMC_LIT179,stringDelimitList(_varNames, _OMC_LIT115));
tmpMeta[3] = stringAppend(tmpMeta[2],_OMC_LIT180);
tmpMeta[4] = stringAppend(tmpMeta[3],_OMC_LIT181);
tmpMeta[5] = stringAppend(tmpMeta[4],omc_Types_printTypeStr(threadData, _t));
_s2 = tmpMeta[5];
tmp1_c0 = _s;
tmp1_c1 = _s2;
goto tmp3_done;
}
case 2: {
tmp1_c0 = _OMC_LIT29;
tmp1_c1 = omc_Types_unparseType(threadData, _it);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_s = tmp1_c0;
_s2 = tmp1_c1;
_return: OMC_LABEL_UNUSED
if (out_s2) { *out_s2 = _s2; }
return _s;
}
DLLExport
modelica_string omc_Types_printTypeStr(threadData_t *threadData, modelica_metatype _inType)
{
modelica_string _str = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _vars = NULL;
modelica_metatype _st = NULL;
modelica_metatype _dims = NULL;
modelica_metatype _t = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _restype = NULL;
modelica_metatype _params = NULL;
modelica_metatype _tys = NULL;
modelica_string _s1 = NULL;
modelica_string _s2 = NULL;
modelica_string _compType = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 30; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vars = tmpMeta[0];
tmp4 += 28;
tmp1 = omc_List_toString(threadData, _vars, boxvar_Types_printVarStr, _OMC_LIT148, _OMC_LIT182, _OMC_LIT115, _OMC_LIT116, 0);
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vars = tmpMeta[0];
tmp4 += 27;
tmp1 = omc_List_toString(threadData, _vars, boxvar_Types_printVarStr, _OMC_LIT149, _OMC_LIT182, _OMC_LIT115, _OMC_LIT116, 0);
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vars = tmpMeta[0];
tmp4 += 26;
tmp1 = omc_List_toString(threadData, _vars, boxvar_Types_printVarStr, _OMC_LIT150, _OMC_LIT182, _OMC_LIT115, _OMC_LIT116, 0);
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vars = tmpMeta[0];
tmp4 += 25;
tmp1 = omc_List_toString(threadData, _vars, boxvar_Types_printVarStr, _OMC_LIT151, _OMC_LIT182, _OMC_LIT115, _OMC_LIT116, 0);
goto tmp3_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vars = tmpMeta[0];
tmp4 += 24;
tmp1 = omc_List_toString(threadData, _vars, boxvar_Types_printVarStr, _OMC_LIT152, _OMC_LIT182, _OMC_LIT115, _OMC_LIT116, 0);
goto tmp3_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
_vars = tmpMeta[0];
tmp4 += 23;
tmp1 = omc_List_toString(threadData, _vars, boxvar_Types_printVarStr, _OMC_LIT183, _OMC_LIT182, _OMC_LIT115, _OMC_LIT116, 0);
goto tmp3_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_st = tmpMeta[0];
_vars = tmpMeta[1];
_t = tmpMeta[2];
tmp4 += 22;
_compType = omc_Types_printTypeStr(threadData, _t);
_s1 = omc_ClassInf_printStateStr(threadData, _st);
_s2 = stringDelimitList(omc_List_map(threadData, _vars, boxvar_Types_printVarStr), _OMC_LIT115);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT184, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT179, mmc_mk_cons(_s2, mmc_mk_cons(_OMC_LIT185, mmc_mk_cons(_compType, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_st = tmpMeta[0];
_vars = tmpMeta[1];
tmp4 += 21;
_s1 = omc_ClassInf_printStateStr(threadData, _st);
_s2 = stringDelimitList(omc_List_map(threadData, _vars, boxvar_Types_printVarStr), _OMC_LIT115);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT184, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT179, mmc_mk_cons(_s2, mmc_mk_cons(_OMC_LIT186, MMC_REFSTRUCTLIT(mmc_nil))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_t = tmpMeta[0];
_dims = tmpMeta[1];
tmp4 += 20;
_s1 = stringDelimitList(omc_List_map(threadData, _dims, boxvar_ExpressionDump_dimensionString), _OMC_LIT115);
_s2 = omc_Types_printTypeStr(threadData, _t);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT187, mmc_mk_cons(_s2, mmc_mk_cons(_OMC_LIT188, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT154, MMC_REFSTRUCTLIT(mmc_nil))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_params = tmpMeta[0];
_restype = tmpMeta[1];
tmp4 += 19;
_s1 = omc_Types_printParamsStr(threadData, _params);
_s2 = omc_Types_printTypeStr(threadData, _restype);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT189, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT190, mmc_mk_cons(_s2, MMC_REFSTRUCTLIT(mmc_nil)))));
_str = stringAppendList(tmpMeta[0]);
tmpMeta[0] = stringAppend(_str,omc_AbsynUtil_pathString(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 5))), _OMC_LIT24, 1, 0));
tmp1 = tmpMeta[0];
goto tmp3_done;
}
case 10: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_tys = tmpMeta[0];
tmp4 += 18;
_s1 = stringDelimitList(omc_List_map(threadData, _tys, boxvar_Types_printTypeStr), _OMC_LIT115);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT182, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_tys = tmpMeta[0];
tmp4 += 17;
tmpMeta[0] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, _tys, mmc_mk_none());
tmp1 = omc_Types_printTypeStr(threadData, tmpMeta[0]);
goto tmp3_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmp4 += 16;
_s1 = omc_Types_printTypeStr(threadData, _ty);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT191, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmp4 += 15;
_s1 = omc_Types_printTypeStr(threadData, _ty);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT193, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmp4 += 14;
_s1 = omc_Types_printTypeStr(threadData, _ty);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT194, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmp4 += 13;
_s1 = omc_Types_printTypeStr(threadData, _ty);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT195, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 16: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,24,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_s1 = tmpMeta[0];
tmp4 += 12;
tmpMeta[0] = mmc_mk_cons(_OMC_LIT196, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,0) == 0) goto tmp3_end;
tmp4 += 11;
tmp1 = _OMC_LIT197;
goto tmp3_done;
}
case 18: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (!optionNone(tmpMeta[0])) goto tmp3_end;
tmp4 += 10;
tmp1 = _OMC_LIT198;
goto tmp3_done;
}
case 19: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (optionNone(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 1));
_st = tmpMeta[1];
tmp4 += 9;
_s1 = omc_ClassInf_printStateStr(threadData, _st);
tmpMeta[0] = stringAppend(_OMC_LIT199,_s1);
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT116);
tmp1 = tmpMeta[1];
goto tmp3_done;
}
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,0) == 0) goto tmp3_end;
tmp4 += 8;
tmp1 = _OMC_LIT200;
goto tmp3_done;
}
case 21: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,25,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_t = tmpMeta[0];
tmp4 += 7;
_s1 = omc_Types_printTypeStr(threadData, _t);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT201, mmc_mk_cons(_s1, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 22: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,6) == 0) goto tmp3_end;
_t = tmp4_1;
tmp4 += 6;
_s1 = omc_AbsynUtil_pathStringNoQual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t), 2))), _OMC_LIT24, 0, 0);
tmpMeta[0] = stringAppend(_OMC_LIT202,_s1);
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT202);
tmp1 = tmpMeta[1];
goto tmp3_done;
}
case 23: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,5) == 0) goto tmp3_end;
_t = tmp4_1;
tmp4 += 5;
_s1 = omc_AbsynUtil_pathStringNoQual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_t), 6))), _OMC_LIT24, 0, 0);
tmpMeta[0] = stringAppend(_OMC_LIT202,_s1);
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT202);
tmp1 = tmpMeta[1];
goto tmp3_done;
}
case 24: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],0,0) == 0) goto tmp3_end;
tmp4 += 4;
tmp1 = _OMC_LIT203;
goto tmp3_done;
}
case 25: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],1,0) == 0) goto tmp3_end;
tmp4 += 3;
tmp1 = _OMC_LIT204;
goto tmp3_done;
}
case 26: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],3,0) == 0) goto tmp3_end;
tmp4 += 2;
tmp1 = _OMC_LIT205;
goto tmp3_done;
}
case 27: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],4,0) == 0) goto tmp3_end;
tmp4 += 1;
tmp1 = _OMC_LIT206;
goto tmp3_done;
}
case 28: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],5,0) == 0) goto tmp3_end;
tmp1 = _OMC_LIT207;
goto tmp3_done;
}
case 29: {
tmp1 = _OMC_LIT208;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 30) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_str = tmp1;
_return: OMC_LABEL_UNUSED
return _str;
}
DLLExport
modelica_string omc_Types_printTupleConstStr(threadData_t *threadData, modelica_metatype _inTupleConst)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inTupleConst;
{
modelica_string _res = NULL;
modelica_metatype _c = NULL;
modelica_metatype _strlist = NULL;
modelica_metatype _constlist = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_c = tmpMeta[0];
tmp1 = omc_Types_printConstStr(threadData, _c);
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_constlist = tmpMeta[0];
_strlist = omc_List_map(threadData, _constlist, boxvar_Types_printTupleConstStr);
_res = stringDelimitList(_strlist, _OMC_LIT115);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT182, mmc_mk_cons(_res, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_printConstStr(threadData_t *threadData, modelica_metatype _inConst)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inConst;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 3: {
tmp1 = _OMC_LIT209;
goto tmp3_done;
}
case 4: {
tmp1 = _OMC_LIT210;
goto tmp3_done;
}
case 5: {
tmp1 = _OMC_LIT211;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_unparseConst(threadData_t *threadData, modelica_metatype _inConst)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inConst;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 3: {
tmp1 = _OMC_LIT212;
goto tmp3_done;
}
case 4: {
tmp1 = _OMC_LIT213;
goto tmp3_done;
}
case 5: {
tmp1 = _OMC_LIT214;
goto tmp3_done;
}
case 6: {
tmp1 = _OMC_LIT215;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_unparsePropTypeNoAttr(threadData_t *threadData, modelica_metatype _inProps)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inProps;
{
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmp1 = omc_Types_unparseTypeNoAttr(threadData, _ty);
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmp1 = omc_Types_unparseTypeNoAttr(threadData, _ty);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_unparseTypeNoAttr(threadData_t *threadData, modelica_metatype _inType)
{
modelica_string _outString = NULL;
modelica_metatype _ty = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_ty = omc_Types_stripTypeVars(threadData, _inType, NULL);
_outString = omc_Types_unparseType(threadData, _ty);
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_unparseType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_string _outString = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_string _s1 = NULL;
modelica_string _s2 = NULL;
modelica_string _str = NULL;
modelica_string _dims = NULL;
modelica_string _res = NULL;
modelica_string _vstr = NULL;
modelica_string _name = NULL;
modelica_string _st_str = NULL;
modelica_string _bc_tp_str = NULL;
modelica_string _paramstr = NULL;
modelica_string _restypestr = NULL;
modelica_string _tystr = NULL;
modelica_string _funcstr = NULL;
modelica_metatype _l = NULL;
modelica_metatype _vars = NULL;
modelica_metatype _paramstrs = NULL;
modelica_metatype _tystrs = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _bc_tp = NULL;
modelica_metatype _restype = NULL;
modelica_metatype _dimlst = NULL;
modelica_metatype _vs = NULL;
modelica_metatype _ci_state = NULL;
modelica_metatype _params = NULL;
modelica_metatype _path = NULL;
modelica_metatype _tys = NULL;
modelica_metatype _codeType = NULL;
modelica_boolean _b;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 34; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (!listEmpty(tmpMeta[0])) goto tmp3_end;
tmp1 = _OMC_LIT148;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (!listEmpty(tmpMeta[0])) goto tmp3_end;
tmp1 = _OMC_LIT149;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (!listEmpty(tmpMeta[0])) goto tmp3_end;
tmp1 = _OMC_LIT150;
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (!listEmpty(tmpMeta[0])) goto tmp3_end;
tmp1 = _OMC_LIT151;
goto tmp3_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,1) == 0) goto tmp3_end;
tmp1 = _OMC_LIT152;
goto tmp3_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vs = tmpMeta[0];
_s1 = stringDelimitList(omc_List_map(threadData, _vs, boxvar_Types_unparseVarAttr), _OMC_LIT115);
tmpMeta[0] = stringAppend(_OMC_LIT216,_s1);
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT116);
tmp1 = tmpMeta[1];
goto tmp3_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vs = tmpMeta[0];
_s1 = stringDelimitList(omc_List_map(threadData, _vs, boxvar_Types_unparseVarAttr), _OMC_LIT115);
tmpMeta[0] = stringAppend(_OMC_LIT217,_s1);
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT116);
tmp1 = tmpMeta[1];
goto tmp3_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vs = tmpMeta[0];
_s1 = stringDelimitList(omc_List_map(threadData, _vs, boxvar_Types_unparseVarAttr), _OMC_LIT115);
tmpMeta[0] = stringAppend(_OMC_LIT218,_s1);
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT116);
tmp1 = tmpMeta[1];
goto tmp3_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_vs = tmpMeta[0];
_s1 = stringDelimitList(omc_List_map(threadData, _vs, boxvar_Types_unparseVarAttr), _OMC_LIT115);
tmpMeta[0] = stringAppend(_OMC_LIT219,_s1);
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT116);
tmp1 = tmpMeta[1];
goto tmp3_done;
}
case 9: {
modelica_boolean tmp6;
modelica_string tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_path = tmpMeta[0];
_l = tmpMeta[1];
tmp6 = (modelica_boolean)omc_Config_typeinfo(threadData);
if(tmp6)
{
tmpMeta[0] = stringAppend(_OMC_LIT220,omc_AbsynUtil_pathString(threadData, _path, _OMC_LIT24, 1, 0));
tmpMeta[1] = stringAppend(tmpMeta[0],_OMC_LIT221);
tmp7 = tmpMeta[1];
}
else
{
tmp7 = _OMC_LIT182;
}
_s1 = tmp7;
_s2 = stringDelimitList(_l, _OMC_LIT115);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT222, mmc_mk_cons(_s1, mmc_mk_cons(_s2, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil)))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 10: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
_ty = tmp4_1;
_ty = omc_Types_flattenArrayType(threadData, _ty ,&_dimlst);
_tystr = omc_Types_unparseType(threadData, _ty);
_dims = omc_Types_printDimensionsStr(threadData, _dimlst);
tmpMeta[0] = mmc_mk_cons(_tystr, mmc_mk_cons(_OMC_LIT153, mmc_mk_cons(_dims, mmc_mk_cons(_OMC_LIT154, MMC_REFSTRUCTLIT(mmc_nil)))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],3,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_path = tmpMeta[1];
_vs = tmpMeta[2];
_name = omc_AbsynUtil_pathStringNoQual(threadData, _path, _OMC_LIT24, 0, 0);
_vars = omc_List_map(threadData, _vs, boxvar_Types_unparseVar);
_vstr = stringAppendList(_vars);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT223, mmc_mk_cons(_name, mmc_mk_cons(_OMC_LIT91, mmc_mk_cons(_vstr, mmc_mk_cons(_OMC_LIT224, mmc_mk_cons(_name, mmc_mk_cons(_OMC_LIT225, MMC_REFSTRUCTLIT(mmc_nil))))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 12: {
modelica_integer tmp8;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],5,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
tmp8 = mmc_unbox_integer(tmpMeta[2]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_path = tmpMeta[1];
_b = tmp8;
_vs = tmpMeta[3];
_name = omc_AbsynUtil_pathStringNoQual(threadData, _path, _OMC_LIT24, 0, 0);
_vars = omc_List_map(threadData, _vs, boxvar_Types_unparseVar);
_vstr = stringAppendList(_vars);
_str = (_b?_OMC_LIT226:_OMC_LIT29);
tmpMeta[0] = mmc_mk_cons(_str, mmc_mk_cons(_OMC_LIT227, mmc_mk_cons(_name, mmc_mk_cons(_OMC_LIT91, mmc_mk_cons(_vstr, mmc_mk_cons(_OMC_LIT224, mmc_mk_cons(_name, mmc_mk_cons(_OMC_LIT225, MMC_REFSTRUCTLIT(mmc_nil)))))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_ci_state = tmpMeta[0];
_bc_tp = tmpMeta[1];
_st_str = omc_AbsynUtil_pathString(threadData, omc_ClassInf_getStateName(threadData, _ci_state), _OMC_LIT24, 1, 0);
_res = omc_ClassInf_printStateStr(threadData, _ci_state);
_bc_tp_str = omc_Types_unparseType(threadData, _bc_tp);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT182, mmc_mk_cons(_res, mmc_mk_cons(_OMC_LIT139, mmc_mk_cons(_st_str, mmc_mk_cons(_OMC_LIT228, mmc_mk_cons(_bc_tp_str, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ci_state = tmpMeta[0];
_st_str = omc_AbsynUtil_pathString(threadData, omc_ClassInf_getStateName(threadData, _ci_state), _OMC_LIT24, 1, 0);
_res = omc_ClassInf_printStateStr(threadData, _ci_state);
tmpMeta[0] = mmc_mk_cons(_res, mmc_mk_cons(_OMC_LIT139, mmc_mk_cons(_st_str, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 5));
_params = tmpMeta[0];
_restype = tmpMeta[1];
_path = tmpMeta[2];
_funcstr = omc_AbsynUtil_pathString(threadData, _path, _OMC_LIT24, 1, 0);
_paramstrs = omc_List_map(threadData, _params, boxvar_Types_unparseParam);
_paramstr = stringDelimitList(_paramstrs, _OMC_LIT115);
_restypestr = omc_Types_unparseType(threadData, _restype);
tmpMeta[0] = mmc_mk_cons(_funcstr, mmc_mk_cons(_OMC_LIT229, mmc_mk_cons(_paramstr, mmc_mk_cons(_OMC_LIT190, mmc_mk_cons(_restypestr, MMC_REFSTRUCTLIT(mmc_nil))))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 16: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_tys = tmpMeta[0];
{
modelica_metatype tmp11_1;
tmp11_1 = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 3)));
{
modelica_metatype _names = NULL;
volatile mmc_switch_type tmp11;
int tmp12;
tmp11 = 0;
for (; tmp11 < 2; tmp11++) {
switch (MMC_SWITCH_CAST(tmp11)) {
case 0: {
if (optionNone(tmp11_1)) goto tmp10_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp11_1), 1));
_names = tmpMeta[1];
{
modelica_metatype __omcQ_24tmpVar11;
modelica_metatype* tmp13;
modelica_string __omcQ_24tmpVar10;
int tmp14;
modelica_metatype _n_loopVar = 0;
modelica_metatype _n;
modelica_metatype _t_loopVar = 0;
modelica_metatype _t;
_n_loopVar = _names;
_t_loopVar = _tys;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar11 = tmpMeta[2];
tmp13 = &__omcQ_24tmpVar11;
while(1) {
tmp14 = 2;
if (!listEmpty(_n_loopVar)) {
_n = MMC_CAR(_n_loopVar);
_n_loopVar = MMC_CDR(_n_loopVar);
tmp14--;
}if (!listEmpty(_t_loopVar)) {
_t = MMC_CAR(_t_loopVar);
_t_loopVar = MMC_CDR(_t_loopVar);
tmp14--;
}
if (tmp14 == 0) {
tmpMeta[3] = stringAppend(omc_Types_unparseType(threadData, _t),_OMC_LIT139);
tmpMeta[4] = stringAppend(tmpMeta[3],_n);
__omcQ_24tmpVar10 = tmpMeta[4];
*tmp13 = mmc_mk_cons(__omcQ_24tmpVar10,0);
tmp13 = &MMC_CDR(*tmp13);
} else if (tmp14 == 2) {
break;
} else {
goto goto_9;
}
}
*tmp13 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar11;
}
tmpMeta[0] = tmpMeta[1];
goto tmp10_done;
}
case 1: {
{
modelica_metatype __omcQ_24tmpVar13;
modelica_metatype* tmp15;
modelica_string __omcQ_24tmpVar12;
int tmp16;
modelica_metatype _t_loopVar = 0;
modelica_metatype _t;
_t_loopVar = _tys;
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar13 = tmpMeta[2];
tmp15 = &__omcQ_24tmpVar13;
while(1) {
tmp16 = 1;
if (!listEmpty(_t_loopVar)) {
_t = MMC_CAR(_t_loopVar);
_t_loopVar = MMC_CDR(_t_loopVar);
tmp16--;
}
if (tmp16 == 0) {
__omcQ_24tmpVar12 = omc_Types_unparseType(threadData, _t);
*tmp15 = mmc_mk_cons(__omcQ_24tmpVar12,0);
tmp15 = &MMC_CDR(*tmp15);
} else if (tmp16 == 1) {
break;
} else {
goto goto_9;
}
}
*tmp15 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar13;
}
tmpMeta[0] = tmpMeta[1];
goto tmp10_done;
}
}
goto tmp10_end;
tmp10_end: ;
}
goto goto_9;
goto_9:;
goto goto_2;
goto tmp10_done;
tmp10_done:;
}
}
_tystrs = tmpMeta[0];
_tystr = stringDelimitList(_tystrs, _OMC_LIT115);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT182, mmc_mk_cons(_tystr, mmc_mk_cons(_OMC_LIT116, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_tys = tmpMeta[0];
_tystrs = omc_List_map(threadData, _tys, boxvar_Types_unparseType);
_tystr = stringDelimitList(_tystrs, _OMC_LIT115);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT230, mmc_mk_cons(_tystr, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 18: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
_tystr = omc_Types_unparseType(threadData, _ty);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT191, mmc_mk_cons(_tystr, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 19: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
_tystr = omc_Types_unparseType(threadData, _ty);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT194, mmc_mk_cons(_tystr, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,24,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_tystr = tmpMeta[0];
tmpMeta[0] = mmc_mk_cons(_OMC_LIT196, mmc_mk_cons(_tystr, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 21: {
modelica_boolean tmp19;
modelica_string tmp20;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,5) == 0) goto tmp3_end;
_res = omc_AbsynUtil_pathStringNoQual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 6))), _OMC_LIT24, 0, 0);
tmp19 = (modelica_boolean)listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 3))));
if(tmp19)
{
tmp20 = _res;
}
else
{
tmpMeta[0] = stringAppend(_res,_OMC_LIT231);
{
modelica_metatype __omcQ_24tmpVar15;
modelica_metatype* tmp17;
modelica_string __omcQ_24tmpVar14;
int tmp18;
modelica_metatype _tv_loopVar = 0;
modelica_metatype _tv;
_tv_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 3)));
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar15 = tmpMeta[2];
tmp17 = &__omcQ_24tmpVar15;
while(1) {
tmp18 = 1;
if (!listEmpty(_tv_loopVar)) {
_tv = MMC_CAR(_tv_loopVar);
_tv_loopVar = MMC_CDR(_tv_loopVar);
tmp18--;
}
if (tmp18 == 0) {
__omcQ_24tmpVar14 = omc_Types_unparseType(threadData, _tv);
*tmp17 = mmc_mk_cons(__omcQ_24tmpVar14,0);
tmp17 = &MMC_CDR(*tmp17);
} else if (tmp18 == 1) {
break;
} else {
goto goto_2;
}
}
*tmp17 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar15;
}
tmpMeta[3] = stringAppend(tmpMeta[0],stringDelimitList(tmpMeta[1], _OMC_LIT16));
tmpMeta[4] = stringAppend(tmpMeta[3],_OMC_LIT192);
tmp20 = tmpMeta[4];
}
tmp1 = tmp20;
goto tmp3_done;
}
case 22: {
modelica_boolean tmp23;
modelica_string tmp24;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,6) == 0) goto tmp3_end;
_res = omc_AbsynUtil_pathStringNoQual(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2))), _OMC_LIT24, 0, 0);
tmp23 = (modelica_boolean)listEmpty((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4))));
if(tmp23)
{
tmp24 = _res;
}
else
{
tmpMeta[0] = stringAppend(_res,_OMC_LIT231);
{
modelica_metatype __omcQ_24tmpVar17;
modelica_metatype* tmp21;
modelica_string __omcQ_24tmpVar16;
int tmp22;
modelica_metatype _tv_loopVar = 0;
modelica_metatype _tv;
_tv_loopVar = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4)));
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar17 = tmpMeta[2];
tmp21 = &__omcQ_24tmpVar17;
while(1) {
tmp22 = 1;
if (!listEmpty(_tv_loopVar)) {
_tv = MMC_CAR(_tv_loopVar);
_tv_loopVar = MMC_CDR(_tv_loopVar);
tmp22--;
}
if (tmp22 == 0) {
__omcQ_24tmpVar16 = omc_Types_unparseType(threadData, _tv);
*tmp21 = mmc_mk_cons(__omcQ_24tmpVar16,0);
tmp21 = &MMC_CDR(*tmp21);
} else if (tmp22 == 1) {
break;
} else {
goto goto_2;
}
}
*tmp21 = mmc_mk_nil();
tmpMeta[1] = __omcQ_24tmpVar17;
}
tmpMeta[3] = stringAppend(tmpMeta[0],stringDelimitList(tmpMeta[1], _OMC_LIT16));
tmpMeta[4] = stringAppend(tmpMeta[3],_OMC_LIT192);
tmp24 = tmpMeta[4];
}
tmp1 = tmp24;
goto tmp3_done;
}
case 23: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
_res = omc_Types_unparseType(threadData, _ty);
tmpMeta[0] = stringAppend(_OMC_LIT202,_res);
tmp1 = tmpMeta[0];
goto tmp3_done;
}
case 24: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],8,0) == 0) goto tmp3_end;
tmp1 = _OMC_LIT232;
goto tmp3_done;
}
case 25: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
_tystr = omc_Types_unparseType(threadData, _ty);
tmpMeta[0] = mmc_mk_cons(_OMC_LIT193, mmc_mk_cons(_tystr, mmc_mk_cons(_OMC_LIT192, MMC_REFSTRUCTLIT(mmc_nil))));
tmp1 = stringAppendList(tmpMeta[0]);
goto tmp3_done;
}
case 26: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,25,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
case 27: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,0) == 0) goto tmp3_end;
tmp1 = _OMC_LIT233;
goto tmp3_done;
}
case 28: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,0) == 0) goto tmp3_end;
tmp1 = _OMC_LIT234;
goto tmp3_done;
}
case 29: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,1) == 0) goto tmp3_end;
tmp1 = _OMC_LIT235;
goto tmp3_done;
}
case 30: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_codeType = tmpMeta[0];
tmp1 = omc_Types_printCodeTypeStr(threadData, _codeType);
goto tmp3_done;
}
case 31: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
tmpMeta[0] = stringAppend(_OMC_LIT236,omc_Types_unparseType(threadData, _ty));
tmp1 = tmpMeta[0];
goto tmp3_done;
}
case 32: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,13,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_ty = tmpMeta[0];
tmpMeta[0] = stringAppend(_OMC_LIT237,omc_Types_unparseType(threadData, _ty));
tmp1 = tmpMeta[0];
goto tmp3_done;
}
case 33: {
tmp1 = _OMC_LIT238;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outString = tmp1;
_return: OMC_LABEL_UNUSED
return _outString;
}
DLLExport
modelica_string omc_Types_unparseOptionEqMod(threadData_t *threadData, modelica_metatype _eq)
{
modelica_string _str = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _eq;
{
modelica_metatype _e = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!optionNone(tmp4_1)) goto tmp3_end;
tmp1 = _OMC_LIT239;
goto tmp3_done;
}
case 1: {
if (optionNone(tmp4_1)) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 1));
_e = tmpMeta[0];
tmp1 = omc_Types_unparseEqMod(threadData, _e);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_str = tmp1;
_return: OMC_LABEL_UNUSED
return _str;
}
DLLExport
modelica_string omc_Types_unparseEqMod(threadData_t *threadData, modelica_metatype _eq)
{
modelica_string _str = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _eq;
{
modelica_metatype _e = NULL;
modelica_metatype _e2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,5) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_e = tmpMeta[0];
tmp1 = omc_ExpressionDump_printExpStr(threadData, _e);
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_e2 = tmpMeta[0];
tmp1 = omc_Dump_printExpStr(threadData, _e2);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_str = tmp1;
_return: OMC_LABEL_UNUSED
return _str;
}
DLLExport
modelica_metatype omc_Types_setArrayElementType(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inBaseType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _ty = NULL;
modelica_metatype _dims = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_ty = tmpMeta[1];
_dims = tmpMeta[2];
_ty = omc_Types_setArrayElementType(threadData, _ty, _inBaseType);
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, _dims);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
tmpMeta[0] = _inBaseType;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_arrayElementType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 9: {
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)));
goto _tailrecursive;
goto tmp2_done;
}
case 13: {
modelica_boolean tmp4;
tmp4 = (modelica_boolean)listEmpty(omc_Types_getDimensions(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4)))));
if(tmp4)
{
tmpMeta[1] = _inType;
}
else
{
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4)));
goto _tailrecursive;
}
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 14: {
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 3)));
goto _tailrecursive;
goto tmp2_done;
}
default:
tmp2_default: OMC_LABEL_UNUSED; {
tmpMeta[0] = _inType;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_unliftArrayOrList(threadData_t *threadData, modelica_metatype _inType, modelica_metatype *out_dim)
{
modelica_metatype _outType = NULL;
modelica_metatype _dim = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[2];
tmpMeta[0+0] = omc_Types_boxIfUnboxedType(threadData, _ty);
tmpMeta[0+1] = _OMC_LIT10;
goto tmp3_done;
}
case 25: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,1) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[2];
tmpMeta[0+0] = omc_Types_boxIfUnboxedType(threadData, _ty);
tmpMeta[0+1] = _OMC_LIT10;
goto tmp3_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp3_end;
_ty = tmpMeta[2];
_dim = tmpMeta[4];
tmpMeta[0+0] = _ty;
tmpMeta[0+1] = _dim;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_ty = tmpMeta[2];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_ty = tmpMeta[2];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outType = tmpMeta[0+0];
_dim = tmpMeta[0+1];
_return: OMC_LABEL_UNUSED
if (out_dim) { *out_dim = _dim; }
return _outType;
}
DLLExport
modelica_metatype omc_Types_unliftArray(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _ty = NULL;
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_ty = tmpMeta[1];
_inType = _ty;
goto _tailrecursive;
goto tmp2_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_ty = tmpMeta[1];
_inType = _ty;
goto _tailrecursive;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_liftArrayRight(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inIntegerOption)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _inIntegerOption;
{
modelica_metatype _ty_1 = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _dim = NULL;
modelica_metatype _d = NULL;
modelica_metatype _ci = NULL;
modelica_metatype _varlst = NULL;
modelica_metatype _ec = NULL;
modelica_metatype _tty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_ty = tmpMeta[1];
_dim = tmpMeta[3];
_d = tmp3_2;
tmp3 += 1;
_ty_1 = omc_Types_liftArrayRight(threadData, _ty, _d);
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty_1, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 1: {
modelica_boolean tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
_ci = tmpMeta[1];
_varlst = tmpMeta[2];
_ty = tmpMeta[3];
_ec = tmpMeta[4];
_d = tmp3_2;
tmp5 = listEmpty(omc_Types_getDimensions(threadData, _ty));
if (0 != tmp5) goto goto_1;
_ty_1 = omc_Types_liftArrayRight(threadData, _ty, _d);
tmpMeta[1] = mmc_mk_box5(13, &DAE_Type_T__SUBTYPE__BASIC__desc, _ci, _varlst, _ty_1, _ec);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
_tty = tmp3_1;
_d = tmp3_2;
tmpMeta[1] = mmc_mk_cons(_d, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _tty, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_liftTypeWithDimExps(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDimExps)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_metatype tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _inDimExps;
{
modelica_metatype _ty = NULL;
modelica_metatype _d = NULL;
modelica_metatype _rest = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_2)) goto tmp2_end;
_ty = tmp3_1;
tmpMeta[0] = _ty;
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_2);
tmpMeta[2] = MMC_CDR(tmp3_2);
_d = tmpMeta[1];
_rest = tmpMeta[2];
_ty = tmp3_1;
tmpMeta[1] = mmc_mk_box2(6, &DAE_Dimension_DIM__EXP__desc, _d);
tmpMeta[0] = omc_Types_liftArray(threadData, omc_Types_liftTypeWithDimExps(threadData, _ty, _rest), tmpMeta[1]);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_liftTypeWithDims(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDims)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
if(listEmpty(_inDims))
{
_outType = _inType;
goto _return;
}
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _dims = NULL;
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],6,2) == 0) goto tmp2_end;
fputs(MMC_STRINGDATA(_OMC_LIT240),stdout);
goto goto_1;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_ty = tmpMeta[1];
_dims = tmpMeta[2];
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, listAppend(_dims, _inDims));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _inType, _inDims);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_liftArrayListDimsReverse(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _dims)
{
modelica_metatype _ty = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_ty = _inType;
{
modelica_metatype _dim;
for (tmpMeta[0] = _dims; !listEmpty(tmpMeta[0]); tmpMeta[0]=MMC_CDR(tmpMeta[0]))
{
_dim = MMC_CAR(tmpMeta[0]);
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, tmpMeta[1]);
_ty = tmpMeta[2];
}
}
_return: OMC_LABEL_UNUSED
return _ty;
}
DLLExport
modelica_metatype omc_Types_liftArrayListDims(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDimensions)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outType = _inType;
{
modelica_metatype _dim;
for (tmpMeta[0] = listReverse(_inDimensions); !listEmpty(tmpMeta[0]); tmpMeta[0]=MMC_CDR(tmpMeta[0]))
{
_dim = MMC_CAR(tmpMeta[0]);
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _outType, tmpMeta[1]);
_outType = tmpMeta[2];
}
}
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_liftList(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDimension)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _inType);
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_liftArray(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDimension)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = mmc_mk_cons(_inDimension, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _inType, tmpMeta[0]);
_outType = tmpMeta[1];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_makeArraySubscripts(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _lst)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _lst;
{
modelica_metatype _t = NULL;
modelica_integer _i;
modelica_metatype _rest = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 6; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_2)) goto tmp2_end;
_t = tmp3_1;
tmp3 += 5;
tmpMeta[0] = _t;
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_2);
tmpMeta[2] = MMC_CDR(tmp3_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,0) == 0) goto tmp2_end;
_rest = tmpMeta[2];
_t = tmp3_1;
tmp3 += 4;
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, _OMC_LIT44);
tmpMeta[0] = omc_Types_makeArraySubscripts(threadData, tmpMeta[1], _rest);
goto tmp2_done;
}
case 2: {
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_2);
tmpMeta[2] = MMC_CDR(tmp3_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,1) == 0) goto tmp2_end;
_rest = tmpMeta[2];
_t = tmp3_1;
tmp3 += 3;
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, _OMC_LIT44);
tmpMeta[0] = omc_Types_makeArraySubscripts(threadData, tmpMeta[1], _rest);
goto tmp2_done;
}
case 3: {
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_2);
tmpMeta[2] = MMC_CDR(tmp3_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],3,1) == 0) goto tmp2_end;
_rest = tmpMeta[2];
_t = tmp3_1;
tmp3 += 2;
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, _OMC_LIT44);
tmpMeta[0] = omc_Types_makeArraySubscripts(threadData, tmpMeta[1], _rest);
goto tmp2_done;
}
case 4: {
modelica_integer tmp5;
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_2);
tmpMeta[2] = MMC_CDR(tmp3_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],2,1) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],0,1) == 0) goto tmp2_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[3]), 2));
tmp5 = mmc_unbox_integer(tmpMeta[4]);
_i = tmp5;
_rest = tmpMeta[2];
_t = tmp3_1;
tmpMeta[2] = mmc_mk_box2(3, &DAE_Dimension_DIM__INTEGER__desc, mmc_mk_integer(_i));
tmpMeta[1] = mmc_mk_cons(tmpMeta[2], MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, tmpMeta[1]);
tmpMeta[0] = omc_Types_makeArraySubscripts(threadData, tmpMeta[3], _rest);
goto tmp2_done;
}
case 5: {
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_2);
tmpMeta[2] = MMC_CDR(tmp3_2);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],2,1) == 0) goto tmp2_end;
_rest = tmpMeta[2];
_t = tmp3_1;
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, _OMC_LIT44);
tmpMeta[0] = omc_Types_makeArraySubscripts(threadData, tmpMeta[1], _rest);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 6) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_makeArray(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inArrayDim)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _inArrayDim;
{
modelica_metatype _t = NULL;
modelica_integer _len;
modelica_metatype _l = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_2)) goto tmp2_end;
_t = tmp3_1;
tmpMeta[0] = _t;
goto tmp2_done;
}
case 1: {
_t = tmp3_1;
_l = tmp3_2;
_len = listLength(_l);
tmpMeta[2] = mmc_mk_box2(3, &DAE_Dimension_DIM__INTEGER__desc, mmc_mk_integer(_len));
tmpMeta[1] = mmc_mk_cons(tmpMeta[2], MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t, tmpMeta[1]);
tmpMeta[0] = tmpMeta[3];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_lookupComponent2(threadData_t *threadData, modelica_metatype _inVarLst, modelica_string _inIdent)
{
modelica_metatype _outVar = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_string tmp3_2;
tmp3_1 = _inVarLst;
tmp3_2 = _inIdent;
{
modelica_metatype _v = NULL;
modelica_string _n = NULL;
modelica_string _m = NULL;
modelica_metatype _vs = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_boolean tmp5;
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_v = tmpMeta[1];
_n = tmpMeta[3];
_m = tmp3_2;
tmp5 = (stringEqual(_n, _m));
if (1 != tmp5) goto goto_1;
tmpMeta[0] = _v;
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
_vs = tmpMeta[2];
_n = tmp3_2;
tmpMeta[0] = omc_Types_lookupComponent2(threadData, _vs, _n);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outVar = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outVar;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_lookupInBuiltin(threadData_t *threadData, modelica_metatype _inType, modelica_string _inIdent)
{
modelica_metatype _outVar = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_string tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _inIdent;
{
modelica_metatype _cs = NULL;
modelica_string _id = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 10; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_cs = tmpMeta[1];
_id = tmp3_2;
tmpMeta[0] = omc_Types_lookupComponent2(threadData, _cs, _id);
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_cs = tmpMeta[1];
_id = tmp3_2;
tmpMeta[0] = omc_Types_lookupComponent2(threadData, _cs, _id);
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_cs = tmpMeta[1];
_id = tmp3_2;
tmpMeta[0] = omc_Types_lookupComponent2(threadData, _cs, _id);
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_cs = tmpMeta[1];
_id = tmp3_2;
tmpMeta[0] = omc_Types_lookupComponent2(threadData, _cs, _id);
goto tmp2_done;
}
case 4: {
if (8 != MMC_STRLEN(tmp3_2) || strcmp(MMC_STRINGDATA(_OMC_LIT241), MMC_STRINGDATA(tmp3_2)) != 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (optionNone(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[0] = _OMC_LIT251;
goto tmp2_done;
}
case 5: {
if (3 != MMC_STRLEN(tmp3_2) || strcmp(MMC_STRINGDATA(_OMC_LIT252), MMC_STRINGDATA(tmp3_2)) != 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (optionNone(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[0] = _OMC_LIT259;
goto tmp2_done;
}
case 6: {
if (3 != MMC_STRLEN(tmp3_2) || strcmp(MMC_STRINGDATA(_OMC_LIT260), MMC_STRINGDATA(tmp3_2)) != 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (optionNone(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[0] = _OMC_LIT263;
goto tmp2_done;
}
case 7: {
if (5 != MMC_STRLEN(tmp3_2) || strcmp(MMC_STRINGDATA(_OMC_LIT264), MMC_STRINGDATA(tmp3_2)) != 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (optionNone(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[0] = _OMC_LIT265;
goto tmp2_done;
}
case 8: {
if (5 != MMC_STRLEN(tmp3_2) || strcmp(MMC_STRINGDATA(_OMC_LIT162), MMC_STRINGDATA(tmp3_2)) != 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (optionNone(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[0] = _OMC_LIT266;
goto tmp2_done;
}
case 9: {
if (6 != MMC_STRLEN(tmp3_2) || strcmp(MMC_STRINGDATA(_OMC_LIT267), MMC_STRINGDATA(tmp3_2)) != 0) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,5) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (optionNone(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
tmpMeta[0] = _OMC_LIT270;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outVar = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outVar;
}
DLLExport
modelica_metatype omc_Types_lookupComponent(threadData_t *threadData, modelica_metatype _inType, modelica_string _inIdent)
{
modelica_metatype _outVar = NULL;
modelica_metatype tmpMeta[6] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_string tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _inIdent;
{
modelica_metatype _v = NULL;
modelica_metatype _t = NULL;
modelica_metatype _ty = NULL;
modelica_string _n = NULL;
modelica_string _id = NULL;
modelica_metatype _cs = NULL;
modelica_metatype _dim = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 5; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
modelica_boolean tmp5;
_t = tmp3_1;
_n = tmp3_2;
tmp5 = omc_Types_basicType(threadData, _t);
if (1 != tmp5) goto goto_1;
tmpMeta[0] = omc_Types_lookupInBuiltin(threadData, _t, _n);
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_cs = tmpMeta[1];
_id = tmp3_2;
tmp3 += 3;
tmpMeta[0] = omc_Types_lookupComponent2(threadData, _cs, _id);
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_cs = tmpMeta[1];
_id = tmp3_2;
tmp3 += 2;
tmpMeta[0] = omc_Types_lookupComponent2(threadData, _cs, _id);
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],9,3) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[3])) goto tmp2_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp2_end;
_cs = tmpMeta[2];
_dim = tmpMeta[4];
_id = tmp3_2;
tmp3 += 1;
_v = omc_Types_lookupComponent2(threadData, _cs, _id);
tmpMeta[2] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 4))), tmpMeta[2]);
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_v), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[4] = tmpMeta[3];
_v = tmpMeta[1];
tmpMeta[0] = _v;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],10,4) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[3])) goto tmp2_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (!listEmpty(tmpMeta[5])) goto tmp2_end;
_cs = tmpMeta[2];
_dim = tmpMeta[4];
_id = tmp3_2;
_v = omc_Types_lookupComponent2(threadData, _cs, _id);
tmpMeta[2] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_v), 4))), tmpMeta[2]);
tmpMeta[1] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[1]), MMC_UNTAGPTR(_v), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[1]))[4] = tmpMeta[3];
_v = tmpMeta[1];
tmpMeta[0] = _v;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 5) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outVar = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outVar;
}
DLLExport
modelica_metatype omc_Types_varlistLookup(threadData_t *threadData, modelica_metatype _inVarLst, modelica_string _inIdent)
{
modelica_metatype _outVar = NULL;
modelica_string _name = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype _var;
for (tmpMeta[0] = _inVarLst; !listEmpty(tmpMeta[0]); tmpMeta[0]=MMC_CDR(tmpMeta[0]))
{
_var = MMC_CAR(tmpMeta[0]);
tmpMeta[1] = _var;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_name = tmpMeta[2];
if((stringEqual(_name, _inIdent)))
{
_outVar = _var;
goto _return;
}
}
}
MMC_THROW_INTERNAL();
_return: OMC_LABEL_UNUSED
return _outVar;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_subtypeVarlist(threadData_t *threadData, modelica_metatype _inVarLst1, modelica_metatype _inVarLst2)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
tmp4_1 = _inVarLst1;
tmp4_2 = _inVarLst2;
{
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _l = NULL;
modelica_metatype _vs = NULL;
modelica_string _n = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_2)) goto tmp3_end;
tmp4 += 1;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
modelica_boolean tmp6;
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[0] = MMC_CAR(tmp4_2);
tmpMeta[1] = MMC_CDR(tmp4_2);
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 4));
_n = tmpMeta[2];
_t2 = tmpMeta[3];
_vs = tmpMeta[1];
_l = tmp4_1;
tmpMeta[0] = omc_Types_varlistLookup(threadData, _l, _n);
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 4));
_t1 = tmpMeta[1];
tmp6 = omc_Types_subtype(threadData, _t1, _t2, 0);
if (1 != tmp6) goto goto_2;
tmp1 = omc_Types_subtypeVarlist(threadData, _l, _vs);
goto tmp3_done;
}
case 2: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_subtypeVarlist(threadData_t *threadData, modelica_metatype _inVarLst1, modelica_metatype _inVarLst2)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_subtypeVarlist(threadData, _inVarLst1, _inVarLst2);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_subtypeTypelist(threadData_t *threadData, modelica_metatype _inTypeLst1, modelica_metatype _inTypeLst2, modelica_boolean _requireRecordNamesEqual)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
tmp4_1 = _inTypeLst1;
tmp4_2 = _inTypeLst2;
{
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _rest1 = NULL;
modelica_metatype _rest2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!listEmpty(tmp4_1)) goto tmp3_end;
if (!listEmpty(tmp4_2)) goto tmp3_end;
tmp4 += 1;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
modelica_boolean tmp6;
if (listEmpty(tmp4_1)) goto tmp3_end;
tmpMeta[0] = MMC_CAR(tmp4_1);
tmpMeta[1] = MMC_CDR(tmp4_1);
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmp4_2);
tmpMeta[3] = MMC_CDR(tmp4_2);
_t1 = tmpMeta[0];
_rest1 = tmpMeta[1];
_t2 = tmpMeta[2];
_rest2 = tmpMeta[3];
tmp6 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
if (1 != tmp6) goto goto_2;
tmp1 = omc_Types_subtypeTypelist(threadData, _rest1, _rest2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 2: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_subtypeTypelist(threadData_t *threadData, modelica_metatype _inTypeLst1, modelica_metatype _inTypeLst2, modelica_metatype _requireRecordNamesEqual)
{
modelica_integer tmp1;
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
tmp1 = mmc_unbox_integer(_requireRecordNamesEqual);
_outBoolean = omc_Types_subtypeTypelist(threadData, _inTypeLst1, _inTypeLst2, tmp1);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_subtype(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2, modelica_boolean _requireRecordNamesEqual)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[12] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
tmp4_1 = _inType1;
tmp4_2 = _inType2;
{
modelica_boolean _b1;
modelica_boolean _b2;
modelica_string _l1 = NULL;
modelica_string _l2 = NULL;
modelica_metatype _els1 = NULL;
modelica_metatype _els2 = NULL;
modelica_metatype _p1 = NULL;
modelica_metatype _p2 = NULL;
modelica_metatype _t1 = NULL;
modelica_metatype _t2 = NULL;
modelica_metatype _tp2 = NULL;
modelica_metatype _tp1 = NULL;
modelica_metatype _st1 = NULL;
modelica_metatype _st2 = NULL;
modelica_metatype _type_list1 = NULL;
modelica_metatype _type_list2 = NULL;
modelica_metatype _tList1 = NULL;
modelica_metatype _tList2 = NULL;
modelica_metatype _names1 = NULL;
modelica_metatype _names2 = NULL;
modelica_metatype _dim1 = NULL;
modelica_metatype _dim2 = NULL;
modelica_metatype _dlst1 = NULL;
modelica_metatype _dlst2 = NULL;
modelica_metatype _farg1 = NULL;
modelica_metatype _farg2 = NULL;
modelica_metatype _c1 = NULL;
modelica_metatype _c2 = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 46; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,16,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,16,1) == 0) goto tmp3_end;
tmp4 += 19;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,0,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,0,1) == 0) goto tmp3_end;
tmp4 += 42;
tmp1 = 1;
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,1,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,1,1) == 0) goto tmp3_end;
tmp4 += 41;
tmp1 = 1;
goto tmp3_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,2,1) == 0) goto tmp3_end;
tmp4 += 40;
tmp1 = 1;
goto tmp3_done;
}
case 5: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,3,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,3,1) == 0) goto tmp3_end;
tmp4 += 39;
tmp1 = 1;
goto tmp3_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,4,1) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,4,1) == 0) goto tmp3_end;
tmp4 += 38;
tmp1 = 1;
goto tmp3_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,5) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (!listEmpty(tmpMeta[0])) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,5) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
if (!listEmpty(tmpMeta[0])) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,5,5) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
_names1 = tmpMeta[0];
_names2 = tmpMeta[1];
tmp4 += 35;
tmp1 = omc_List_isEqualOnTrue(threadData, _names1, _names2, boxvar_stringEq);
goto tmp3_done;
}
case 10: {
modelica_boolean tmp6;
modelica_boolean tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (listEmpty(tmpMeta[9])) goto tmp3_end;
tmpMeta[10] = MMC_CAR(tmpMeta[9]);
tmpMeta[11] = MMC_CDR(tmpMeta[9]);
_t1 = tmpMeta[0];
_dlst1 = tmpMeta[1];
_t2 = tmpMeta[6];
_dlst2 = tmpMeta[7];
tmp4 += 34;
tmp6 = omc_Expression_dimsEqual(threadData, _dlst1, _dlst2);
if (1 != tmp6) goto goto_2;
tmp7 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
if (1 != tmp7) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 11: {
modelica_boolean tmp8;
modelica_boolean tmp9;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (!listEmpty(tmpMeta[3])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[5])) goto tmp3_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
_t1 = tmpMeta[0];
_dim1 = tmpMeta[2];
_t2 = tmpMeta[4];
_dim2 = tmpMeta[6];
_dlst2 = tmpMeta[7];
tmp4 += 2;
tmp8 = omc_Expression_dimensionsEqual(threadData, _dim1, _dim2);
if (1 != tmp8) goto goto_2;
tmpMeta[0] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t2, _dlst2);
tmp9 = omc_Types_subtype(threadData, _t1, tmpMeta[0], _requireRecordNamesEqual);
if (1 != tmp9) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 12: {
modelica_boolean tmp10;
modelica_boolean tmp11;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (listEmpty(tmpMeta[3])) goto tmp3_end;
tmpMeta[4] = MMC_CAR(tmpMeta[3]);
tmpMeta[5] = MMC_CDR(tmpMeta[3]);
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[6] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[7] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[7])) goto tmp3_end;
tmpMeta[8] = MMC_CAR(tmpMeta[7]);
tmpMeta[9] = MMC_CDR(tmpMeta[7]);
if (!listEmpty(tmpMeta[9])) goto tmp3_end;
_t1 = tmpMeta[0];
_dim1 = tmpMeta[2];
_dlst1 = tmpMeta[3];
_t2 = tmpMeta[6];
_dim2 = tmpMeta[8];
tmp10 = omc_Expression_dimensionsEqual(threadData, _dim1, _dim2);
if (1 != tmp10) goto goto_2;
tmpMeta[0] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _t1, _dlst1);
tmp11 = omc_Types_subtype(threadData, tmpMeta[0], _t2, _requireRecordNamesEqual);
if (1 != tmp11) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 13: {
modelica_boolean tmp12;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[2])) goto tmp3_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],4,0) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[4])) goto tmp3_end;
_t1 = tmpMeta[0];
_t2 = tmpMeta[1];
tmp12 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
if (1 != tmp12) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 14: {
modelica_boolean tmp13;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp3_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],4,0) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[4])) goto tmp3_end;
_t2 = tmpMeta[0];
_t1 = tmpMeta[1];
tmp4 += 1;
tmp13 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
if (1 != tmp13) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 15: {
modelica_boolean tmp14;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],3,1) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[3])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[5])) goto tmp3_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[6],3,1) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[7])) goto tmp3_end;
_t1 = tmpMeta[0];
_t2 = tmpMeta[4];
tmp14 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
if (1 != tmp14) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 16: {
modelica_boolean tmp15;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[2])) goto tmp3_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],3,1) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[4])) goto tmp3_end;
_t1 = tmpMeta[0];
_t2 = tmpMeta[1];
tmp15 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
if (1 != tmp15) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 17: {
modelica_boolean tmp16;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp3_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[3],3,1) == 0) goto tmp3_end;
if (!listEmpty(tmpMeta[4])) goto tmp3_end;
_t2 = tmpMeta[0];
_t1 = tmpMeta[1];
tmp16 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
if (1 != tmp16) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 18: {
modelica_boolean tmp17;
modelica_boolean tmp18;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
if (!listEmpty(tmpMeta[3])) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,6,2) == 0) goto tmp3_end;
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[5] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
if (listEmpty(tmpMeta[5])) goto tmp3_end;
tmpMeta[6] = MMC_CAR(tmpMeta[5]);
tmpMeta[7] = MMC_CDR(tmpMeta[5]);
if (!listEmpty(tmpMeta[7])) goto tmp3_end;
_t1 = tmpMeta[0];
_dim1 = tmpMeta[2];
_t2 = tmpMeta[4];
_dim2 = tmpMeta[6];
tmp4 += 26;
tmp17 = omc_Expression_dimensionsKnownAndEqual(threadData, _dim1, _dim2);
if (1 != tmp17) goto goto_2;
tmp18 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
if (1 != tmp18) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 19: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],17,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,9,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[2],17,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[2]), 2));
_p1 = tmpMeta[1];
_p2 = tmpMeta[3];
tmp1 = omc_AbsynUtil_pathEqual(threadData, _p1, _p2);
goto tmp3_done;
}
case 20: {
modelica_boolean tmp19;
modelica_boolean tmp20;
modelica_boolean tmp21;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,9,3) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
_st1 = tmpMeta[0];
_els1 = tmpMeta[1];
_st2 = tmpMeta[2];
_els2 = tmpMeta[3];
tmp4 += 24;
tmp19 = (omc_Types_classTypeEqualIfRecord(threadData, _st1, _st2) || (!_requireRecordNamesEqual));
if (1 != tmp19) goto goto_2;
tmp20 = (listLength(_els1) == listLength(_els2));
if (1 != tmp20) goto goto_2;
tmp21 = omc_Types_subtypeVarlist(threadData, _els1, _els2);
if (1 != tmp21) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 21: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_tp1 = tmpMeta[0];
_tp2 = tmp4_2;
tmp1 = omc_Types_subtype(threadData, _tp1, _tp2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 22: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
_tp2 = tmpMeta[0];
_tp1 = tmp4_1;
tmp4 += 6;
tmp1 = omc_Types_subtype(threadData, _tp1, _tp2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 23: {
modelica_boolean tmp22;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,14,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_type_list1 = tmpMeta[0];
_type_list2 = tmpMeta[1];
tmp4 += 21;
tmp22 = omc_Types_subtypeTypelist(threadData, _type_list1, _type_list2, _requireRecordNamesEqual);
if (1 != tmp22) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 24: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,17,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,17,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_t1 = tmpMeta[0];
_t2 = tmpMeta[1];
tmp4 += 20;
tmp1 = omc_Types_subtype(threadData, _t1, _t2, 1);
goto tmp3_done;
}
case 25: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,22,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,22,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_t1 = tmpMeta[0];
_t2 = tmpMeta[1];
tmp4 += 19;
tmp1 = omc_Types_subtype(threadData, _t1, _t2, 1);
goto tmp3_done;
}
case 26: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,18,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_tList1 = tmpMeta[0];
_tList2 = tmpMeta[1];
tmp4 += 18;
tmp1 = omc_Types_subtypeTypelist(threadData, _tList1, _tList2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 27: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,19,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,19,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_t1 = tmpMeta[0];
_t2 = tmpMeta[1];
tmp4 += 17;
tmp1 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 28: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,23,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_t1 = tmpMeta[0];
_t2 = tmpMeta[1];
tmp1 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 29: {
modelica_boolean tmp23;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,23,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_t1 = tmpMeta[0];
_t2 = tmp4_2;
tmp23 = omc_Types_isBoxedType(threadData, _t2);
if (1 != tmp23) goto goto_2;
tmp1 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 30: {
modelica_boolean tmp24;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,23,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_t2 = tmpMeta[0];
_t1 = tmp4_1;
tmp4 += 1;
tmp24 = omc_Types_isBoxedType(threadData, _t1);
if (1 != tmp24) goto goto_2;
tmp1 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 31: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,24,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,24,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_l1 = tmpMeta[0];
_l2 = tmpMeta[1];
tmp4 += 13;
tmp1 = (stringEqual(_l1, _l2));
goto tmp3_done;
}
case 32: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,8,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 33: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,8,0) == 0) goto tmp3_end;
tmp4 += 10;
tmp1 = 1;
goto tmp3_done;
}
case 34: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,7,0) == 0) goto tmp3_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,7,0) == 0) goto tmp3_end;
tmp4 += 10;
tmp1 = 1;
goto tmp3_done;
}
case 35: {
modelica_boolean tmp29;
modelica_boolean tmp30;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,11,4) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
_farg1 = tmpMeta[0];
_t1 = tmpMeta[1];
_farg2 = tmpMeta[2];
_t2 = tmpMeta[3];
tmp4 += 9;
{
modelica_metatype __omcQ_24tmpVar31;
modelica_metatype* tmp25;
modelica_metatype __omcQ_24tmpVar30;
int tmp26;
modelica_metatype _t_loopVar = 0;
modelica_metatype _t;
_t_loopVar = _farg1;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar31 = tmpMeta[1];
tmp25 = &__omcQ_24tmpVar31;
while(1) {
tmp26 = 1;
if (!listEmpty(_t_loopVar)) {
_t = MMC_CAR(_t_loopVar);
_t_loopVar = MMC_CDR(_t_loopVar);
tmp26--;
}
if (tmp26 == 0) {
__omcQ_24tmpVar30 = omc_Types_traverseType(threadData, omc_Types_funcArgType(threadData, _t), mmc_mk_integer(((modelica_integer) 1)), boxvar_Types_unboxedTypeTraverseHelper, NULL);
*tmp25 = mmc_mk_cons(__omcQ_24tmpVar30,0);
tmp25 = &MMC_CDR(*tmp25);
} else if (tmp26 == 1) {
break;
} else {
goto goto_2;
}
}
*tmp25 = mmc_mk_nil();
tmpMeta[0] = __omcQ_24tmpVar31;
}
_tList1 = tmpMeta[0];
{
modelica_metatype __omcQ_24tmpVar33;
modelica_metatype* tmp27;
modelica_metatype __omcQ_24tmpVar32;
int tmp28;
modelica_metatype _t_loopVar = 0;
modelica_metatype _t;
_t_loopVar = _farg2;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
__omcQ_24tmpVar33 = tmpMeta[1];
tmp27 = &__omcQ_24tmpVar33;
while(1) {
tmp28 = 1;
if (!listEmpty(_t_loopVar)) {
_t = MMC_CAR(_t_loopVar);
_t_loopVar = MMC_CDR(_t_loopVar);
tmp28--;
}
if (tmp28 == 0) {
__omcQ_24tmpVar32 = omc_Types_traverseType(threadData, omc_Types_funcArgType(threadData, _t), mmc_mk_integer(((modelica_integer) 1)), boxvar_Types_unboxedTypeTraverseHelper, NULL);
*tmp27 = mmc_mk_cons(__omcQ_24tmpVar32,0);
tmp27 = &MMC_CDR(*tmp27);
} else if (tmp28 == 1) {
break;
} else {
goto goto_2;
}
}
*tmp27 = mmc_mk_nil();
tmpMeta[0] = __omcQ_24tmpVar33;
}
_tList2 = tmpMeta[0];
_t1 = omc_Types_traverseType(threadData, _t1, mmc_mk_integer(((modelica_integer) 1)), boxvar_Types_unboxedTypeTraverseHelper, NULL);
_t2 = omc_Types_traverseType(threadData, _t2, mmc_mk_integer(((modelica_integer) 1)), boxvar_Types_unboxedTypeTraverseHelper, NULL);
tmp29 = omc_Types_subtypeTypelist(threadData, _tList1, _tList2, _requireRecordNamesEqual);
if (1 != tmp29) goto goto_2;
tmp30 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
if (1 != tmp30) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 36: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,12,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,12,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_t1 = tmpMeta[0];
_t2 = tmpMeta[1];
tmp4 += 8;
tmp1 = omc_Types_subtype(threadData, _t1, _t2, 1);
goto tmp3_done;
}
case 37: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,6) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,21,6) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_p1 = tmpMeta[0];
_p2 = tmpMeta[1];
tmp4 += 7;
tmp1 = omc_AbsynUtil_pathEqual(threadData, _p1, _p2);
goto tmp3_done;
}
case 38: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,5) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,21,6) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 3));
_p1 = tmpMeta[0];
_p2 = tmpMeta[1];
tmp4 += 6;
tmp1 = (omc_AbsynUtil_pathEqual(threadData, _p1, _p2)?omc_Types_subtypeTypelist(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType2), 4))), _requireRecordNamesEqual):0);
goto tmp3_done;
}
case 39: {
modelica_integer tmp31;
modelica_integer tmp32;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,21,6) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 7));
tmp31 = mmc_unbox_integer(tmpMeta[1]);
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,20,5) == 0) goto tmp3_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 4));
tmp32 = mmc_unbox_integer(tmpMeta[2]);
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
_p1 = tmpMeta[0];
_b1 = tmp31;
_b2 = tmp32;
_p2 = tmpMeta[3];
tmp4 += 5;
tmp1 = ((omc_AbsynUtil_pathEqual(threadData, _p1, _p2) && (_b1 || _b2))?omc_Types_subtypeTypelist(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 4))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType2), 3))), _requireRecordNamesEqual):0);
goto tmp3_done;
}
case 40: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,20,5) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 6));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,20,5) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 6));
_p1 = tmpMeta[0];
_p2 = tmpMeta[1];
tmp4 += 4;
tmp1 = (omc_AbsynUtil_pathEqual(threadData, _p1, _p2)?omc_Types_subtypeTypelist(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType1), 3))), (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType2), 3))), _requireRecordNamesEqual):0);
goto tmp3_done;
}
case 41: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,15,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,15,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_c1 = tmpMeta[0];
_c2 = tmpMeta[1];
tmp4 += 3;
tmp1 = valueEq(_c1, _c2);
goto tmp3_done;
}
case 42: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,25,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,25,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_t1 = tmpMeta[0];
_t2 = tmpMeta[1];
tmp1 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 43: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_2,25,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_2), 2));
_t2 = tmpMeta[0];
_t1 = tmp4_1;
tmp1 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 44: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,25,1) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_t1 = tmpMeta[0];
_t2 = tmp4_2;
tmp1 = omc_Types_subtype(threadData, _t1, _t2, _requireRecordNamesEqual);
goto tmp3_done;
}
case 45: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 46) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_subtype(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2, modelica_metatype _requireRecordNamesEqual)
{
modelica_integer tmp1;
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
tmp1 = mmc_unbox_integer(_requireRecordNamesEqual);
_outBoolean = omc_Types_subtype(threadData, _inType1, _inType2, tmp1);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_equivtypesOrRecordSubtypeOf(threadData_t *threadData, modelica_metatype _t1, modelica_metatype _t2)
{
modelica_boolean _outBoolean;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outBoolean = (omc_Types_subtype(threadData, _t1, _t2, 0) && omc_Types_subtype(threadData, _t2, _t1, 0));
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_equivtypesOrRecordSubtypeOf(threadData_t *threadData, modelica_metatype _t1, modelica_metatype _t2)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_equivtypesOrRecordSubtypeOf(threadData, _t1, _t2);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_equivtypes(threadData_t *threadData, modelica_metatype _t1, modelica_metatype _t2)
{
modelica_boolean _outBoolean;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outBoolean = (omc_Types_subtype(threadData, _t1, _t2, 1) && omc_Types_subtype(threadData, _t2, _t1, 1));
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_equivtypes(threadData_t *threadData, modelica_metatype _t1, modelica_metatype _t2)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_equivtypes(threadData, _t1, _t2);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_semiEquivTypes(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2)
{
modelica_boolean _outEquiv;
modelica_metatype _ty1 = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _dims1 = NULL;
modelica_metatype _dims2 = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
if((omc_Types_arrayType(threadData, _inType1) && omc_Types_arrayType(threadData, _inType2)))
{
_ty1 = omc_Types_flattenArrayType(threadData, _inType1 ,&_dims1);
_ty2 = omc_Types_flattenArrayType(threadData, _inType2 ,&_dims2);
_outEquiv = (omc_Types_equivtypes(threadData, _inType1, _inType2) && (listLength(_dims1) == listLength(_dims2)));
}
else
{
if(((!omc_Types_arrayType(threadData, _inType1)) && (!omc_Types_arrayType(threadData, _inType2))))
{
_outEquiv = omc_Types_equivtypes(threadData, _inType1, _inType2);
}
else
{
_outEquiv = 0;
}
}
_return: OMC_LABEL_UNUSED
return _outEquiv;
}
modelica_metatype boxptr_Types_semiEquivTypes(threadData_t *threadData, modelica_metatype _inType1, modelica_metatype _inType2)
{
modelica_boolean _outEquiv;
modelica_metatype out_outEquiv;
_outEquiv = omc_Types_semiEquivTypes(threadData, _inType1, _inType2);
out_outEquiv = mmc_mk_icon(_outEquiv);
return out_outEquiv;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_setVarType(threadData_t *threadData, modelica_metatype _var, modelica_metatype _ty)
{
modelica_metatype _outV = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outV = _var;
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_outV), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[4] = _ty;
_outV = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outV;
}
DLLExport
modelica_metatype omc_Types_setVarProtected(threadData_t *threadData, modelica_metatype _var)
{
modelica_metatype _outV = NULL;
modelica_metatype _attrs = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outV = _var;
_attrs = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outV), 3)));
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_attrs), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[7] = _OMC_LIT271;
_attrs = tmpMeta[0];
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_outV), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[3] = _attrs;
_outV = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outV;
}
DLLExport
modelica_metatype omc_Types_setVarDefaultInput(threadData_t *threadData, modelica_metatype _var)
{
modelica_metatype _outV = NULL;
modelica_metatype _attrs = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outV = _var;
_attrs = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outV), 3)));
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_attrs), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[2] = _OMC_LIT242;
_attrs = tmpMeta[0];
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_attrs), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[4] = _OMC_LIT272;
_attrs = tmpMeta[0];
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_attrs), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[5] = _OMC_LIT273;
_attrs = tmpMeta[0];
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_attrs), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[6] = _OMC_LIT245;
_attrs = tmpMeta[0];
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_attrs), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[7] = _OMC_LIT246;
_attrs = tmpMeta[0];
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_outV), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[3] = _attrs;
_outV = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outV;
}
DLLExport
modelica_metatype omc_Types_setVarInput(threadData_t *threadData, modelica_metatype _var)
{
modelica_metatype _outV = NULL;
modelica_metatype _attrs = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outV = _var;
_attrs = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_outV), 3)));
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_attrs), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[5] = _OMC_LIT273;
_attrs = tmpMeta[0];
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_outV), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[3] = _attrs;
_outV = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outV;
}
DLLExport
modelica_boolean omc_Types_arrayType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_arrayType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_arrayType(threadData, _inType);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_metatype omc_Types_derivedBasicType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4)));
goto _tailrecursive;
goto tmp2_done;
}
case 1: {
tmpMeta[0] = _inType;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_boolean omc_Types_extendsBasicType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_extendsBasicType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_extendsBasicType(threadData, _inType);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_basicType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 3: {
tmp1 = 1;
goto tmp3_done;
}
case 4: {
tmp1 = 1;
goto tmp3_done;
}
case 5: {
tmp1 = 1;
goto tmp3_done;
}
case 6: {
tmp1 = 1;
goto tmp3_done;
}
case 7: {
tmp1 = 1;
goto tmp3_done;
}
case 8: {
tmp1 = 1;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_basicType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_basicType(threadData, _inType);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
static modelica_metatype closure0_ValuesUtil_valueExp(threadData_t *thData, modelica_metatype closure, modelica_metatype inValue)
{
modelica_metatype originalExp = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(closure),1));
return boxptr_ValuesUtil_valueExp(thData, inValue, originalExp);
}
DLLExport
modelica_metatype omc_Types_typeOfValue(threadData_t *threadData, modelica_metatype _inValue)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inValue;
{
modelica_metatype _tp = NULL;
modelica_integer _dim1;
modelica_integer _index;
modelica_metatype _v = NULL;
modelica_metatype _vs = NULL;
modelica_metatype _vl = NULL;
modelica_metatype _ts = NULL;
modelica_metatype _vars = NULL;
modelica_string _str = NULL;
modelica_metatype _cname = NULL;
modelica_metatype _path = NULL;
modelica_metatype _utPath = NULL;
modelica_metatype _ids = NULL;
modelica_metatype _explist = NULL;
modelica_metatype _valType = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 24; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,16,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_valType = tmpMeta[1];
tmp3 += 22;
tmpMeta[0] = omc_Types_typeOfValue(threadData, _valType);
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmp3 += 21;
tmpMeta[0] = _OMC_LIT6;
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmp3 += 20;
tmpMeta[0] = _OMC_LIT4;
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,2,1) == 0) goto tmp2_end;
tmp3 += 19;
tmpMeta[0] = _OMC_LIT7;
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,3,1) == 0) goto tmp2_end;
tmp3 += 18;
tmpMeta[0] = _OMC_LIT8;
goto tmp2_done;
}
case 5: {
modelica_integer tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,4,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmp5 = mmc_unbox_integer(tmpMeta[2]);
_path = tmpMeta[1];
_index = tmp5;
tmp3 += 17;
_path = omc_AbsynUtil_pathPrefix(threadData, _path);
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[2] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[3] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[4] = mmc_mk_box6(8, &DAE_Type_T__ENUMERATION__desc, mmc_mk_some(mmc_mk_integer(_index)), _path, tmpMeta[1], tmpMeta[2], tmpMeta[3]);
tmpMeta[0] = tmpMeta[4];
goto tmp2_done;
}
case 6: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_v = tmpMeta[2];
_vs = tmpMeta[3];
tmp3 += 16;
_tp = omc_Types_typeOfValue(threadData, _v);
tmpMeta[1] = mmc_mk_cons(_v, _vs);
_dim1 = listLength(tmpMeta[1]);
tmpMeta[2] = mmc_mk_box2(3, &DAE_Dimension_DIM__INTEGER__desc, mmc_mk_integer(_dim1));
tmpMeta[1] = mmc_mk_cons(tmpMeta[2], MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[3] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _tp, tmpMeta[1]);
tmpMeta[0] = tmpMeta[3];
goto tmp2_done;
}
case 7: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,5,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (!listEmpty(tmpMeta[1])) goto tmp2_end;
tmp3 += 15;
tmpMeta[0] = _OMC_LIT276;
goto tmp2_done;
}
case 8: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,8,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_vs = tmpMeta[1];
tmp3 += 14;
_ts = omc_List_map(threadData, _vs, boxvar_Types_typeOfValue);
tmpMeta[1] = mmc_mk_box3(17, &DAE_Type_T__TUPLE__desc, _ts, mmc_mk_none());
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 9: {
modelica_integer tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
tmp6 = mmc_unbox_integer(tmpMeta[4]);
if (-1 != tmp6) goto tmp2_end;
_cname = tmpMeta[1];
_vl = tmpMeta[2];
_ids = tmpMeta[3];
_vars = omc_Types_valuesToVars(threadData, _vl, _ids);
tmpMeta[1] = mmc_mk_box2(6, &ClassInf_State_RECORD__desc, _cname);
tmpMeta[2] = mmc_mk_box4(12, &DAE_Type_T__COMPLEX__desc, tmpMeta[1], _vars, mmc_mk_none());
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 10: {
modelica_integer tmp7;
modelica_boolean tmp8;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
tmp7 = mmc_unbox_integer(tmpMeta[4]);
_cname = tmpMeta[1];
_vl = tmpMeta[2];
_ids = tmpMeta[3];
_index = tmp7;
tmp3 += 12;
tmp8 = (_index >= ((modelica_integer) 0));
if (1 != tmp8) goto goto_1;
_vars = omc_Types_valuesToVars(threadData, _vl, _ids);
_utPath = omc_AbsynUtil_stripLast(threadData, _cname);
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[2] = mmc_mk_box7(24, &DAE_Type_T__METARECORD__desc, _cname, _utPath, tmpMeta[1], mmc_mk_integer(_index), _vars, mmc_mk_boolean(0));
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 11: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_vl = tmpMeta[1];
tmp3 += 11;
tmpMeta[1] = mmc_mk_box1(0, mmc_mk_none());
_explist = omc_List_map(threadData, _vl, (modelica_fnptr) mmc_mk_box2(0,closure0_ValuesUtil_valueExp,tmpMeta[1]));
_ts = omc_List_map(threadData, _vl, boxvar_Types_typeOfValue);
omc_Types_listMatchSuperType(threadData, _explist, _ts, 1 ,&_tp);
_tp = omc_Types_boxIfUnboxedType(threadData, _tp);
tmpMeta[1] = mmc_mk_box2(20, &DAE_Type_T__METALIST__desc, _tp);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 12: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (!optionNone(tmpMeta[1])) goto tmp2_end;
tmp3 += 10;
tmpMeta[0] = _OMC_LIT277;
goto tmp2_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (optionNone(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 1));
_v = tmpMeta[2];
tmp3 += 9;
_tp = omc_Types_boxIfUnboxedType(threadData, omc_Types_typeOfValue(threadData, _v));
tmpMeta[1] = mmc_mk_box2(22, &DAE_Type_T__METAOPTION__desc, _tp);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_vs = tmpMeta[1];
tmp3 += 8;
_ts = omc_List_mapMap(threadData, _vs, boxvar_Types_typeOfValue, boxvar_Types_boxIfUnboxedType);
tmpMeta[1] = mmc_mk_box2(21, &DAE_Type_T__METATUPLE__desc, _ts);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 15: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_v = tmpMeta[2];
tmp3 += 7;
_tp = omc_Types_boxIfUnboxedType(threadData, omc_Types_typeOfValue(threadData, _v));
tmpMeta[1] = mmc_mk_box2(25, &DAE_Type_T__METAARRAY__desc, _tp);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 16: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,7,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (!listEmpty(tmpMeta[1])) goto tmp2_end;
tmp3 += 6;
tmpMeta[0] = _OMC_LIT278;
goto tmp2_done;
}
case 17: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,14,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_v = tmpMeta[1];
tmp3 += 5;
_tp = omc_Types_typeOfValue(threadData, _v);
tmpMeta[0] = omc_Types_boxIfUnboxedType(threadData, _tp);
goto tmp2_done;
}
case 18: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,13,0) == 0) goto tmp2_end;
tmp3 += 4;
tmpMeta[0] = _OMC_LIT142;
goto tmp2_done;
}
case 19: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,12,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,1) == 0) goto tmp2_end;
tmp3 += 3;
tmpMeta[0] = _OMC_LIT280;
goto tmp2_done;
}
case 20: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,12,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,1) == 0) goto tmp2_end;
tmp3 += 2;
tmpMeta[0] = _OMC_LIT282;
goto tmp2_done;
}
case 21: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,12,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],6,1) == 0) goto tmp2_end;
tmp3 += 1;
tmpMeta[0] = _OMC_LIT284;
goto tmp2_done;
}
case 22: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,12,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],7,1) == 0) goto tmp2_end;
tmpMeta[0] = _OMC_LIT286;
goto tmp2_done;
}
case 23: {
_v = tmp3_1;
tmpMeta[1] = stringAppend(_OMC_LIT287,omc_ValuesUtil_valString(threadData, _v));
_str = tmpMeta[1];
tmpMeta[1] = mmc_mk_cons(_str, MMC_REFSTRUCTLIT(mmc_nil));
omc_Error_addMessage(threadData, _OMC_LIT77, tmpMeta[1]);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 24) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
DLLExport
modelica_metatype omc_Types_valuesToVars(threadData_t *threadData, modelica_metatype _inValuesValueLst, modelica_metatype _inExpIdentLst)
{
modelica_metatype _outVarLst = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_metatype tmp3_2;
tmp3_1 = _inValuesValueLst;
tmp3_2 = _inExpIdentLst;
{
modelica_metatype _tp = NULL;
modelica_metatype _rest = NULL;
modelica_metatype _v = NULL;
modelica_metatype _vs = NULL;
modelica_string _id = NULL;
modelica_metatype _ids = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
if (!listEmpty(tmp3_2)) goto tmp2_end;
tmp3 += 1;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (listEmpty(tmp3_2)) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmp3_2);
tmpMeta[4] = MMC_CDR(tmp3_2);
_v = tmpMeta[1];
_vs = tmpMeta[2];
_id = tmpMeta[3];
_ids = tmpMeta[4];
_tp = omc_Types_typeOfValue(threadData, _v);
_rest = omc_Types_valuesToVars(threadData, _vs, _ids);
tmpMeta[2] = mmc_mk_box7(3, &DAE_Var_TYPES__VAR__desc, _id, _OMC_LIT288, _tp, _OMC_LIT258, mmc_mk_boolean(0), mmc_mk_none());
tmpMeta[1] = mmc_mk_cons(tmpMeta[2], _rest);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
modelica_boolean tmp5;
tmp5 = omc_Flags_isSet(threadData, _OMC_LIT58);
if (1 != tmp5) goto goto_1;
omc_Debug_trace(threadData, _OMC_LIT289);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outVarLst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outVarLst;
}
DLLExport
modelica_string omc_Types_printDimensionsStr(threadData_t *threadData, modelica_metatype _dims)
{
modelica_string _res = NULL;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_res = stringDelimitList(omc_List_map(threadData, _dims, boxvar_ExpressionDump_dimensionString), _OMC_LIT115);
_return: OMC_LABEL_UNUSED
return _res;
}
DLLExport
modelica_metatype omc_Types_setDimensionNth(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDim, modelica_integer _inDimNth)
{
modelica_metatype _outType = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;modelica_integer tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _inDimNth;
{
modelica_metatype _dim = NULL;
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (1 != tmp3_2) goto tmp2_end;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_ty = tmpMeta[1];
tmpMeta[1] = mmc_mk_cons(_inDim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 1: {
modelica_boolean tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_ty = tmpMeta[1];
_dim = tmpMeta[3];
tmp5 = (_inDimNth > ((modelica_integer) 1));
if (1 != tmp5) goto goto_1;
_ty = omc_Types_setDimensionNth(threadData, _ty, _inDim, ((modelica_integer) -1) + _inDimNth);
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outType;
}
modelica_metatype boxptr_Types_setDimensionNth(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDim, modelica_metatype _inDimNth)
{
modelica_integer tmp1;
modelica_metatype _outType = NULL;
tmp1 = mmc_unbox_integer(_inDimNth);
_outType = omc_Types_setDimensionNth(threadData, _inType, _inDim, tmp1);
return _outType;
}
DLLExport
modelica_metatype omc_Types_getDimensionNth(threadData_t *threadData, modelica_metatype _inType, modelica_integer _inDim)
{
modelica_metatype _outDimension = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;volatile modelica_integer tmp3_2;
tmp3_1 = _inType;
tmp3_2 = _inDim;
{
modelica_metatype _t = NULL;
modelica_integer _d;
modelica_integer _dc;
modelica_metatype _dims = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_dims = tmpMeta[1];
_d = tmp3_2;
tmpMeta[0] = listGet(_dims, _d);
goto tmp2_done;
}
case 1: {
modelica_boolean tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_t = tmpMeta[1];
_dims = tmpMeta[2];
_d = tmp3_2;
tmp3 += 1;
_dc = listLength(_dims);
tmp5 = (_d > _dc);
if (1 != tmp5) goto goto_1;
tmpMeta[0] = omc_Types_getDimensionNth(threadData, _t, _d - _dc);
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_t = tmpMeta[1];
_d = tmp3_2;
tmpMeta[0] = omc_Types_getDimensionNth(threadData, _t, _d);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 3) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outDimension = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outDimension;
}
modelica_metatype boxptr_Types_getDimensionNth(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDim)
{
modelica_integer tmp1;
modelica_metatype _outDimension = NULL;
tmp1 = mmc_unbox_integer(_inDim);
_outDimension = omc_Types_getDimensionNth(threadData, _inType, tmp1);
return _outDimension;
}
DLLExport
modelica_metatype omc_Types_getDimensions(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outDimensions = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 9: {
tmpMeta[0] = listAppend((MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 3))), omc_Types_getDimensions(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)))));
goto tmp2_done;
}
case 25: {
tmpMeta[1] = mmc_mk_cons(_OMC_LIT10, omc_Types_getDimensions(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)))));
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 13: {
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4)));
goto _tailrecursive;
goto tmp2_done;
}
case 28: {
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 2)));
goto _tailrecursive;
goto tmp2_done;
}
default:
tmp2_default: OMC_LABEL_UNUSED; {
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outDimensions = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outDimensions;
}
DLLExport
modelica_integer omc_Types_getDimensionProduct(threadData_t *threadData, modelica_metatype _inType)
{
modelica_integer _sz;
modelica_integer tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _dims = NULL;
modelica_metatype _tp = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 9: {
modelica_integer tmp5;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_tp = tmpMeta[0];
_dims = tmpMeta[1];
{
modelica_integer __omcQ_24tmpVar35;
modelica_integer __omcQ_24tmpVar34;
int tmp6;
modelica_metatype _d_loopVar = 0;
modelica_metatype _d;
_d_loopVar = _dims;
__omcQ_24tmpVar35 = ((modelica_integer) 1);
while(1) {
tmp6 = 1;
if (!listEmpty(_d_loopVar)) {
_d = MMC_CAR(_d_loopVar);
_d_loopVar = MMC_CDR(_d_loopVar);
tmp6--;
}
if (tmp6 == 0) {
__omcQ_24tmpVar34 = omc_Expression_dimensionSize(threadData, _d);
__omcQ_24tmpVar35 = (__omcQ_24tmpVar35) * (__omcQ_24tmpVar34);
} else if (tmp6 == 1) {
break;
} else {
goto goto_2;
}
}
tmp5 = __omcQ_24tmpVar35;
}
tmp1 = (tmp5) * (omc_Types_getDimensionProduct(threadData, _tp));
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_tp = tmpMeta[0];
_inType = _tp;
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
modelica_boolean tmp7;
tmp7 = omc_Types_arrayType(threadData, _inType);
if (0 != tmp7) goto goto_2;
tmp1 = ((modelica_integer) 1);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_sz = tmp1;
_return: OMC_LABEL_UNUSED
return _sz;
}
modelica_metatype boxptr_Types_getDimensionProduct(threadData_t *threadData, modelica_metatype _inType)
{
modelica_integer _sz;
modelica_metatype out_sz;
_sz = omc_Types_getDimensionProduct(threadData, _inType);
out_sz = mmc_mk_icon(_sz);
return out_sz;
}
DLLExport
modelica_metatype omc_Types_getDimensionSizes(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _outIntegerLst = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _res = NULL;
modelica_metatype _d = NULL;
modelica_metatype _dims = NULL;
modelica_integer _i;
modelica_metatype _tp = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 5; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
_tp = tmpMeta[1];
_d = tmpMeta[3];
_dims = tmpMeta[4];
_i = omc_Expression_dimensionSize(threadData, _d);
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _tp, _dims);
_res = omc_Types_getDimensionSizes(threadData, tmpMeta[1]);
tmpMeta[1] = mmc_mk_cons(mmc_mk_integer(_i), _res);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
_tp = tmpMeta[1];
_dims = tmpMeta[4];
tmp3 += 2;
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _tp, _dims);
_res = omc_Types_getDimensionSizes(threadData, tmpMeta[1]);
tmpMeta[1] = mmc_mk_cons(mmc_mk_integer(((modelica_integer) 0)), _res);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (!listEmpty(tmpMeta[2])) goto tmp2_end;
_tp = tmpMeta[1];
tmp3 += 1;
tmpMeta[0] = omc_Types_getDimensionSizes(threadData, _tp);
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_tp = tmpMeta[1];
tmpMeta[0] = omc_Types_getDimensionSizes(threadData, _tp);
goto tmp2_done;
}
case 4: {
modelica_boolean tmp5;
tmp5 = omc_Types_arrayType(threadData, _inType);
if (0 != tmp5) goto goto_1;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 5) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outIntegerLst = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outIntegerLst;
}
DLLExport
modelica_boolean omc_Types_dimensionsKnown(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outRes;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _d = NULL;
modelica_metatype _dims = NULL;
modelica_metatype _tp = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 5; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_boolean tmp6;
modelica_boolean tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_tp = tmpMeta[0];
_d = tmpMeta[2];
_dims = tmpMeta[3];
tmp4 += 1;
tmp6 = omc_Expression_dimensionKnown(threadData, _d);
if (1 != tmp6) goto goto_2;
tmpMeta[0] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _tp, _dims);
tmp7 = omc_Types_dimensionsKnown(threadData, tmpMeta[0]);
if (1 != tmp7) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
modelica_boolean tmp8;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (!listEmpty(tmpMeta[1])) goto tmp3_end;
_tp = tmpMeta[0];
tmp8 = omc_Types_dimensionsKnown(threadData, _tp);
if (1 != tmp8) goto goto_2;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmp4 += 1;
tmp1 = 0;
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_tp = tmpMeta[0];
tmp1 = omc_Types_dimensionsKnown(threadData, _tp);
goto tmp3_done;
}
case 4: {
tmp1 = 1;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 5) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outRes = tmp1;
_return: OMC_LABEL_UNUSED
return _outRes;
}
modelica_metatype boxptr_Types_dimensionsKnown(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outRes;
modelica_metatype out_outRes;
_outRes = omc_Types_dimensionsKnown(threadData, _inType);
out_outRes = mmc_mk_icon(_outRes);
return out_outRes;
}
DLLExport
modelica_integer omc_Types_numberOfDimensions(threadData_t *threadData, modelica_metatype _inType)
{
modelica_integer _outInteger;
modelica_integer tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_integer _n;
modelica_metatype _t = NULL;
modelica_metatype _dims = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_t = tmpMeta[0];
_dims = tmpMeta[1];
tmp4 += 1;
_n = omc_Types_numberOfDimensions(threadData, _t);
tmp1 = _n + listLength(_dims);
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_t = tmpMeta[0];
tmp1 = omc_Types_numberOfDimensions(threadData, _t);
goto tmp3_done;
}
case 2: {
tmp1 = ((modelica_integer) 0);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 3) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outInteger = tmp1;
_return: OMC_LABEL_UNUSED
return _outInteger;
}
modelica_metatype boxptr_Types_numberOfDimensions(threadData_t *threadData, modelica_metatype _inType)
{
modelica_integer _outInteger;
modelica_metatype out_outInteger;
_outInteger = omc_Types_numberOfDimensions(threadData, _inType);
out_outInteger = mmc_mk_icon(_outInteger);
return out_outInteger;
}
DLLExport
modelica_boolean omc_Types_isArrayOrString(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
_ty = tmp4_1;
if (!omc_Types_isArray(threadData, _ty)) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
_ty = tmp4_1;
if (!omc_Types_isString(threadData, _ty)) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_isArrayOrString(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_isArrayOrString(threadData, _inType);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_isEnumeration(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = omc_Types_arrayElementType(threadData, _inType);
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,5,5) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_isEnumeration(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_isEnumeration(threadData, _inType);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_isString(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,2,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_isString(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_isString(threadData, _inType);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_isEmptyArray(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_integer tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,1) == 0) goto tmp3_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmp6 = mmc_unbox_integer(tmpMeta[3]);
if (0 != tmp6) goto tmp3_end;
if (!listEmpty(tmpMeta[2])) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_isEmptyArray(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_isEmptyArray(threadData, _inType);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
modelica_boolean omc_Types_isArray(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsArray;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 9: {
tmp1 = 1;
goto tmp3_done;
}
case 13: {
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4)));
goto _tailrecursive;
goto tmp3_done;
}
case 14: {
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 3)));
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsArray = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsArray;
}
modelica_metatype boxptr_Types_isArray(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsArray;
modelica_metatype out_outIsArray;
_outIsArray = omc_Types_isArray(threadData, _inType);
out_outIsArray = mmc_mk_icon(_outIsArray);
return out_outIsArray;
}
DLLExport
modelica_boolean omc_Types_isNonscalarArray(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDims)
{
modelica_boolean _outBoolean;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp4_1;volatile modelica_metatype tmp4_2;
tmp4_1 = _inType;
tmp4_2 = _inDims;
{
modelica_metatype _t = NULL;
modelica_metatype _tys = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp3_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp4 < 5; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (listEmpty(tmp4_2)) goto tmp3_end;
tmpMeta[0] = MMC_CAR(tmp4_2);
tmpMeta[1] = MMC_CDR(tmp4_2);
if (listEmpty(tmpMeta[1])) goto tmp3_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
tmp1 = 1;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmp4 += 2;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_t = tmpMeta[0];
tmp4 += 1;
tmpMeta[0] = MMC_REFSTRUCTLIT(mmc_nil);
tmp1 = omc_Types_isNonscalarArray(threadData, _t, tmpMeta[0]);
goto tmp3_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_tys = tmpMeta[0];
tmpMeta[0] = MMC_REFSTRUCTLIT(mmc_nil);
tmp1 = mmc_unbox_boolean(omc_List_applyAndFold1(threadData, _tys, boxvar_boolOr, boxvar_Types_isNonscalarArray, tmpMeta[0], mmc_mk_boolean(0)));
goto tmp3_done;
}
case 4: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
tmp3_done:
(void)tmp4;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp3_done2;
goto_2:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp4 < 5) {
goto tmp3_top;
}
MMC_THROW_INTERNAL();
tmp3_done2:;
}
}
_outBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outBoolean;
}
modelica_metatype boxptr_Types_isNonscalarArray(threadData_t *threadData, modelica_metatype _inType, modelica_metatype _inDims)
{
modelica_boolean _outBoolean;
modelica_metatype out_outBoolean;
_outBoolean = omc_Types_isNonscalarArray(threadData, _inType, _inDims);
out_outBoolean = mmc_mk_icon(_outBoolean);
return out_outBoolean;
}
DLLExport
void omc_Types_integerOrReal(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _tp = NULL;
int tmp3;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp3_1))) {
case 4: {
goto tmp2_done;
}
case 3: {
goto tmp2_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_tp = tmpMeta[0];
_inType = _tp;
goto _tailrecursive;
;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
;
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
modelica_boolean omc_Types_isScalarBoolean(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsScalarBoolean;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 6: {
tmp1 = 1;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_ty = tmpMeta[0];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsScalarBoolean = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsScalarBoolean;
}
modelica_metatype boxptr_Types_isScalarBoolean(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsScalarBoolean;
modelica_metatype out_outIsScalarBoolean;
_outIsScalarBoolean = omc_Types_isScalarBoolean(threadData, _inType);
out_outIsScalarBoolean = mmc_mk_icon(_outIsScalarBoolean);
return out_outIsScalarBoolean;
}
DLLExport
modelica_boolean omc_Types_isBoolean(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _res;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_res = omc_Types_isScalarBoolean(threadData, omc_Types_arrayElementType(threadData, _tp));
_return: OMC_LABEL_UNUSED
return _res;
}
modelica_metatype boxptr_Types_isBoolean(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _res;
modelica_metatype out_res;
_res = omc_Types_isBoolean(threadData, _tp);
out_res = mmc_mk_icon(_res);
return out_res;
}
DLLExport
modelica_boolean omc_Types_isScalarInteger(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsScalarInteger;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 3: {
tmp1 = 1;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_ty = tmpMeta[0];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsScalarInteger = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsScalarInteger;
}
modelica_metatype boxptr_Types_isScalarInteger(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsScalarInteger;
modelica_metatype out_outIsScalarInteger;
_outIsScalarInteger = omc_Types_isScalarInteger(threadData, _inType);
out_outIsScalarInteger = mmc_mk_icon(_outIsScalarInteger);
return out_outIsScalarInteger;
}
DLLExport
modelica_boolean omc_Types_isInteger(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _res;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_res = omc_Types_isScalarInteger(threadData, omc_Types_arrayElementType(threadData, _tp));
_return: OMC_LABEL_UNUSED
return _res;
}
modelica_metatype boxptr_Types_isInteger(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _res;
modelica_metatype out_res;
_res = omc_Types_isInteger(threadData, _tp);
out_res = mmc_mk_icon(_res);
return out_res;
}
DLLExport
modelica_boolean omc_Types_isScalarClock(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _res;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 7: {
tmp1 = 1;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_ty = tmpMeta[0];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_res = tmp1;
_return: OMC_LABEL_UNUSED
return _res;
}
modelica_metatype boxptr_Types_isScalarClock(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _res;
modelica_metatype out_res;
_res = omc_Types_isScalarClock(threadData, _inType);
out_res = mmc_mk_icon(_res);
return out_res;
}
DLLExport
modelica_boolean omc_Types_isClock(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _res;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_res = omc_Types_isScalarClock(threadData, omc_Types_arrayElementType(threadData, _tp));
_return: OMC_LABEL_UNUSED
return _res;
}
modelica_metatype boxptr_Types_isClock(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _res;
modelica_metatype out_res;
_res = omc_Types_isClock(threadData, _tp);
out_res = mmc_mk_icon(_res);
return out_res;
}
DLLExport
modelica_boolean omc_Types_isIntegerOrRealOrBooleanOrSubTypeOfEither(threadData_t *threadData, modelica_metatype _t)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 4; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!omc_Types_isRealOrSubTypeReal(threadData, _t)) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
if (!omc_Types_isIntegerOrSubTypeInteger(threadData, _t)) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
if (!omc_Types_isBooleanOrSubTypeBoolean(threadData, _t)) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 3: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isIntegerOrRealOrBooleanOrSubTypeOfEither(threadData_t *threadData, modelica_metatype _t)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isIntegerOrRealOrBooleanOrSubTypeOfEither(threadData, _t);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isIntegerOrRealOrSubTypeOfEither(threadData_t *threadData, modelica_metatype _t)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (!omc_Types_isRealOrSubTypeReal(threadData, _t)) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
if (!omc_Types_isIntegerOrSubTypeInteger(threadData, _t)) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isIntegerOrRealOrSubTypeOfEither(threadData_t *threadData, modelica_metatype _t)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isIntegerOrRealOrSubTypeOfEither(threadData, _t);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isStringOrSubTypeString(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean _lb1;
modelica_boolean _lb2;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_lb1 = omc_Types_isString(threadData, _inType);
_lb2 = omc_Types_equivtypes(threadData, _inType, _OMC_LIT7);
_b = (_lb1 || _lb2);
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isStringOrSubTypeString(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isStringOrSubTypeString(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isBooleanOrSubTypeBoolean(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean _lb1;
modelica_boolean _lb2;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_lb1 = omc_Types_isBoolean(threadData, _inType);
_lb2 = omc_Types_equivtypes(threadData, _inType, _OMC_LIT8);
_b = (_lb1 || _lb2);
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isBooleanOrSubTypeBoolean(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isBooleanOrSubTypeBoolean(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isClockOrSubTypeClock(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_ty = tmpMeta[0];
tmp1 = omc_Types_isClockOrSubTypeClock1(threadData, _ty);
goto tmp3_done;
}
case 1: {
tmp1 = omc_Types_isClockOrSubTypeClock1(threadData, _inType);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isClockOrSubTypeClock(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isClockOrSubTypeClock(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
PROTECTED_FUNCTION_STATIC modelica_boolean omc_Types_isClockOrSubTypeClock1(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean _lb1;
modelica_boolean _lb2;
modelica_boolean _lb3;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_lb1 = omc_Types_isClock(threadData, _inType);
_lb2 = omc_Types_equivtypes(threadData, _inType, _OMC_LIT9);
_lb3 = (!omc_Types_equivtypes(threadData, _inType, _OMC_LIT5));
_b = (_lb1 || (_lb2 && _lb3));
_return: OMC_LABEL_UNUSED
return _b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype boxptr_Types_isClockOrSubTypeClock1(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isClockOrSubTypeClock1(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isIntegerOrSubTypeInteger(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean _lb1;
modelica_boolean _lb2;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_lb1 = omc_Types_isInteger(threadData, _inType);
_lb2 = omc_Types_equivtypes(threadData, _inType, _OMC_LIT6);
_b = (_lb1 || _lb2);
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isIntegerOrSubTypeInteger(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isIntegerOrSubTypeInteger(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isRealOrSubTypeReal(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean _lb1;
modelica_boolean _lb2;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_lb1 = omc_Types_isReal(threadData, _inType);
_lb2 = omc_Types_equivtypes(threadData, _inType, _OMC_LIT4);
_b = (_lb1 || _lb2);
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isRealOrSubTypeReal(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isRealOrSubTypeReal(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isScalarReal(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsScalarReal;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 4: {
tmp1 = 1;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_ty = tmpMeta[0];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsScalarReal = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsScalarReal;
}
modelica_metatype boxptr_Types_isScalarReal(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsScalarReal;
modelica_metatype out_outIsScalarReal;
_outIsScalarReal = omc_Types_isScalarReal(threadData, _inType);
out_outIsScalarReal = mmc_mk_icon(_outIsScalarReal);
return out_outIsScalarReal;
}
DLLExport
modelica_boolean omc_Types_isReal(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _res;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_res = omc_Types_isScalarReal(threadData, omc_Types_arrayElementType(threadData, _tp));
_return: OMC_LABEL_UNUSED
return _res;
}
modelica_metatype boxptr_Types_isReal(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _res;
modelica_metatype out_res;
_res = omc_Types_isReal(threadData, _tp);
out_res = mmc_mk_icon(_res);
return out_res;
}
DLLExport
modelica_string omc_Types_getVarName(threadData_t *threadData, modelica_metatype _v)
{
modelica_string _name = NULL;
modelica_string tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _v;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 1; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_name = tmpMeta[0];
tmp1 = _name;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_name = tmp1;
_return: OMC_LABEL_UNUSED
return _name;
}
DLLExport
modelica_boolean omc_Types_varIsVariable(threadData_t *threadData, modelica_metatype _v)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _v;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 4));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,0) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_varIsVariable(threadData_t *threadData, modelica_metatype _v)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_varIsVariable(threadData, _v);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_getVarType(threadData_t *threadData, modelica_metatype _v)
{
modelica_metatype _tp = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _v;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_tp = tmpMeta[1];
tmpMeta[0] = _tp;
goto tmp2_done;
}
case 1: {
omc_Error_addMessage(threadData, _OMC_LIT77, _OMC_LIT291);
goto goto_1;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_tp = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _tp;
}
DLLExport
modelica_boolean omc_Types_isRecordWithOnlyReals(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _tp;
{
modelica_metatype _varLst = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],3,1) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_varLst = tmpMeta[1];
tmp1 = omc_List_mapAllValueBool(threadData, omc_List_map(threadData, _varLst, boxvar_Types_getVarType), boxvar_Types_isReal, mmc_mk_boolean(1));
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isRecordWithOnlyReals(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isRecordWithOnlyReals(threadData, _tp);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_metatype omc_Types_getRecordPath(threadData_t *threadData, modelica_metatype _tp)
{
modelica_metatype _p = NULL;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _tp;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],3,1) == 0) goto tmp2_end;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_p = tmpMeta[2];
tmpMeta[0] = _p;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_p = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _p;
}
DLLExport
modelica_boolean omc_Types_isRecord(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _tp;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],3,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isRecord(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isRecord(threadData, _tp);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isMetaTuple(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _tp;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,18,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isMetaTuple(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isMetaTuple(threadData, _tp);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isTuple(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _tp;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,14,2) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isTuple(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isTuple(threadData, _tp);
out_b = mmc_mk_icon(_b);
return out_b;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_convertFromExpToTypesVar(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_metatype _outVar = NULL;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
_outVar = _inVar;
tmpMeta[0] = MMC_TAGPTR(mmc_alloc_words(8));
memcpy(MMC_UNTAGPTR(tmpMeta[0]), MMC_UNTAGPTR(_outVar), 8*sizeof(modelica_metatype));
((modelica_metatype*)MMC_UNTAGPTR(tmpMeta[0]))[4] = omc_Types_expTypetoTypesType(threadData, (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inVar), 4))));
_outVar = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outVar;
}
DLLExport
modelica_metatype omc_Types_expTypetoTypesType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype _oType = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _ty = NULL;
modelica_metatype _at = NULL;
modelica_metatype _ad = NULL;
modelica_metatype _dim = NULL;
modelica_metatype _vars = NULL;
modelica_metatype _CIS = NULL;
modelica_metatype _ec = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 6; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
if (!listEmpty(tmpMeta[4])) goto tmp2_end;
_at = tmpMeta[1];
_dim = tmpMeta[3];
_ty = omc_Types_expTypetoTypesType(threadData, _at);
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,6,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
if (listEmpty(tmpMeta[2])) goto tmp2_end;
tmpMeta[3] = MMC_CAR(tmpMeta[2]);
tmpMeta[4] = MMC_CDR(tmpMeta[2]);
_at = tmpMeta[1];
_dim = tmpMeta[3];
_ad = tmpMeta[4];
tmp3 += 3;
tmpMeta[1] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _at, _ad);
_ty = omc_Types_expTypetoTypesType(threadData, tmpMeta[1]);
tmpMeta[1] = mmc_mk_cons(_dim, MMC_REFSTRUCTLIT(mmc_nil));
tmpMeta[2] = mmc_mk_box3(9, &DAE_Type_T__ARRAY__desc, _ty, tmpMeta[1]);
tmpMeta[0] = tmpMeta[2];
goto tmp2_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
_CIS = tmpMeta[1];
_vars = tmpMeta[2];
_ec = tmpMeta[3];
tmp3 += 2;
_vars = omc_List_map(threadData, _vars, boxvar_Types_convertFromExpToTypesVar);
tmpMeta[1] = mmc_mk_box4(12, &DAE_Type_T__COMPLEX__desc, _CIS, _vars, _ec);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 3: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,10,4) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 4));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 5));
_CIS = tmpMeta[1];
_vars = tmpMeta[2];
_ty = tmpMeta[3];
_ec = tmpMeta[4];
tmp3 += 1;
_vars = omc_List_map(threadData, _vars, boxvar_Types_convertFromExpToTypesVar);
_ty = omc_Types_expTypetoTypesType(threadData, _ty);
tmpMeta[1] = mmc_mk_box5(13, &DAE_Type_T__SUBTYPE__BASIC__desc, _CIS, _vars, _ty, _ec);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 4: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,23,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_ty = tmpMeta[1];
_ty = omc_Types_expTypetoTypesType(threadData, _ty);
tmpMeta[1] = mmc_mk_box2(26, &DAE_Type_T__METABOXED__desc, _ty);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 5: {
tmpMeta[0] = _inType;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 6) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_oType = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _oType;
}
DLLExport
modelica_boolean omc_Types_isExternalObject(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _tp;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],17,1) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isExternalObject(threadData_t *threadData, modelica_metatype _tp)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isExternalObject(threadData, _tp);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isComplexType(threadData_t *threadData, modelica_metatype _ity)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[3] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _ity;
{
modelica_metatype _ty = NULL;
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 4; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_ty = tmpMeta[0];
_ity = _ty;
goto _tailrecursive;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_ty = tmpMeta[0];
_ity = _ty;
goto _tailrecursive;
goto tmp3_done;
}
case 2: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
if (listEmpty(tmpMeta[0])) goto tmp3_end;
tmpMeta[1] = MMC_CAR(tmpMeta[0]);
tmpMeta[2] = MMC_CDR(tmpMeta[0]);
tmp1 = 1;
goto tmp3_done;
}
case 3: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isComplexType(threadData_t *threadData, modelica_metatype _ity)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isComplexType(threadData, _ity);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isComplexExpandableConnector(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outResult;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
modelica_integer tmp6;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],5,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
tmp6 = mmc_unbox_integer(tmpMeta[1]);
if (1 != tmp6) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
modelica_integer tmp7;
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],5,2) == 0) goto tmp3_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 3));
tmp7 = mmc_unbox_integer(tmpMeta[1]);
if (1 != tmp7) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outResult = tmp1;
_return: OMC_LABEL_UNUSED
return _outResult;
}
modelica_metatype boxptr_Types_isComplexExpandableConnector(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outResult;
modelica_metatype out_outResult;
_outResult = omc_Types_isComplexExpandableConnector(threadData, _inType);
out_outResult = mmc_mk_icon(_outResult);
return out_outResult;
}
DLLExport
modelica_boolean omc_Types_isComplexConnector(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsComplexConnector;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 2; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],5,2) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsComplexConnector = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsComplexConnector;
}
modelica_metatype boxptr_Types_isComplexConnector(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsComplexConnector;
modelica_metatype out_outIsComplexConnector;
_outIsComplexConnector = omc_Types_isComplexConnector(threadData, _inType);
out_outIsComplexConnector = mmc_mk_icon(_outIsComplexConnector);
return out_outIsComplexConnector;
}
DLLExport
modelica_boolean omc_Types_isConnector(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsConnector;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
volatile mmc_switch_type tmp4;
int tmp5;
tmp4 = 0;
for (; tmp4 < 3; tmp4++) {
switch (MMC_SWITCH_CAST(tmp4)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,9,3) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],5,2) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],5,2) == 0) goto tmp3_end;
tmp1 = 1;
goto tmp3_done;
}
case 2: {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsConnector = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsConnector;
}
modelica_metatype boxptr_Types_isConnector(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsConnector;
modelica_metatype out_outIsConnector;
_outIsConnector = omc_Types_isConnector(threadData, _inType);
out_outIsConnector = mmc_mk_icon(_outIsConnector);
return out_outIsConnector;
}
DLLExport
modelica_boolean omc_Types_isNumericType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBool;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _ty = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 9: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,6,2) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 2));
_ty = tmpMeta[0];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_ty = tmpMeta[0];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_ty = tmpMeta[0];
_inType = _ty;
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = omc_Types_isSimpleNumericType(threadData, _inType);
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outBool = tmp1;
_return: OMC_LABEL_UNUSED
return _outBool;
}
modelica_metatype boxptr_Types_isNumericType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outBool;
modelica_metatype out_outBool;
_outBool = omc_Types_isNumericType(threadData, _inType);
out_outBool = mmc_mk_icon(_outBool);
return out_outBool;
}
DLLExport
modelica_boolean omc_Types_isSimpleNumericType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _t = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 4: {
tmp1 = 1;
goto tmp3_done;
}
case 3: {
tmp1 = 1;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_t = tmpMeta[0];
_inType = _t;
goto _tailrecursive;
goto tmp3_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_t = tmpMeta[0];
_inType = _t;
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isSimpleNumericType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isSimpleNumericType(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
modelica_boolean omc_Types_isSimpleType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_boolean tmp1 = 0;
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
modelica_metatype _t = NULL;
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 4: {
tmp1 = 1;
goto tmp3_done;
}
case 3: {
tmp1 = 1;
goto tmp3_done;
}
case 5: {
tmp1 = 1;
goto tmp3_done;
}
case 6: {
tmp1 = 1;
goto tmp3_done;
}
case 7: {
tmp1 = 1;
goto tmp3_done;
}
case 8: {
tmp1 = 1;
goto tmp3_done;
}
case 13: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,10,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 4));
_t = tmpMeta[0];
_inType = _t;
goto _tailrecursive;
goto tmp3_done;
}
case 14: {
if (mmc__uniontype__metarecord__typedef__equal(tmp4_1,11,4) == 0) goto tmp3_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp4_1), 3));
_t = tmpMeta[0];
_inType = _t;
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_b = tmp1;
_return: OMC_LABEL_UNUSED
return _b;
}
modelica_metatype boxptr_Types_isSimpleType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _b;
modelica_metatype out_b;
_b = omc_Types_isSimpleType(threadData, _inType);
out_b = mmc_mk_icon(_b);
return out_b;
}
DLLExport
void omc_Types_simpleType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean tmp1;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmp1 = omc_Types_isSimpleType(threadData, _inType);
if (1 != tmp1) MMC_THROW_INTERNAL();
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
void omc_Types_externalObjectConstructorType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
modelica_metatype _tp = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,11,4) == 0) goto tmp2_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 3));
_tp = tmpMeta[0];
omc_Types_externalObjectType(threadData, _tp);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
;
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
modelica_boolean omc_Types_varEqualName(threadData_t *threadData, modelica_metatype _inVar1, modelica_metatype _inVar2)
{
modelica_boolean _outEqual;
modelica_string _name1 = NULL;
modelica_string _name2 = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _inVar1;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
_name1 = tmpMeta[1];
tmpMeta[0] = _inVar2;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 2));
_name2 = tmpMeta[1];
_outEqual = (stringEqual(_name1, _name2));
_return: OMC_LABEL_UNUSED
return _outEqual;
}
modelica_metatype boxptr_Types_varEqualName(threadData_t *threadData, modelica_metatype _inVar1, modelica_metatype _inVar2)
{
modelica_boolean _outEqual;
modelica_metatype out_outEqual;
_outEqual = omc_Types_varEqualName(threadData, _inVar1, _inVar2);
out_outEqual = mmc_mk_icon(_outEqual);
return out_outEqual;
}
DLLExport
modelica_metatype omc_Types_varBinding(threadData_t *threadData, modelica_metatype _inVar)
{
modelica_metatype _outBinding = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmpMeta[0] = _inVar;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[0]), 5));
_outBinding = tmpMeta[1];
_return: OMC_LABEL_UNUSED
return _outBinding;
}
DLLExport
void omc_Types_externalObjectType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_metatype tmpMeta[1] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inType;
{
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,9,3) == 0) goto tmp2_end;
tmpMeta[0] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[0],17,1) == 0) goto tmp2_end;
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
;
_return: OMC_LABEL_UNUSED
return;
}
DLLExport
modelica_metatype omc_Types_tupleConstListToConst(threadData_t *threadData, modelica_metatype _t)
{
modelica_metatype _c = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _t;
{
modelica_metatype _p1 = NULL;
modelica_metatype _c1 = NULL;
modelica_metatype _c2 = NULL;
modelica_metatype _tcxl = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[0] = _OMC_LIT51;
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,1) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
_c1 = tmpMeta[3];
_tcxl = tmpMeta[2];
_c2 = omc_Types_tupleConstListToConst(threadData, _tcxl);
tmpMeta[0] = omc_Types_constAnd(threadData, _c1, _c2);
goto tmp2_done;
}
case 2: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,1) == 0) goto tmp2_end;
_p1 = tmpMeta[1];
_tcxl = tmpMeta[2];
_c1 = omc_Types_propertiesListToConst2(threadData, _p1);
_c2 = omc_Types_tupleConstListToConst(threadData, _tcxl);
tmpMeta[0] = omc_Types_constAnd(threadData, _c1, _c2);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_c = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _c;
}
PROTECTED_FUNCTION_STATIC modelica_metatype omc_Types_propertiesListToConst2(threadData_t *threadData, modelica_metatype _t)
{
modelica_metatype _c = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _t;
{
modelica_metatype _c1 = NULL;
modelica_metatype _c2 = NULL;
modelica_metatype _tcxl = NULL;
modelica_metatype _tc1 = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_c1 = tmpMeta[1];
tmpMeta[0] = _c1;
goto tmp2_done;
}
case 1: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,1,1) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
if (listEmpty(tmpMeta[1])) goto tmp2_end;
tmpMeta[2] = MMC_CAR(tmpMeta[1]);
tmpMeta[3] = MMC_CDR(tmpMeta[1]);
_tc1 = tmpMeta[2];
_tcxl = tmpMeta[3];
_c1 = omc_Types_propertiesListToConst2(threadData, _tc1);
_c2 = omc_Types_tupleConstListToConst(threadData, _tcxl);
tmpMeta[0] = omc_Types_constAnd(threadData, _c1, _c2);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_c = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _c;
}
DLLExport
modelica_metatype omc_Types_propertiesListToConst(threadData_t *threadData, modelica_metatype _p)
{
modelica_metatype _c = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _p;
{
modelica_metatype _pps = NULL;
modelica_metatype _c1 = NULL;
modelica_metatype _c2 = NULL;
modelica_metatype _tc1 = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[0] = _OMC_LIT51;
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_c1 = tmpMeta[3];
_pps = tmpMeta[2];
_c2 = omc_Types_propertiesListToConst(threadData, _pps);
tmpMeta[0] = omc_Types_constAnd(threadData, _c1, _c2);
goto tmp2_done;
}
case 2: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_tc1 = tmpMeta[3];
_pps = tmpMeta[2];
_c1 = omc_Types_propertiesListToConst2(threadData, _tc1);
_c2 = omc_Types_propertiesListToConst(threadData, _pps);
tmpMeta[0] = omc_Types_constAnd(threadData, _c1, _c2);
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_c = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _c;
}
DLLExport
modelica_metatype omc_Types_getConstList(threadData_t *threadData, modelica_metatype _inPropertiesList)
{
modelica_metatype _outConstList = NULL;
modelica_metatype tmpMeta[4] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inPropertiesList;
{
modelica_metatype _c = NULL;
modelica_metatype _ccdr = NULL;
modelica_metatype _pcdr = NULL;
modelica_metatype _tc = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 3; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (!listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_REFSTRUCTLIT(mmc_nil);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 1: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_c = tmpMeta[3];
_pcdr = tmpMeta[2];
_ccdr = omc_Types_getConstList(threadData, _pcdr);
tmpMeta[1] = mmc_mk_cons(_c, _ccdr);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
case 2: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],1,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_tc = tmpMeta[3];
_pcdr = tmpMeta[2];
_c = omc_Types_propertiesListToConst2(threadData, _tc);
_ccdr = omc_Types_getConstList(threadData, _pcdr);
tmpMeta[1] = mmc_mk_cons(_c, _ccdr);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outConstList = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outConstList;
}
DLLExport
modelica_metatype omc_Types_makePropsNotConst(threadData_t *threadData, modelica_metatype _inProperties)
{
modelica_metatype _outProperties = NULL;
modelica_metatype tmpMeta[2] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp3_1;
tmp3_1 = _inProperties;
{
modelica_metatype _t = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
for (; tmp3 < 1; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (mmc__uniontype__metarecord__typedef__equal(tmp3_1,0,2) == 0) goto tmp2_end;
tmpMeta[1] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmp3_1), 2));
_t = tmpMeta[1];
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _t, _OMC_LIT20);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
goto_1:;
MMC_THROW_INTERNAL();
goto tmp2_done;
tmp2_done:;
}
}
_outProperties = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outProperties;
}
DLLExport
modelica_metatype omc_Types_propsAnd(threadData_t *threadData, modelica_metatype _inProps)
{
modelica_metatype _outProp = NULL;
modelica_metatype tmpMeta[5] __attribute__((unused)) = {0};
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
volatile modelica_metatype tmp3_1;
tmp3_1 = _inProps;
{
modelica_metatype _prop = NULL;
modelica_metatype _c = NULL;
modelica_metatype _c2 = NULL;
modelica_metatype _ty = NULL;
modelica_metatype _ty2 = NULL;
modelica_metatype _props = NULL;
volatile mmc_switch_type tmp3;
int tmp4;
tmp3 = 0;
MMC_TRY_INTERNAL(mmc_jumper)
tmp2_top:
threadData->mmc_jumper = &new_mmc_jumper;
for (; tmp3 < 2; tmp3++) {
switch (MMC_SWITCH_CAST(tmp3)) {
case 0: {
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (!listEmpty(tmpMeta[2])) goto tmp2_end;
_prop = tmpMeta[1];
tmpMeta[0] = _prop;
goto tmp2_done;
}
case 1: {
modelica_boolean tmp5;
if (listEmpty(tmp3_1)) goto tmp2_end;
tmpMeta[1] = MMC_CAR(tmp3_1);
tmpMeta[2] = MMC_CDR(tmp3_1);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,2) == 0) goto tmp2_end;
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[4] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_ty = tmpMeta[3];
_c = tmpMeta[4];
_props = tmpMeta[2];
tmpMeta[1] = omc_Types_propsAnd(threadData, _props);
if (mmc__uniontype__metarecord__typedef__equal(tmpMeta[1],0,2) == 0) goto goto_1;
tmpMeta[2] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 2));
tmpMeta[3] = MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(tmpMeta[1]), 3));
_ty2 = tmpMeta[2];
_c2 = tmpMeta[3];
_c = omc_Types_constAnd(threadData, _c, _c2);
tmp5 = omc_Types_equivtypes(threadData, _ty, _ty2);
if (1 != tmp5) goto goto_1;
tmpMeta[1] = mmc_mk_box3(3, &DAE_Properties_PROP__desc, _ty, _c);
tmpMeta[0] = tmpMeta[1];
goto tmp2_done;
}
}
goto tmp2_end;
tmp2_end: ;
}
goto goto_1;
tmp2_done:
(void)tmp3;
MMC_RESTORE_INTERNAL(mmc_jumper);
goto tmp2_done2;
goto_1:;
MMC_CATCH_INTERNAL(mmc_jumper);
if (++tmp3 < 2) {
goto tmp2_top;
}
MMC_THROW_INTERNAL();
tmp2_done2:;
}
}
_outProp = tmpMeta[0];
_return: OMC_LABEL_UNUSED
return _outProp;
}
DLLExport
modelica_boolean omc_Types_isDiscreteType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsDiscrete;
modelica_boolean tmp1 = 0;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
{
modelica_metatype tmp4_1;
tmp4_1 = _inType;
{
int tmp4;
{
switch (MMC_SWITCH_CAST(valueConstructor(tmp4_1))) {
case 3: {
tmp1 = 1;
goto tmp3_done;
}
case 5: {
tmp1 = 1;
goto tmp3_done;
}
case 6: {
tmp1 = 1;
goto tmp3_done;
}
case 7: {
tmp1 = 1;
goto tmp3_done;
}
case 8: {
tmp1 = 1;
goto tmp3_done;
}
case 13: {
_inType = (MMC_FETCH(MMC_OFFSET(MMC_UNTAGPTR(_inType), 4)));
goto _tailrecursive;
goto tmp3_done;
}
default:
tmp3_default: OMC_LABEL_UNUSED; {
tmp1 = 0;
goto tmp3_done;
}
}
goto tmp3_end;
tmp3_end: ;
}
goto goto_2;
goto_2:;
MMC_THROW_INTERNAL();
goto tmp3_done;
tmp3_done:;
}
}
_outIsDiscrete = tmp1;
_return: OMC_LABEL_UNUSED
return _outIsDiscrete;
}
modelica_metatype boxptr_Types_isDiscreteType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean _outIsDiscrete;
modelica_metatype out_outIsDiscrete;
_outIsDiscrete = omc_Types_isDiscreteType(threadData, _inType);
out_outIsDiscrete = mmc_mk_icon(_outIsDiscrete);
return out_outIsDiscrete;
}
DLLExport
void omc_Types_discreteType(threadData_t *threadData, modelica_metatype _inType)
{
modelica_boolean tmp1;
MMC_SO();
_tailrecursive: OMC_LABEL_UNUSED
tmp1 = omc_Types_isDiscreteType(threadData, _inType);
if (1 != tmp1) MMC_THROW_INTERNAL();
_return: OMC_LABEL_UNUSED
return;
}
