// name: Ticket5571.mos
// keywords: test fix for but 5571
// status: correct
// cflags: -d=-newInst
//
//


loadModel(Modelica, {"3.2.3"});
getErrorString();
getIconAnnotation(Modelica.Mechanics.MultiBody.Examples.Loops.Utilities.EngineV6_analytic);
getErrorString();
setCommandLineOptions("-d=nfAPI");
getErrorString();
getIconAnnotation(Modelica.Mechanics.MultiBody.Examples.Loops.Utilities.EngineV6_analytic);
getErrorString();

// Result:
// true
// ""
// {-100.0,-100.0,100.0,100.0,true,-,-,,{Rectangle(true, {0.0, 0.0}, 0, {0, 0, 0}, {255, 255, 255}, LinePattern.Solid, FillPattern.Solid, 0.25, BorderPattern.None, {{-100, 100}, {100, -100}}, 0), Text(true, {0.0, 0.0}, 0, {0, 0, 255}, {0, 0, 0}, LinePattern.Solid, FillPattern.None, 0.25, {{-150, 145}, {150, 105}}, "%name", 0, {-1, -1, -1}, "", {}, TextAlignment.Center), Bitmap(true, {0.0, 0.0}, 0, {{-97, -39}, {99, 75}}, "modelica://Modelica/Resources/Images/Mechanics/MultiBody/Examples/Loops/EngineV6_CAD.png", "")}}
// ""
// true
// ""
// {-100.0,-100.0,100.0,100.0,true,-,-,,{Rectangle(true, {0.0, 0.0}, 0.0, {0, 0, 0}, {255, 255, 255}, LinePattern.Solid, FillPattern.Solid, 0.25, BorderPattern.None, {{-100.0, 100.0}, {100.0, -100.0}}, 0.0), Text(true, {0.0, 0.0}, 0.0, {0, 0, 255}, {0, 0, 0}, LinePattern.Solid, FillPattern.None, 0.25, {{-150.0, 145.0}, {150.0, 105.0}}, "%name", 0.0, {-1, -1, -1}, "", {}, TextAlignment.Center), Bitmap(true, {0.0, 0.0}, 0.0, {{-97.0, -39.0}, {99.0, 75.0}}, "modelica://Modelica/Resources/Images/Mechanics/MultiBody/Examples/Loops/EngineV6_CAD.png", "")}}
// ""
// endResult
