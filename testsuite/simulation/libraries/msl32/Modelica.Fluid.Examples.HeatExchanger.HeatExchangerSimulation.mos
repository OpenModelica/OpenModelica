// name:     Modelica.Fluid.Examples.HeatExchanger.HeatExchangerSimulation
// keywords: simulation MSL Examples
// status: correct
// cflags: -d=-newInst
//
// Simulation Results
// Modelica Standard Library
//

runScript("../common/ModelTestingDefaults.mos"); getErrorString();

modelTestingType := OpenModelicaModelTesting.Kind.VerifiedSimulation;
modelName := $TypeName(Modelica.Fluid.Examples.HeatExchanger.HeatExchangerSimulation);
simflags:= "-noHomotopyOnFirstTry";
compareVars :=
{
   "HEX.pipe_1.mediums[1].T",
   "HEX.pipe_1.mediums[2].T",
   "HEX.pipe_1.mediums[3].T",
   "HEX.pipe_1.mediums[4].T",
   "HEX.pipe_1.mediums[5].T",
   "HEX.pipe_1.mediums[6].T",
   "HEX.pipe_1.mediums[7].T",
   "HEX.pipe_1.mediums[8].T",
   "HEX.pipe_1.mediums[9].T",
   "HEX.pipe_1.mediums[10].T",
   "HEX.pipe_1.mediums[11].T",
   "HEX.pipe_1.mediums[12].T",
   "HEX.pipe_1.mediums[13].T",
   "HEX.pipe_1.mediums[14].T",
   "HEX.pipe_1.mediums[15].T",
   "HEX.pipe_1.mediums[16].T",
   "HEX.pipe_1.mediums[17].T",
   "HEX.pipe_1.mediums[18].T",
   "HEX.pipe_1.mediums[19].T",
   "HEX.pipe_1.mediums[20].T",
   "HEX.pipe_2.mediums[1].T",
   "HEX.pipe_2.mediums[2].T",
   "HEX.pipe_2.mediums[3].T",
   "HEX.pipe_2.mediums[4].T",
   "HEX.pipe_2.mediums[5].T",
   "HEX.pipe_2.mediums[6].T",
   "HEX.pipe_2.mediums[7].T",
   "HEX.pipe_2.mediums[8].T",
   "HEX.pipe_2.mediums[9].T",
   "HEX.pipe_2.mediums[10].T",
   "HEX.pipe_2.mediums[11].T",
   "HEX.pipe_2.mediums[12].T",
   "HEX.pipe_2.mediums[13].T",
   "HEX.pipe_2.mediums[14].T",
   "HEX.pipe_2.mediums[15].T",
   "HEX.pipe_2.mediums[16].T",
   "HEX.pipe_2.mediums[17].T",
   "HEX.pipe_2.mediums[18].T",
   "HEX.pipe_2.mediums[19].T",
   "HEX.pipe_2.mediums[20].T",
   "HEX.wall.T[1]",
   "HEX.wall.T[2]",
   "HEX.wall.T[3]",
   "HEX.wall.T[4]",
   "HEX.wall.T[5]",
   "HEX.wall.T[6]",
   "HEX.wall.T[7]",
   "HEX.wall.T[8]",
   "HEX.wall.T[9]",
   "HEX.wall.T[10]",
   "HEX.wall.T[11]",
   "HEX.wall.T[12]",
   "HEX.wall.T[13]",
   "HEX.wall.T[14]",
   "HEX.wall.T[15]",
   "HEX.wall.T[16]",
   "HEX.wall.T[17]",
   "HEX.wall.T[18]",
   "HEX.wall.T[19]",
   "HEX.wall.T[20]"
};

runScript(modelTesting);getErrorString();

// Result:
// "true
// "
// ""
// OpenModelicaModelTesting.Kind.VerifiedSimulation
// Modelica.Fluid.Examples.HeatExchanger.HeatExchangerSimulation
// "-noHomotopyOnFirstTry"
// {"HEX.pipe_1.mediums[1].T","HEX.pipe_1.mediums[2].T","HEX.pipe_1.mediums[3].T","HEX.pipe_1.mediums[4].T","HEX.pipe_1.mediums[5].T","HEX.pipe_1.mediums[6].T","HEX.pipe_1.mediums[7].T","HEX.pipe_1.mediums[8].T","HEX.pipe_1.mediums[9].T","HEX.pipe_1.mediums[10].T","HEX.pipe_1.mediums[11].T","HEX.pipe_1.mediums[12].T","HEX.pipe_1.mediums[13].T","HEX.pipe_1.mediums[14].T","HEX.pipe_1.mediums[15].T","HEX.pipe_1.mediums[16].T","HEX.pipe_1.mediums[17].T","HEX.pipe_1.mediums[18].T","HEX.pipe_1.mediums[19].T","HEX.pipe_1.mediums[20].T","HEX.pipe_2.mediums[1].T","HEX.pipe_2.mediums[2].T","HEX.pipe_2.mediums[3].T","HEX.pipe_2.mediums[4].T","HEX.pipe_2.mediums[5].T","HEX.pipe_2.mediums[6].T","HEX.pipe_2.mediums[7].T","HEX.pipe_2.mediums[8].T","HEX.pipe_2.mediums[9].T","HEX.pipe_2.mediums[10].T","HEX.pipe_2.mediums[11].T","HEX.pipe_2.mediums[12].T","HEX.pipe_2.mediums[13].T","HEX.pipe_2.mediums[14].T","HEX.pipe_2.mediums[15].T","HEX.pipe_2.mediums[16].T","HEX.pipe_2.mediums[17].T","HEX.pipe_2.mediums[18].T","HEX.pipe_2.mediums[19].T","HEX.pipe_2.mediums[20].T","HEX.wall.T[1]","HEX.wall.T[2]","HEX.wall.T[3]","HEX.wall.T[4]","HEX.wall.T[5]","HEX.wall.T[6]","HEX.wall.T[7]","HEX.wall.T[8]","HEX.wall.T[9]","HEX.wall.T[10]","HEX.wall.T[11]","HEX.wall.T[12]","HEX.wall.T[13]","HEX.wall.T[14]","HEX.wall.T[15]","HEX.wall.T[16]","HEX.wall.T[17]","HEX.wall.T[18]","HEX.wall.T[19]","HEX.wall.T[20]"}
// Simulation options: startTime = 0.0, stopTime = 200.0, numberOfIntervals = 500, tolerance = 1e-05, method = 'dassl', fileNamePrefix = 'Modelica.Fluid.Examples.HeatExchanger.HeatExchangerSimulation', options = '', outputFormat = 'mat', variableFilter = 'time|HEX.pipe_1.mediums.1..T|HEX.pipe_1.mediums.2..T|HEX.pipe_1.mediums.3..T|HEX.pipe_1.mediums.4..T|HEX.pipe_1.mediums.5..T|HEX.pipe_1.mediums.6..T|HEX.pipe_1.mediums.7..T|HEX.pipe_1.mediums.8..T|HEX.pipe_1.mediums.9..T|HEX.pipe_1.mediums.10..T|HEX.pipe_1.mediums.11..T|HEX.pipe_1.mediums.12..T|HEX.pipe_1.mediums.13..T|HEX.pipe_1.mediums.14..T|HEX.pipe_1.mediums.15..T|HEX.pipe_1.mediums.16..T|HEX.pipe_1.mediums.17..T|HEX.pipe_1.mediums.18..T|HEX.pipe_1.mediums.19..T|HEX.pipe_1.mediums.20..T|HEX.pipe_2.mediums.1..T|HEX.pipe_2.mediums.2..T|HEX.pipe_2.mediums.3..T|HEX.pipe_2.mediums.4..T|HEX.pipe_2.mediums.5..T|HEX.pipe_2.mediums.6..T|HEX.pipe_2.mediums.7..T|HEX.pipe_2.mediums.8..T|HEX.pipe_2.mediums.9..T|HEX.pipe_2.mediums.10..T|HEX.pipe_2.mediums.11..T|HEX.pipe_2.mediums.12..T|HEX.pipe_2.mediums.13..T|HEX.pipe_2.mediums.14..T|HEX.pipe_2.mediums.15..T|HEX.pipe_2.mediums.16..T|HEX.pipe_2.mediums.17..T|HEX.pipe_2.mediums.18..T|HEX.pipe_2.mediums.19..T|HEX.pipe_2.mediums.20..T|HEX.wall.T.1.|HEX.wall.T.2.|HEX.wall.T.3.|HEX.wall.T.4.|HEX.wall.T.5.|HEX.wall.T.6.|HEX.wall.T.7.|HEX.wall.T.8.|HEX.wall.T.9.|HEX.wall.T.10.|HEX.wall.T.11.|HEX.wall.T.12.|HEX.wall.T.13.|HEX.wall.T.14.|HEX.wall.T.15.|HEX.wall.T.16.|HEX.wall.T.17.|HEX.wall.T.18.|HEX.wall.T.19.|HEX.wall.T.20.', cflags = '', simflags = '-noHomotopyOnFirstTry -abortSlowSimulation -alarm=360 -emit_protected'
// Result file: Modelica.Fluid.Examples.HeatExchanger.HeatExchangerSimulation_res.mat
// Messages: stdout            | warning | Sparsity pattern for non-linear system 0 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 1 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 2 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 3 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 4 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 5 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 6 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 7 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 8 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 9 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 10 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 11 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 12 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 13 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 14 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 15 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 16 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 17 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 18 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 19 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 20 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 21 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 22 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 23 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 24 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 25 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 26 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 27 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 28 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 29 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 30 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 31 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 32 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 33 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 34 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 35 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 36 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 37 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 38 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 39 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 40 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// stdout            | warning | Sparsity pattern for non-linear system 41 is not regular. This indicates that something went wrong during sparsity pattern generation. Removing sparsity pattern and disabeling NLS scaling.
// LOG_SUCCESS       | info    | The initialization finished successfully without homotopy method.
// LOG_SUCCESS       | info    | The simulation finished successfully.
//
// Files Equal!
// Warning: The model contains alias variables with redundant start and/or conflicting nominal values. It is recommended to resolve the conflicts, because otherwise the system could be hard to solve. To print the conflicting alias sets and the chosen candidates please use -d=aliasConflicts.
//
// "true
// "
// ""
// endResult
