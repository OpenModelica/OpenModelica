// name: Bug2537.mos
// keywords: homotopy differentiation
// status: correct
// teardown_command: rm -rf ThermoPower.Examples.CISE.CISESim120501*
//
// test for #2537
//

loadFile("Bug2537.mo"); getErrorString();
setCommandLineOptions("--postOptModules+=wrapFunctionCalls"); getErrorString();
simulate(ThermoPower.Examples.CISE.CISESim120501); getErrorString();

// Result:
// true
// "Notification: Automatically loaded package Complex 3.2.1 due to uses annotation from Modelica.
// "
// true
// ""
// record SimulationResult
//     resultFile = "ThermoPower.Examples.CISE.CISESim120501_res.mat",
//     simulationOptions = "startTime = 0.0, stopTime = 1200.0, numberOfIntervals = 1000, tolerance = 1e-7, method = 'dassl', fileNamePrefix = 'ThermoPower.Examples.CISE.CISESim120501', options = '', outputFormat = 'mat', variableFilter = '.*', cflags = '', simflags = ''",
//     messages = "LOG_STDOUT        | warning | While solving non-linear system an assertion failed during initialization.
// |                 | |       | | The non-linear solver tries to solve the problem that could take some time.
// |                 | |       | | It could help to provide better start-values for the iteration variables.
// |                 | |       | | For more information simulate with -lv LOG_NLS_V
// LOG_SUCCESS       | info    | The initialization finished successfully with 3 homotopy steps.
// LOG_SUCCESS       | info    | The simulation finished successfully.
// "
// end SimulationResult;
// "[simulation/libraries/3rdParty/ThermoPower/Bug2537.mo:1598:7-1598:102:writable] Warning: In relation Plant.Drum.gl == 0.0, == on Real numbers is only allowed inside functions.
// [simulation/libraries/3rdParty/ThermoPower/Bug2537.mo:1599:7-1599:102:writable] Warning: In relation Plant.Drum.gv == 0.0, == on Real numbers is only allowed inside functions.
// [simulation/libraries/3rdParty/ThermoPower/Bug2537.mo:747:7-751:13:writable] Warning: In relation Plant.FeedWater.G == 0.0, == on Real numbers is only allowed inside functions.
// [simulation/libraries/3rdParty/ThermoPower/Bug2537.mo:801:7-805:13:writable] Warning: In relation Plant.Blowdown.G == 0.0, == on Real numbers is only allowed inside functions.
// [simulation/libraries/3rdParty/ThermoPower/Bug2537.mo:693:7-697:13:writable] Warning: In relation Plant.Sink.R == 0.0, == on Real numbers is only allowed inside functions.
// Warning: The model contains alias variables with redundant start and/or conflicting nominal values. It is recommended to resolve the conflicts, because otherwise the system could be hard to solve. To print the conflicting alias sets and the chosen candidates please use -d=aliasConflicts.
// "
// endResult
