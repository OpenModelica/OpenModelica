// name: Modelica_DeviceDrivers.Blocks.Examples.TestSerialPackager_UDP
// keywords: simulation Modelica_DeviceDrivers examples
// status: correct
//
// Simulation Results
// Modelica_DeviceDrivers
//

runScript("../../common/ModelTestingDefaults.mos"); getErrorString();

echo(false);
modelTestingType := OpenModelicaModelTesting.Kind.SuppressedVerifiedSimulation;
modelName := $TypeName(Modelica_DeviceDrivers.Blocks.Examples.TestSerialPackager_UDP);
simflags := "-rt=1";
compareVars :=
{"getInteger.y[1]"};

runScript("common.mos");getErrorString();
runScript(modelTesting);getErrorString();

// Result:
// "true
// "
// ""
// Simulation options: startTime = 0.0, stopTime = 5.0, numberOfIntervals = 500, tolerance = 1e-6, method = 'dassl', fileNamePrefix = 'Modelica_DeviceDrivers.Blocks.Examples.TestSerialPackager_UDP', options = '', outputFormat = 'mat', variableFilter = 'time|getInteger.y.1.', cflags = '', simflags = '-rt=1 -abortSlowSimulation -alarm=360 -emit_protected'
// Result file: t=1
// Files Equal!
// Warning: Requested package Modelica_Synchronous of version 0.92.2, but this package was already loaded with version 0.93.0-dev. There are no conversion annotations and 0.92.2 is older than 0.93.0-dev, so the libraries are probably incompatible.
// [Modelica_DeviceDrivers 1.8.2/Blocks/Packaging/SerialPackager.mo:130:7-137:16:writable] Warning: Pure function 'Modelica_DeviceDrivers.Blocks.Packaging.SerialPackager.Internal.DummyFunctions.clear' contains a call to impure function 'Modelica_DeviceDrivers.Packaging.SerialPackager_.clear'.
// [Modelica_DeviceDrivers 1.8.2/Blocks/Packaging/SerialPackager.mo:30:7-39:18:writable] Warning: Pure function 'Modelica_DeviceDrivers.Blocks.Packaging.SerialPackager.Internal.DummyFunctions.addReal' contains a call to impure function 'Modelica_DeviceDrivers.Packaging.SerialPackager_.addReal'.
// [Modelica_DeviceDrivers 1.8.2/Blocks/Communication.mo:1178:7-1189:20:writable] Warning: Pure function 'Modelica_DeviceDrivers.Blocks.Communication.Internal.DummyFunctions.sendToUDP' contains a call to impure function 'Modelica_DeviceDrivers.Communication.UDPSocket_.sendTo'.
// [Modelica_DeviceDrivers 1.8.2/Blocks/Packaging/SerialPackager.mo:63:7-72:21:writable] Warning: Pure function 'Modelica_DeviceDrivers.Blocks.Packaging.SerialPackager.Internal.DummyFunctions.addInteger' contains a call to impure function 'Modelica_DeviceDrivers.Packaging.SerialPackager_.addInteger'.
// [Modelica_DeviceDrivers 1.8.2/Blocks/Communication.mo:1165:7-1176:18:writable] Warning: Pure function 'Modelica_DeviceDrivers.Blocks.Communication.Internal.DummyFunctions.readUDP' contains a call to impure function 'Modelica_DeviceDrivers.Communication.UDPSocket_.read'.
// [Modelica_DeviceDrivers 1.8.2/Blocks/Packaging/SerialPackager.mo:74:7-84:18:writable] Warning: Pure function 'Modelica_DeviceDrivers.Blocks.Packaging.SerialPackager.Internal.DummyFunctions.getReal' contains a call to impure function 'Modelica_DeviceDrivers.Packaging.SerialPackager_.getReal'.
// [Modelica_DeviceDrivers 1.8.2/Blocks/Packaging/SerialPackager.mo:107:7-117:21:writable] Warning: Pure function 'Modelica_DeviceDrivers.Blocks.Packaging.SerialPackager.Internal.DummyFunctions.getInteger' contains a call to impure function 'Modelica_DeviceDrivers.Packaging.SerialPackager_.getInteger'.
// [Modelica_DeviceDrivers 1.8.2/Blocks/Packaging/SerialPackager.mo:41:7-50:25:writable] Warning: Pure function 'Modelica_DeviceDrivers.Blocks.Packaging.SerialPackager.Internal.DummyFunctions.addRealAsFloat' contains a call to impure function 'Modelica_DeviceDrivers.Packaging.SerialPackager_.addRealAsFloat'.
// [Modelica_DeviceDrivers 1.8.2/Blocks/Packaging/SerialPackager.mo:86:7-96:27:writable] Warning: Pure function 'Modelica_DeviceDrivers.Blocks.Packaging.SerialPackager.Internal.DummyFunctions.getRealFromFloat' contains a call to impure function 'Modelica_DeviceDrivers.Packaging.SerialPackager_.getRealFromFloat'.
// Warning: Alias equations of external objects are not Modelica compliant as in:
//     getFloat.pkgOut[1].pkg = getFloat.pkgIn.pkg
//     addFloat.pkgOut[1].pkg = addFloat.pkgIn.pkg
//     getReal.pkgOut[1].pkg = getReal.pkgIn.pkg
//     addInteger.pkgOut[1].pkg = addInteger.pkgIn.pkg
//     addReal.pkgOut[1].pkg = addReal.pkgIn.pkg
//     getInteger.pkgIn.pkg = getFloat.pkgOut[1].pkg
//     getReal.pkgOut[1].pkg = getFloat.pkgIn.pkg
//     uDPSend.pkgIn.pkg = addInteger.pkgOut[1].pkg
//     addFloat.pkgOut[1].pkg = addInteger.pkgIn.pkg
//     addReal.pkgOut[1].pkg = addFloat.pkgIn.pkg
//     uDPReceive.pkgOut.pkg = getReal.pkgIn.pkg
//     packager.pkgOut.pkg = addReal.pkgIn.pkg
//
// "true
// "
// ""
// endResult
