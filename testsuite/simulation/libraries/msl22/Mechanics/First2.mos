//name:         First2
//keyword:      simulating msl221
//status:       correct
//
// simulation example
//

loadModel(Modelica,{"2.2.2"});
simulate(Modelica.Mechanics.Rotational.Examples.First,numberOfIntervals=500,tolerance=0.0001,startTime=0,stopTime=10);

"fixed.flange_b.tau:";
val(fixed.flange_b.tau,0.0);
val(fixed.flange_b.tau,0.25);
val(fixed.flange_b.tau,0.5);
val(fixed.flange_b.tau,0.75);
val(fixed.flange_b.tau,1.0);

"torque.tau:";
val(torque.tau,0.0);
val(torque.tau,0.25);
val(torque.tau,0.5);
val(torque.tau,0.75);
val(torque.tau,1.0);

"torque.flange_b.phi:";
val(torque.flange_b.phi,0.0);
val(torque.flange_b.phi,0.25);
val(torque.flange_b.phi,0.5);
val(torque.flange_b.phi,0.75);
val(torque.flange_b.phi,1.0);

"torque.flange_b.tau:";
val(torque.flange_b.tau,0.0);
val(torque.flange_b.tau,0.25);
val(torque.flange_b.tau,0.5);
val(torque.flange_b.tau,0.75);
val(torque.flange_b.tau,1.0);

"inertia1.phi:";
val(inertia1.phi,0.0);
val(inertia1.phi,0.25);
val(inertia1.phi,0.5);
val(inertia1.phi,0.75);
val(inertia1.phi,1.0);

"inertia1.flange_a.phi:";
val(inertia1.flange_a.phi,0.0);
val(inertia1.flange_a.phi,0.25);
val(inertia1.flange_a.phi,0.5);
val(inertia1.flange_a.phi,0.75);
val(inertia1.flange_a.phi,1.0);

"inertia1.flange_a.tau:";
val(inertia1.flange_a.tau,0.0);
val(inertia1.flange_a.tau,0.25);
val(inertia1.flange_a.tau,0.5);
val(inertia1.flange_a.tau,0.75);
val(inertia1.flange_a.tau,1.0);

"inertia1.flange_b.phi:";
val(inertia1.flange_b.phi,0.0);
val(inertia1.flange_b.phi,0.25);
val(inertia1.flange_b.phi,0.5);
val(inertia1.flange_b.phi,0.75);
val(inertia1.flange_b.phi,1.0);

"inertia1.flange_b.tau:";
val(inertia1.flange_b.tau,0.0);
val(inertia1.flange_b.tau,0.25);
val(inertia1.flange_b.tau,0.5);
val(inertia1.flange_b.tau,0.75);
val(inertia1.flange_b.tau,1.0);

"inertia1.w:";
val(inertia1.w,0.0);
val(inertia1.w,0.25);
val(inertia1.w,0.5);
val(inertia1.w,0.75);
val(inertia1.w,1.0);

"inertia1.a:";
val(inertia1.a,0.0);
val(inertia1.a,0.25);
val(inertia1.a,0.5);
val(inertia1.a,0.75);
val(inertia1.a,1.0);

"idealGear.flange_a.phi:";
val(idealGear.flange_a.phi,0.0);
val(idealGear.flange_a.phi,0.25);
val(idealGear.flange_a.phi,0.5);
val(idealGear.flange_a.phi,0.75);
val(idealGear.flange_a.phi,1.0);

"idealGear.flange_a.tau:";
val(idealGear.flange_a.tau,0.0);
val(idealGear.flange_a.tau,0.25);
val(idealGear.flange_a.tau,0.5);
val(idealGear.flange_a.tau,0.75);
val(idealGear.flange_a.tau,1.0);

"idealGear.flange_b.phi:";
val(idealGear.flange_b.phi,0.0);
val(idealGear.flange_b.phi,0.25);
val(idealGear.flange_b.phi,0.5);
val(idealGear.flange_b.phi,0.75);
val(idealGear.flange_b.phi,1.0);

"idealGear.flange_b.tau:";
val(idealGear.flange_b.tau,0.0);
val(idealGear.flange_b.tau,0.25);
val(idealGear.flange_b.tau,0.5);
val(idealGear.flange_b.tau,0.75);
val(idealGear.flange_b.tau,1.0);

"idealGear.tau_support:";
val(idealGear.tau_support,0.0);
val(idealGear.tau_support,0.25);
val(idealGear.tau_support,0.5);
val(idealGear.tau_support,0.75);
val(idealGear.tau_support,1.0);

"idealGear.phi_a:";
val(idealGear.phi_a,0.0);
val(idealGear.phi_a,0.25);
val(idealGear.phi_a,0.5);
val(idealGear.phi_a,0.75);
val(idealGear.phi_a,1.0);

"idealGear.phi_b:";
val(idealGear.phi_b,0.0);
val(idealGear.phi_b,0.25);
val(idealGear.phi_b,0.5);
val(idealGear.phi_b,0.75);
val(idealGear.phi_b,1.0);

"inertia2.phi:";
val(inertia2.phi,0.0);
val(inertia2.phi,0.25);
val(inertia2.phi,0.5);
val(inertia2.phi,0.75);
val(inertia2.phi,1.0);

"inertia2.flange_a.phi:";
val(inertia2.flange_a.phi,0.0);
val(inertia2.flange_a.phi,0.25);
val(inertia2.flange_a.phi,0.5);
val(inertia2.flange_a.phi,0.75);
val(inertia2.flange_a.phi,1.0);

"inertia2.flange_a.tau:";
val(inertia2.flange_a.tau,0.0);
val(inertia2.flange_a.tau,0.25);
val(inertia2.flange_a.tau,0.5);
val(inertia2.flange_a.tau,0.75);
val(inertia2.flange_a.tau,1.0);

"inertia2.flange_b.phi:";
val(inertia2.flange_b.phi,0.0);
val(inertia2.flange_b.phi,0.25);
val(inertia2.flange_b.phi,0.5);
val(inertia2.flange_b.phi,0.75);
val(inertia2.flange_b.phi,1.0);

"inertia2.flange_b.tau:";
val(inertia2.flange_b.tau,0.0);
val(inertia2.flange_b.tau,0.25);
val(inertia2.flange_b.tau,0.5);
val(inertia2.flange_b.tau,0.75);
val(inertia2.flange_b.tau,1.0);

"inertia2.w:";
val(inertia2.w,0.0);
val(inertia2.w,0.25);
val(inertia2.w,0.5);
val(inertia2.w,0.75);
val(inertia2.w,1.0);

"inertia2.a:";
val(inertia2.a,0.0);
val(inertia2.a,0.25);
val(inertia2.a,0.5);
val(inertia2.a,0.75);
val(inertia2.a,1.0);

"spring.phi_rel:";
val(spring.phi_rel,0.0);
val(spring.phi_rel,0.25);
val(spring.phi_rel,0.5);
val(spring.phi_rel,0.75);
val(spring.phi_rel,1.0);

"spring.tau:";
val(spring.tau,0.0);
val(spring.tau,0.25);
val(spring.tau,0.5);
val(spring.tau,0.75);
val(spring.tau,1.0);

"spring.flange_a.phi:";
val(spring.flange_a.phi,0.0);
val(spring.flange_a.phi,0.25);
val(spring.flange_a.phi,0.5);
val(spring.flange_a.phi,0.75);
val(spring.flange_a.phi,1.0);

"spring.flange_a.tau:";
val(spring.flange_a.tau,0.0);
val(spring.flange_a.tau,0.25);
val(spring.flange_a.tau,0.5);
val(spring.flange_a.tau,0.75);
val(spring.flange_a.tau,1.0);

"spring.flange_b.phi:";
val(spring.flange_b.phi,0.0);
val(spring.flange_b.phi,0.25);
val(spring.flange_b.phi,0.5);
val(spring.flange_b.phi,0.75);
val(spring.flange_b.phi,1.0);

"spring.flange_b.tau:";
val(spring.flange_b.tau,0.0);
val(spring.flange_b.tau,0.25);
val(spring.flange_b.tau,0.5);
val(spring.flange_b.tau,0.75);
val(spring.flange_b.tau,1.0);

"inertia3.phi:";
val(inertia3.phi,0.0);
val(inertia3.phi,0.25);
val(inertia3.phi,0.5);
val(inertia3.phi,0.75);
val(inertia3.phi,1.0);

"inertia3.flange_a.phi:";
val(inertia3.flange_a.phi,0.0);
val(inertia3.flange_a.phi,0.25);
val(inertia3.flange_a.phi,0.5);
val(inertia3.flange_a.phi,0.75);
val(inertia3.flange_a.phi,1.0);

"inertia3.flange_a.tau:";
val(inertia3.flange_a.tau,0.0);
val(inertia3.flange_a.tau,0.25);
val(inertia3.flange_a.tau,0.5);
val(inertia3.flange_a.tau,0.75);
val(inertia3.flange_a.tau,1.0);

"inertia3.flange_b.phi:";
val(inertia3.flange_b.phi,0.0);
val(inertia3.flange_b.phi,0.25);
val(inertia3.flange_b.phi,0.5);
val(inertia3.flange_b.phi,0.75);
val(inertia3.flange_b.phi,1.0);

"inertia3.w:";
val(inertia3.w,0.0);
val(inertia3.w,0.25);
val(inertia3.w,0.5);
val(inertia3.w,0.75);
val(inertia3.w,1.0);

"inertia3.a:";
val(inertia3.a,0.0);
val(inertia3.a,0.25);
val(inertia3.a,0.5);
val(inertia3.a,0.75);
val(inertia3.a,1.0);

"damper.phi_rel:";
val(damper.phi_rel,0.0);
val(damper.phi_rel,0.25);
val(damper.phi_rel,0.5);
val(damper.phi_rel,0.75);
val(damper.phi_rel,1.0);

"damper.tau:";
val(damper.tau,0.0);
val(damper.tau,0.25);
val(damper.tau,0.5);
val(damper.tau,0.75);
val(damper.tau,1.0);

"damper.flange_a.phi:";
val(damper.flange_a.phi,0.0);
val(damper.flange_a.phi,0.25);
val(damper.flange_a.phi,0.5);
val(damper.flange_a.phi,0.75);
val(damper.flange_a.phi,1.0);

"damper.flange_a.tau:";
val(damper.flange_a.tau,0.0);
val(damper.flange_a.tau,0.25);
val(damper.flange_a.tau,0.5);
val(damper.flange_a.tau,0.75);
val(damper.flange_a.tau,1.0);

"damper.flange_b.tau:";
val(damper.flange_b.tau,0.0);
val(damper.flange_b.tau,0.25);
val(damper.flange_b.tau,0.5);
val(damper.flange_b.tau,0.75);
val(damper.flange_b.tau,1.0);

"damper.w_rel:";
val(damper.w_rel,0.0);
val(damper.w_rel,0.25);
val(damper.w_rel,0.5);
val(damper.w_rel,0.75);
val(damper.w_rel,1.0);

"sine.y:";
val(sine.y,0.0);
val(sine.y,0.25);
val(sine.y,0.5);
val(sine.y,0.75);
val(sine.y,1.0);

// Result:
// true
// record SimulationResult
//     resultFile = "Modelica.Mechanics.Rotational.Examples.First_res.mat",
//     simulationOptions = "startTime = 0.0, stopTime = 10.0, numberOfIntervals = 500, tolerance = 0.0001, method = 'dassl', fileNamePrefix = 'Modelica.Mechanics.Rotational.Examples.First', options = '', outputFormat = 'mat', variableFilter = '.*', cflags = '', simflags = ''",
//     messages = "LOG_SUCCESS       | info    | The initialization finished successfully without homotopy method.
// LOG_SUCCESS       | info    | The simulation finished successfully.
// "
// end SimulationResult;
// "fixed.flange_b.tau:"
// 0.0
// -34.36838262493843
// 4.147882321808725
// 39.20970124907001
// 3.940190712976427
// "torque.tau:"
// 0.0
// 9.510565162951536
// 6.123233995736766e-15
// -9.510565162951536
// -1.224646799147353e-14
// "torque.flange_b.phi:"
// 0.0
// 0.4553185796959363
// 0.9583902402130858
// 1.387403372567175
// 1.623647136688377
// "torque.flange_b.tau:"
// -0.0
// -9.510565162951536
// -6.123233995736766e-15
// 9.510565162951536
// 1.224646799147353e-14
// "inertia1.phi:"
// 0.0
// 0.4553185796959363
// 0.9583902402130858
// 1.387403372567175
// 1.623647136688377
// "inertia1.flange_a.phi:"
// 0.0
// 0.4553185796959363
// 0.9583902402130858
// 1.387403372567175
// 1.623647136688377
// "inertia1.flange_a.tau:"
// 0.0
// 9.510565162951536
// 6.123233995736766e-15
// -9.510565162951536
// -1.224646799147353e-14
// "inertia1.flange_b.phi:"
// 0.0
// 0.4553185796959363
// 0.9583902402130858
// 1.387403372567175
// 1.623647136688377
// "inertia1.flange_b.tau:"
// -0.0
// -2.972069899647194
// 0.04756136118174901
// 3.161158199503413
// 0.561660479919186
// "inertia1.w:"
// 0.0
// 1.890811634837856
// 3.719830071172989
// 1.248712290587751
// -1.11475360629626
// "inertia1.a:"
// 0.0
// 65.38495263304341
// 0.4756136118175512
// -63.49406963448122
// 5.616604799191737
// "idealGear.flange_a.phi:"
// 0.0
// 0.4553185796959363
// 0.9583902402130858
// 1.387403372567175
// 1.623647136688377
// "idealGear.flange_a.tau:"
// 0.0
// 2.972069899647194
// -0.04756136118174901
// -3.161158199503413
// -0.561660479919186
// "idealGear.flange_b.phi:"
// 0.0
// 0.04553185796959363
// 0.09583902402130859
// 0.1387403372567175
// 0.1623647136688377
// "idealGear.flange_b.tau:"
// -0.0
// -29.72069899647194
// 0.4756136118174901
// 31.61158199503413
// 5.61660479919186
// "idealGear.tau_support:"
// 0.0
// 26.74862909682475
// -0.428052250635741
// -28.45042379553072
// -5.054944319272674
// "idealGear.phi_a:"
// 0.0
// 0.4553185796959363
// 0.9583902402130858
// 1.387403372567175
// 1.623647136688377
// "idealGear.phi_b:"
// 0.0
// 0.04553185796959363
// 0.09583902402130859
// 0.1387403372567175
// 0.1623647136688377
// "inertia2.phi:"
// 0.0
// 0.04553185796959363
// 0.09583902402130859
// 0.1387403372567175
// 0.1623647136688377
// "inertia2.flange_a.phi:"
// 0.0
// 0.04553185796959363
// 0.09583902402130859
// 0.1387403372567175
// 0.1623647136688377
// "inertia2.flange_a.tau:"
// 0.0
// 29.72069899647194
// -0.4756136118174901
// -31.61158199503413
// -5.61660479919186
// "inertia2.flange_b.phi:"
// 0.0
// 0.04553185796959363
// 0.09583902402130859
// 0.1387403372567175
// 0.1623647136688377
// "inertia2.flange_b.tau:"
// 0.0
// -16.64370846986326
// 0.5707363341810066
// 18.91276806813789
// 6.739925759030208
// "inertia2.w:"
// 0.0
// 0.1890811634837856
// 0.3719830071172989
// 0.1248712290587751
// -0.111475360629626
// "inertia2.a:"
// 0.0
// 6.538495263304341
// 0.04756136118175824
// -6.349406963448121
// 0.561660479919174
// "spring.phi_rel:"
// 0.0
// -0.00147528968350254
// 0.0004290566405353996
// 0.002016148035872564
// 0.0005625172152733948
// "spring.tau:"
// 0.0
// -14.7528968350254
// 4.290566405353996
// 20.16148035872564
// 5.625172152733948
// "spring.flange_a.phi:"
// 0.0
// 0.04553185796959363
// 0.09583902402130859
// 0.1387403372567175
// 0.1623647136688377
// "spring.flange_a.tau:"
// -0.0
// 14.7528968350254
// -4.290566405353996
// -20.16148035872564
// -5.625172152733948
// "spring.flange_b.phi:"
// 0.0
// 0.04405656828609109
// 0.09626808066184399
// 0.1407564852925901
// 0.1629272308841111
// "spring.flange_b.tau:"
// 0.0
// -14.7528968350254
// 4.290566405353996
// 20.16148035872564
// 5.625172152733948
// "inertia3.phi:"
// 0.0
// 0.04405656828609109
// 0.09626808066184399
// 0.1407564852925901
// 0.1629272308841111
// "inertia3.flange_a.phi:"
// 0.0
// 0.04405656828609109
// 0.09626808066184399
// 0.1407564852925901
// 0.1629272308841111
// "inertia3.flange_a.tau:"
// -0.0
// 14.7528968350254
// -4.290566405353996
// -20.16148035872564
// -5.625172152733948
// "inertia3.flange_b.phi:"
// 0.0
// 0.04405656828609109
// 0.09626808066184399
// 0.1407564852925901
// 0.1629272308841111
// "inertia3.w:"
// 0.0
// 0.2300392506649196
// 0.4724547498077783
// 0.1488150543463154
// -0.1427588434538897
// "inertia3.a:"
// -0.0
// 7.376448417512702
// -2.145283202676998
// -10.08074017936282
// -2.812586076366974
// "damper.phi_rel:"
// 0.0
// -0.04553185796959363
// -0.09583902402130859
// -0.1387403372567175
// -0.1623647136688377
// "damper.tau:"
// -0.0
// -1.890811634837856
// -3.719830071172989
// -1.248712290587751
// 1.11475360629626
// "damper.flange_a.phi:"
// 0.0
// 0.04553185796959363
// 0.09583902402130859
// 0.1387403372567175
// 0.1623647136688377
// "damper.flange_a.tau:"
// 0.0
// 1.890811634837856
// 3.719830071172989
// 1.248712290587751
// -1.11475360629626
// "damper.flange_b.tau:"
// -0.0
// -1.890811634837856
// -3.719830071172989
// -1.248712290587751
// 1.11475360629626
// "damper.w_rel:"
// -0.0
// -0.1890811634837856
// -0.3719830071172989
// -0.1248712290587751
// 0.111475360629626
// "sine.y:"
// 0.0
// 9.510565162951536
// 6.123233995736766e-15
// -9.510565162951536
// -1.224646799147353e-14
// endResult
