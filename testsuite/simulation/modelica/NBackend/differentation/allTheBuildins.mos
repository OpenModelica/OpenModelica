// name: solveSingleEquations
// keywords: NewBackend
// status: correct


loadString("
model oneArgBuiltins
  Real var1, var2, var3, var4, var5;
  Real var6, var7, var8, var9, var10;
  Real var12, var13, var14, var15; // var11 missing for sign
  Real var16, var17;
  Integer ivar1;
equation
  var1 = time;

  // Test reals
  abs(var1) = var2;
  acos(var2) = var3;          // -1 <= var <= 1
  asin(var2) = var4;          // -1 <= var <= 1
  atan(var4) = var5;          // -inf <= var <= inf
  cos(var3) = var6;           // -inf <= var <= inf
  cosh(var6) = var7;          // -inf <= var <= inf
  exp(var7) = var8;           // -inf <= var <= inf
  log(var2+0.1) = var9;       // 0 < var <= inf
  log10(var2+0.1) = var10;    // 0 < var <= inf
  // sign(var6) = var11;
  sin(var10) = var12;
  sinh(var12) = var13;
  sqrt(var2) = var14;
  tan(var14) = var15;
  tanh(var15) = var16;

  // Test integers
  ivar1 = integer(100*time);
  var17 = cos(ivar1);
end oneArgBuiltins;
"); getErrorString();


/*
loadString("
model twoArgBuiltins
  Real var1, var2;
equation
  // Builtin functions with two arguments
  atan2(var1, var2) = var3;       // tan(y) = u1/u2, y != pi (0.5 + k), k integer
  cross()
  der(x) = 2;
  y = delay(x, 1);
end twoArguiltins;
"); getErrorString();
*/

setCommandLineOptions("--newBackend -d=debugDifferentiation"); getErrorString();

buildModel(oneArgBuiltins); getErrorString();
