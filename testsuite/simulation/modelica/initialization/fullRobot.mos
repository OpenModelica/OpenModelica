// name:     fullRobot
// keywords: initialization MSL Example
// status: correct
// teardown_command: rm -rf Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot* _Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot* output.log
// cflags: -d=-newInst
//
// initialization results 
// Modelica Standard Library
//

loadModel(Modelica,{"3.1"});

simulate(Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot, startTime=0.0, stopTime=0.0); getErrorString();
val(axis1.controller.PI.x, 0);
val(axis1.gear.spring.phi_rel, 0);
val(axis1.gear.spring.w_rel, 0);
val(axis1.motor.C.v, 0);
val(axis1.motor.La.i, 0);
val(axis2.controller.PI.x, 0);
val(axis2.gear.spring.phi_rel, 0);
val(axis2.gear.spring.w_rel, 0);
val(axis2.motor.C.v, 0);
val(axis2.motor.La.i, 0);
val(axis3.controller.PI.x, 0);
val(axis3.gear.spring.phi_rel, 0);
val(axis3.gear.spring.w_rel, 0);
val(axis3.motor.C.v, 0);
val(axis3.motor.La.i, 0);
val(axis4.controller.PI.x, 0);
val(axis4.motor.C.v, 0);
val(axis4.motor.La.i, 0);
val(axis5.controller.PI.x, 0);
val(axis5.motor.C.v, 0);
val(axis5.motor.La.i, 0);
val(axis6.controller.PI.x, 0);
val(axis6.motor.C.v, 0);
val(axis6.motor.La.i, 0);
val(mechanics.b2.body.w_a[1], 0);
val(mechanics.r1.phi, 0);
val(mechanics.r1.w, 0);
val(mechanics.r2.phi, 0);
val(mechanics.r3.phi, 0);
val(mechanics.r3.w, 0);
val(mechanics.r4.phi, 0);
val(mechanics.r4.w, 0);
val(mechanics.r5.phi, 0);
val(mechanics.r5.w, 0);
val(mechanics.r6.phi, 0);
val(mechanics.r6.w, 0);

// Result:
// true
// record SimulationResult
//     resultFile = "Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot_res.mat",
//     simulationOptions = "startTime = 0.0, stopTime = 0.0, numberOfIntervals = 500, tolerance = 1e-6, method = 'dassl', fileNamePrefix = 'Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot', options = '', outputFormat = 'mat', variableFilter = '.*', cflags = '', simflags = ''",
//     messages = "LOG_SUCCESS       | info    | The initialization finished successfully without homotopy method.
// LOG_SUCCESS       | info    | The simulation finished successfully.
// "
// end SimulationResult;
// "[Modelica 3.1.0+maint.om/Mechanics/MultiBody/Parts.mo:948:5-949:59:writable] Warning: Parameter mechanics.load.r[3] has no value, and is fixed during initialization (fixed=true), using available start value (start=0.0) as default value.
// [Modelica 3.1.0+maint.om/Mechanics/MultiBody/Parts.mo:948:5-949:59:writable] Warning: Parameter mechanics.load.r[2] has no value, and is fixed during initialization (fixed=true), using available start value (start=0.0) as default value.
// [Modelica 3.1.0+maint.om/Mechanics/MultiBody/Parts.mo:948:5-949:59:writable] Warning: Parameter mechanics.load.r[1] has no value, and is fixed during initialization (fixed=true), using available start value (start=0.0) as default value.
// "
// -1.1651297647909292e-16
// 1.5737380636990038e-18
// 0.0
// 2.912824411977323e-15
// -5.825648823954646e-17
// -5.146936976669325
// 0.27415086170667075
// 0.0
// 94.40456670339901
// -1.8880913340679804
// -7.726060447507483
// 0.07367818054499484
// 0.0
// 183.94173861956358
// -3.6788347723912715
// -1.2008487863935242
// 30.021219659838106
// -0.6004243931967621
// -1.4485586307863916
// 36.213965769659794
// -0.7242793153931958
// 1.9925158957926655e-16
// -4.981289739481663e-15
// 9.962579478963328e-17
// 0.0
// -1.0471975511965976
// -0.0
// 0.3490658503988659
// 1.5707963267948963
// 0.0
// 0.0
// 0.0
// -1.9198621771937625
// 0.0
// 0.0
// 0.0
// endResult
